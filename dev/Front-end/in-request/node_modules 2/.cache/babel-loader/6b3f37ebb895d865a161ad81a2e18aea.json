{"ast":null,"code":"function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { Component } from 'react';\nimport { compose } from 'recompose';\nimport { withTheme } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { normalizeColor, parseMetricToNum } from '../../utils';\nimport { StyledWorldMap } from './StyledWorldMap'; // The graphic is drawn as a rectangular grid using coordinates spaced\n// by FACTOR pixels. The contents have both an area boundary for interaction\n// and dots described as rows where each row is described by three values:\n// a starting coordinate and a length. This approach is more efficient than\n// describing it via SVG elements, keeping the code/library size smaller.\n\nvar CONTINENTS = [{\n  name: 'Australia',\n  origin: [74, 32],\n  area: [[4, 0], [7, 1], [15, 7], [13, 9], [0, 6], [0, 2]],\n  dots: [[4, 0, 1], [2, 1, 6], [0, 2, 9], [0, 3, 10], [0, 4, 10], [0, 5, 3], [5, 5, 5], [5, 6, 4], [15, 7, 1], [14, 8, 1], [13, 9, 1]]\n}, {\n  name: 'Asia',\n  origin: [52, 1],\n  area: [[16, 0], [38, 5], [40, 7], [28, 17], [24, 25], [29, 29], [19, 29], [11, 24], [3, 23], [0, 20], [0, 19], [6, 13], [7, 6]],\n  dots: [[16, 0, 1], [17, 1, 2], [18, 2, 2], [15, 3, 6], [28, 3, 1], [30, 3, 1], [10, 4, 2], [13, 4, 10], [24, 4, 1], [9, 5, 22], [32, 5, 1], [38, 5, 1], [7, 6, 2], [10, 6, 1], [12, 6, 27], [7, 7, 34], [7, 8, 31], [7, 9, 26], [34, 9, 3], [7, 10, 22], [31, 10, 1], [33, 10, 1], [7, 11, 21], [32, 11, 2], [7, 12, 21], [32, 12, 1], [6, 13, 22], [32, 13, 1], [6, 14, 22], [5, 15, 22], [3, 16, 2], [6, 16, 20], [2, 17, 3], [6, 17, 16], [24, 17, 1], [28, 17, 1], [1, 18, 22], [26, 18, 2], [0, 19, 24], [0, 20, 5], [6, 20, 17], [2, 21, 5], [10, 21, 14], [2, 22, 5], [11, 22, 4], [16, 22, 4], [3, 23, 3], [11, 23, 2], [17, 23, 3], [23, 23, 1], [11, 24, 2], [18, 24, 2], [23, 24, 1], [24, 25, 1], [18, 26, 1], [22, 26, 1], [18, 27, 1], [20, 27, 4], [18, 28, 1], [21, 28, 1], [23, 28, 1], [26, 28, 3], [19, 29, 1], [28, 29, 2]]\n}, {\n  // 21X, 40Y\n  name: 'Africa',\n  origin: [40, 19],\n  area: [[3, 0], [6, 0], [11, 2], [16, 7], [16, 15], [11, 18], [9, 18], [0, 6], [0, 3]],\n  dots: [[3, 0, 4], [2, 1, 6], [9, 1, 2], [1, 2, 11], [0, 3, 13], [0, 4, 14], [0, 5, 14], [0, 6, 16], [1, 7, 16], [2, 8, 2], [6, 8, 11], [7, 9, 9], [7, 10, 8], [7, 11, 7], [8, 12, 7], [7, 13, 8], [7, 14, 7], [16, 14, 1], [8, 15, 5], [15, 15, 2], [8, 16, 5], [9, 17, 3], [9, 18, 3]]\n}, {\n  name: 'Europe',\n  origin: [39, 2],\n  area: [[8, 0], [10, 0], [20, 2], [19, 11], [18, 13], [14, 16], [3, 16], [0, 7]],\n  dots: [[8, 0, 3], [9, 1, 1], [20, 2, 1], [19, 3, 1], [12, 4, 1], [19, 4, 1], [9, 5, 6], [9, 6, 7], [17, 6, 3], [0, 7, 1], [8, 7, 12], [7, 8, 3], [11, 8, 9], [7, 9, 3], [11, 9, 9], [4, 10, 1], [7, 10, 1], [9, 10, 1], [11, 10, 9], [3, 11, 2], [7, 11, 13], [4, 12, 1], [6, 12, 13], [4, 13, 15], [5, 14, 3], [9, 14, 4], [15, 14, 2], [3, 15, 3], [8, 15, 1], [10, 15, 5], [6, 15, 2], [3, 16, 2], [10, 16, 5]]\n}, {\n  name: 'South America',\n  origin: [22, 26],\n  area: [[2, 0], [5, 0], [11, 4], [11, 8], [3, 18], [2, 17], [0, 4], [0, 3]],\n  dots: [[2, 0, 4], [1, 1, 7], [1, 2, 7], [0, 3, 10], [0, 4, 12], [1, 5, 11], [2, 6, 9], [3, 7, 8], [3, 8, 8], [3, 9, 6], [3, 10, 6], [3, 11, 5], [3, 12, 3], [2, 13, 3], [2, 14, 3], [2, 15, 2], [2, 16, 2], [2, 17, 2], [3, 18, 1]]\n}, {\n  name: 'North America',\n  origin: [0, 0],\n  area: [[21, 0], [39, 0], [39, 6], [22, 26], [16, 23], [2, 12], [0, 7]],\n  dots: [[22, 0, 6], [29, 0, 1], [31, 0, 1], [33, 0, 5], [20, 1, 1], [22, 1, 1], [24, 1, 2], [27, 1, 13], [17, 2, 1], [20, 2, 5], [26, 2, 13], [13, 3, 1], [19, 3, 1], [21, 3, 3], [26, 3, 14], [14, 4, 1], [16, 4, 4], [21, 4, 3], [29, 4, 11], [12, 5, 3], [16, 5, 1], [18, 5, 1], [20, 5, 3], [24, 5, 1], [30, 5, 8], [14, 6, 3], [19, 6, 1], [22, 6, 4], [31, 6, 8], [0, 7, 15], [16, 7, 1], [18, 7, 4], [24, 7, 2], [30, 7, 7], [2, 8, 20], [24, 8, 3], [29, 8, 5], [2, 9, 20], [24, 9, 2], [30, 9, 3], [1, 10, 18], [23, 10, 2], [31, 10, 1], [2, 11, 2], [8, 11, 11], [23, 11, 2], [26, 11, 1], [2, 12, 1], [8, 12, 13], [24, 12, 3], [10, 13, 12], [23, 13, 5], [11, 14, 17], [11, 15, 9], [21, 15, 6], [28, 15, 2], [11, 16, 11], [23, 16, 4], [11, 17, 14], [12, 18, 11], [12, 19, 12], [13, 20, 9], [15, 21, 3], [22, 21, 1], [16, 22, 2], [16, 23, 2], [20, 23, 1], [23, 23, 1], [18, 24, 3], [21, 25, 1], [22, 26, 1]]\n}]; // FACTOR is the distance in pixels between coordinates\n\nvar FACTOR = 10;\n\nvar maxCoordinate = function maxCoordinate(a, b) {\n  return [Math.max(a[0], b[0]), Math.max(a[1], b[1])];\n}; // const minCoordinate = (a, b) =>\n//   [Math.min(a[0], b[0]), Math.min(a[1], b[1])];\n// Based on https://stackoverflow.com/a/43861247\n\n\nvar MAP_LAT_BOTTOM = -50.0; // empirically determined\n\nvar MAP_LAT_BOTTOM_RAD = MAP_LAT_BOTTOM * Math.PI / 180;\nvar MAP_LON_LEFT = -171.0; // empirically determined\n\nvar MAP_LON_RIGHT = 184.0; // empirically determined\n\nvar MAP_LON_DELTA = MAP_LON_RIGHT - MAP_LON_LEFT;\n\nvar mapValues = function mapValues(extent) {\n  var mapRadius = extent[0] / MAP_LON_DELTA * 360 / (2 * Math.PI);\n  var mapOffsetY = Math.round(mapRadius / 2 * Math.log((1 + Math.sin(MAP_LAT_BOTTOM_RAD)) / (1 - Math.sin(MAP_LAT_BOTTOM_RAD))));\n  return {\n    mapRadius: mapRadius,\n    mapOffsetY: mapOffsetY\n  };\n};\n\nvar latLonToCoord = function latLonToCoord(latLon, origin, extent) {\n  var _mapValues = mapValues(extent),\n      mapRadius = _mapValues.mapRadius,\n      mapOffsetY = _mapValues.mapOffsetY;\n\n  var x = Math.round((latLon[1] - MAP_LON_LEFT) * extent[0] / MAP_LON_DELTA);\n  var latitudeRad = latLon[0] * Math.PI / 180;\n  var y = extent[1] + mapOffsetY - Math.round(mapRadius / 2 * Math.log((1 + Math.sin(latitudeRad)) / (1 - Math.sin(latitudeRad))));\n  return [x, y]; // the coordinate value of this point on the map image\n};\n\nvar coordToLatLon = function coordToLatLon(coord, origin, extent) {\n  var _mapValues2 = mapValues(extent),\n      mapRadius = _mapValues2.mapRadius,\n      mapOffsetY = _mapValues2.mapOffsetY;\n\n  var a = (extent[1] + mapOffsetY - coord[1]) / mapRadius;\n  var lat = 180 / Math.PI * (2 * Math.atan(Math.exp(a)) - Math.PI / 2);\n  var lon = coord[0] * MAP_LON_DELTA / extent[0] + MAP_LON_LEFT;\n  return [lat, lon];\n};\n\nvar buildContinentState = function buildContinentState(_ref) {\n  var area = _ref.area,\n      dots = _ref.dots,\n      origin = _ref.origin;\n  var extent = [].concat(origin);\n  var stateDots = dots.map(function (segment) {\n    var count = segment[2];\n    var spots = [];\n\n    for (var i = 0; i < count; i += 1) {\n      spots.push('h0');\n    }\n\n    var dotCommands = spots.join(' m10,0 ');\n    var x = FACTOR * (origin[0] + segment[0] + 1);\n    var y = FACTOR * (origin[1] + segment[1] + 1);\n    extent = maxCoordinate(extent, [origin[0] + segment[0] + segment[2], origin[1] + segment[1]]);\n    return \"M\" + x + \",\" + y + \" \" + dotCommands;\n  }).join(' ');\n  var stateArea = area.map(function (point, index) {\n    var x = FACTOR * (point[0] + origin[0] + 1);\n    var y = FACTOR * (point[1] + origin[1] + 1);\n    return \"\" + (index === 0 ? 'M' : 'L') + x + \",\" + y;\n  }).join(' ') + \" Z\";\n  var mid = [origin[0] + (extent[0] - origin[0]) / 2, origin[1] + (extent[1] - origin[1]) / 2];\n  return {\n    area: stateArea,\n    dots: stateDots,\n    origin: origin,\n    extent: extent,\n    mid: mid\n  };\n};\n\nvar buildState = function buildState() {\n  var continents = {}; // Build the SVG paths describing the individual dots\n\n  var origin = [0, 0];\n  var extent = [0, 0];\n  CONTINENTS.forEach(function (continent) {\n    continents[continent.name] = buildContinentState(continent);\n    extent = maxCoordinate(extent, continents[continent.name].extent);\n  });\n  return {\n    continents: continents,\n    extent: extent,\n    origin: origin,\n    x: origin[0] * FACTOR,\n    y: origin[1] * FACTOR,\n    width: (extent[0] - origin[0] + 1) * FACTOR,\n    height: (extent[1] - origin[1] + 2) * FACTOR\n  };\n};\n\nvar updateState = function updateState(state, _ref2) {\n  var continents = _ref2.continents,\n      places = _ref2.places;\n\n  var nextState = _extends({}, state);\n\n  if (continents) {\n    continents.forEach(function (continent) {\n      nextState.continents[continent.name] = _extends({}, state.continents[continent.name], {}, continent);\n    });\n  }\n\n  nextState.places = (places || []).map(function (_ref3) {\n    var location = _ref3.location,\n        place = _objectWithoutPropertiesLoose(_ref3, [\"location\"]);\n\n    var coords = latLonToCoord(location, state.origin, state.extent);\n    return _extends({\n      coords: coords,\n      key: location.join(',')\n    }, place);\n  });\n  return nextState;\n};\n\nvar buildInteractiveProps = function buildInteractiveProps(_ref4, activeFunc, active) {\n  var name = _ref4.name,\n      onClick = _ref4.onClick,\n      onHover = _ref4.onHover;\n  return {\n    role: 'button',\n    'aria-label': name,\n    tabIndex: '0',\n    onClick: onClick ? function () {\n      return onClick(name);\n    } : undefined,\n    onMouseOver: function onMouseOver() {\n      if (!active) {\n        activeFunc(name);\n\n        if (onHover) {\n          onHover(true);\n        }\n      }\n    },\n    onMouseLeave: function onMouseLeave() {\n      if (active) {\n        activeFunc(undefined);\n\n        if (onHover) {\n          onHover(false);\n        }\n      }\n    },\n    onFocus: function onFocus() {\n      // This moves the map unnecessarily. Instead, we should check\n      // the position and scroll if it isn't already visible\n      // this._worldMapRef.scrollIntoView();\n      if (!active) {\n        activeFunc(name);\n      }\n    },\n    onBlur: function onBlur() {\n      if (active) {\n        activeFunc(undefined);\n      }\n    }\n  };\n};\n\nvar WorldMap =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(WorldMap, _Component);\n\n  function WorldMap() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseOver\", function () {\n      // track when we're over the map to avoid dealing with mouse moves\n      _this.setState({\n        over: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseMove\", function (event) {\n      var width = _this.state.width; // determine the map coordinates for where the mouse is\n      // containerRef uses the group so we can handle aspect ratio scaling\n\n      var rect = _this.containerRef.getBoundingClientRect();\n\n      var scale = rect.width / width; // since the SVG viewBox might be scaled\n\n      var coords = [Math.round((event.clientX - rect.left) / scale / FACTOR), Math.round((event.clientY - rect.top) / scale / FACTOR)];\n\n      _this.setState({\n        activeCoords: coords\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function () {\n      _this.setState({\n        over: false,\n        activeCoords: undefined\n      });\n    });\n\n    return _this;\n  }\n\n  WorldMap.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    if (!prevState.continents) {\n      return updateState(buildState(), nextProps);\n    }\n\n    return updateState(prevState, nextProps);\n  };\n\n  var _proto = WorldMap.prototype;\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props = this.props,\n        color = _this$props.color,\n        fill = _this$props.fill,\n        onSelectPlace = _this$props.onSelectPlace,\n        hoverColor = _this$props.hoverColor,\n        theme = _this$props.theme,\n        rest = _objectWithoutPropertiesLoose(_this$props, [\"color\", \"fill\", \"onSelectPlace\", \"hoverColor\", \"theme\"]);\n\n    delete rest.places;\n    delete rest.continents;\n    var _this$state = this.state,\n        activeContinent = _this$state.activeContinent,\n        activeCoords = _this$state.activeCoords,\n        activePlace = _this$state.activePlace,\n        continentStates = _this$state.continents,\n        extent = _this$state.extent,\n        origin = _this$state.origin,\n        over = _this$state.over,\n        placeStates = _this$state.places,\n        x = _this$state.x,\n        y = _this$state.y,\n        width = _this$state.width,\n        height = _this$state.height;\n    var continents = Object.keys(continentStates).map(function (name) {\n      var _continentStates$name = continentStates[name],\n          area = _continentStates$name.area,\n          continentColor = _continentStates$name.color,\n          dots = _continentStates$name.dots,\n          onClick = _continentStates$name.onClick,\n          onHover = _continentStates$name.onHover;\n      var active = activeContinent && activeContinent === name;\n      var interactiveProps = {};\n\n      if (onClick || onHover) {\n        interactiveProps = buildInteractiveProps(continentStates[name], function (activate) {\n          return _this2.setState({\n            activeContinent: activate\n          });\n        }, active);\n      }\n\n      return React.createElement(\"g\", _extends({\n        key: name\n      }, interactiveProps), React.createElement(\"path\", {\n        stroke: \"none\",\n        fill: \"#fff\",\n        fillOpacity: \"0.01\",\n        d: area\n      }), React.createElement(\"path\", {\n        d: dots,\n        strokeLinecap: \"round\",\n        strokeWidth: parseMetricToNum(theme.worldMap.continent[active ? 'active' : 'base']),\n        stroke: normalizeColor(continentColor || color || theme.worldMap.color, theme)\n      }));\n    });\n    var places = placeStates.map(function (place) {\n      var placeColor = place.color,\n          coords = place.coords,\n          key = place.key,\n          name = place.name,\n          onClick = place.onClick,\n          onHover = place.onHover,\n          restPlace = _objectWithoutPropertiesLoose(place, [\"color\", \"coords\", \"key\", \"name\", \"onClick\", \"onHover\"]);\n\n      var d = \"M\" + FACTOR * coords[0] + \", \" + FACTOR * coords[1] + \" h0\";\n      var active = activePlace && activePlace === name;\n      var interactiveProps = {};\n\n      if (onClick || onHover) {\n        interactiveProps = buildInteractiveProps(place, function (activate) {\n          return _this2.setState({\n            activePlace: activate\n          });\n        }, active);\n      }\n\n      return React.createElement(\"path\", _extends({\n        key: key,\n        strokeLinecap: \"round\",\n        strokeWidth: parseMetricToNum(theme.worldMap.place[active ? 'active' : 'base']),\n        stroke: normalizeColor(placeColor || color || theme.worldMap.color, theme)\n      }, interactiveProps, restPlace, {\n        d: d\n      }));\n    }); // If the caller is interested in onSelectPlace changes, track where the\n\n    var interactiveProps = {};\n\n    if (onSelectPlace) {\n      interactiveProps = {\n        onMouseOver: this.onMouseOver,\n        onMouseMove: over ? this.onMouseMove : undefined,\n        onMouseLeave: this.onMouseLeave\n      };\n    }\n\n    var active;\n\n    if (activeCoords) {\n      var d = \"M\" + FACTOR * activeCoords[0] + \", \" + FACTOR * activeCoords[1] + \" h0\";\n      active = React.createElement(\"g\", {\n        stroke: \"none\",\n        fill: \"none\",\n        fillRule: \"evenodd\",\n        onClick: function onClick() {\n          return onSelectPlace(coordToLatLon(activeCoords, origin, extent));\n        }\n      }, React.createElement(\"path\", {\n        strokeLinecap: \"round\",\n        strokeWidth: parseMetricToNum(theme.worldMap.place.active),\n        stroke: normalizeColor(hoverColor || color || theme.worldMap.hover.color, theme),\n        d: d\n      }));\n    }\n\n    return React.createElement(StyledWorldMap, _extends({\n      viewBox: x + \" \" + y + \" \" + width + \" \" + height,\n      preserveAspectRatio: \"xMinYMin meet\",\n      fillProp: fill,\n      width: width,\n      height: height\n    }, interactiveProps, rest), React.createElement(\"g\", {\n      ref: function ref(_ref5) {\n        _this2.containerRef = _ref5;\n      },\n      stroke: \"none\",\n      fill: \"none\",\n      fillRule: \"evenodd\"\n    }, continents), places, active);\n  };\n\n  return WorldMap;\n}(Component);\n\nWorldMap.defaultProps = {};\nObject.setPrototypeOf(WorldMap.defaultProps, defaultProps);\nvar WorldMapDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  WorldMapDoc = require('./doc').doc(WorldMap);\n}\n\nvar WorldMapWrapper = compose(withTheme)(WorldMapDoc || WorldMap);\nexport { WorldMapWrapper as WorldMap };","map":{"version":3,"sources":["/Users/qier/Documents/cs407/In-request_cs407/dev/Front-end/in-request/node_modules/grommet/es6/components/WorldMap/WorldMap.js"],"names":["_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","_defineProperty","obj","key","value","defineProperty","enumerable","configurable","writable","_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","keys","i","length","indexOf","_extends","assign","arguments","hasOwnProperty","call","apply","React","Component","compose","withTheme","defaultProps","normalizeColor","parseMetricToNum","StyledWorldMap","CONTINENTS","name","origin","area","dots","FACTOR","maxCoordinate","a","b","Math","max","MAP_LAT_BOTTOM","MAP_LAT_BOTTOM_RAD","PI","MAP_LON_LEFT","MAP_LON_RIGHT","MAP_LON_DELTA","mapValues","extent","mapRadius","mapOffsetY","round","log","sin","latLonToCoord","latLon","_mapValues","x","latitudeRad","y","coordToLatLon","coord","_mapValues2","lat","atan","exp","lon","buildContinentState","_ref","concat","stateDots","map","segment","count","spots","push","dotCommands","join","stateArea","point","index","mid","buildState","continents","forEach","continent","width","height","updateState","state","_ref2","places","nextState","_ref3","location","place","coords","buildInteractiveProps","_ref4","activeFunc","active","onClick","onHover","role","tabIndex","undefined","onMouseOver","onMouseLeave","onFocus","onBlur","WorldMap","_Component","_this","_len","args","Array","_key","setState","over","event","rect","containerRef","getBoundingClientRect","scale","clientX","left","clientY","top","activeCoords","getDerivedStateFromProps","nextProps","prevState","_proto","render","_this2","_this$props","props","color","fill","onSelectPlace","hoverColor","theme","rest","_this$state","activeContinent","activePlace","continentStates","placeStates","_continentStates$name","continentColor","interactiveProps","activate","createElement","stroke","fillOpacity","d","strokeLinecap","strokeWidth","worldMap","placeColor","restPlace","onMouseMove","fillRule","hover","viewBox","preserveAspectRatio","fillProp","ref","_ref5","setPrototypeOf","WorldMapDoc","process","env","NODE_ENV","require","doc","WorldMapWrapper"],"mappings":"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","sourcesContent":["function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { Component } from 'react';\nimport { compose } from 'recompose';\nimport { withTheme } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { normalizeColor, parseMetricToNum } from '../../utils';\nimport { StyledWorldMap } from './StyledWorldMap'; // The graphic is drawn as a rectangular grid using coordinates spaced\n// by FACTOR pixels. The contents have both an area boundary for interaction\n// and dots described as rows where each row is described by three values:\n// a starting coordinate and a length. This approach is more efficient than\n// describing it via SVG elements, keeping the code/library size smaller.\n\nvar CONTINENTS = [{\n  name: 'Australia',\n  origin: [74, 32],\n  area: [[4, 0], [7, 1], [15, 7], [13, 9], [0, 6], [0, 2]],\n  dots: [[4, 0, 1], [2, 1, 6], [0, 2, 9], [0, 3, 10], [0, 4, 10], [0, 5, 3], [5, 5, 5], [5, 6, 4], [15, 7, 1], [14, 8, 1], [13, 9, 1]]\n}, {\n  name: 'Asia',\n  origin: [52, 1],\n  area: [[16, 0], [38, 5], [40, 7], [28, 17], [24, 25], [29, 29], [19, 29], [11, 24], [3, 23], [0, 20], [0, 19], [6, 13], [7, 6]],\n  dots: [[16, 0, 1], [17, 1, 2], [18, 2, 2], [15, 3, 6], [28, 3, 1], [30, 3, 1], [10, 4, 2], [13, 4, 10], [24, 4, 1], [9, 5, 22], [32, 5, 1], [38, 5, 1], [7, 6, 2], [10, 6, 1], [12, 6, 27], [7, 7, 34], [7, 8, 31], [7, 9, 26], [34, 9, 3], [7, 10, 22], [31, 10, 1], [33, 10, 1], [7, 11, 21], [32, 11, 2], [7, 12, 21], [32, 12, 1], [6, 13, 22], [32, 13, 1], [6, 14, 22], [5, 15, 22], [3, 16, 2], [6, 16, 20], [2, 17, 3], [6, 17, 16], [24, 17, 1], [28, 17, 1], [1, 18, 22], [26, 18, 2], [0, 19, 24], [0, 20, 5], [6, 20, 17], [2, 21, 5], [10, 21, 14], [2, 22, 5], [11, 22, 4], [16, 22, 4], [3, 23, 3], [11, 23, 2], [17, 23, 3], [23, 23, 1], [11, 24, 2], [18, 24, 2], [23, 24, 1], [24, 25, 1], [18, 26, 1], [22, 26, 1], [18, 27, 1], [20, 27, 4], [18, 28, 1], [21, 28, 1], [23, 28, 1], [26, 28, 3], [19, 29, 1], [28, 29, 2]]\n}, {\n  // 21X, 40Y\n  name: 'Africa',\n  origin: [40, 19],\n  area: [[3, 0], [6, 0], [11, 2], [16, 7], [16, 15], [11, 18], [9, 18], [0, 6], [0, 3]],\n  dots: [[3, 0, 4], [2, 1, 6], [9, 1, 2], [1, 2, 11], [0, 3, 13], [0, 4, 14], [0, 5, 14], [0, 6, 16], [1, 7, 16], [2, 8, 2], [6, 8, 11], [7, 9, 9], [7, 10, 8], [7, 11, 7], [8, 12, 7], [7, 13, 8], [7, 14, 7], [16, 14, 1], [8, 15, 5], [15, 15, 2], [8, 16, 5], [9, 17, 3], [9, 18, 3]]\n}, {\n  name: 'Europe',\n  origin: [39, 2],\n  area: [[8, 0], [10, 0], [20, 2], [19, 11], [18, 13], [14, 16], [3, 16], [0, 7]],\n  dots: [[8, 0, 3], [9, 1, 1], [20, 2, 1], [19, 3, 1], [12, 4, 1], [19, 4, 1], [9, 5, 6], [9, 6, 7], [17, 6, 3], [0, 7, 1], [8, 7, 12], [7, 8, 3], [11, 8, 9], [7, 9, 3], [11, 9, 9], [4, 10, 1], [7, 10, 1], [9, 10, 1], [11, 10, 9], [3, 11, 2], [7, 11, 13], [4, 12, 1], [6, 12, 13], [4, 13, 15], [5, 14, 3], [9, 14, 4], [15, 14, 2], [3, 15, 3], [8, 15, 1], [10, 15, 5], [6, 15, 2], [3, 16, 2], [10, 16, 5]]\n}, {\n  name: 'South America',\n  origin: [22, 26],\n  area: [[2, 0], [5, 0], [11, 4], [11, 8], [3, 18], [2, 17], [0, 4], [0, 3]],\n  dots: [[2, 0, 4], [1, 1, 7], [1, 2, 7], [0, 3, 10], [0, 4, 12], [1, 5, 11], [2, 6, 9], [3, 7, 8], [3, 8, 8], [3, 9, 6], [3, 10, 6], [3, 11, 5], [3, 12, 3], [2, 13, 3], [2, 14, 3], [2, 15, 2], [2, 16, 2], [2, 17, 2], [3, 18, 1]]\n}, {\n  name: 'North America',\n  origin: [0, 0],\n  area: [[21, 0], [39, 0], [39, 6], [22, 26], [16, 23], [2, 12], [0, 7]],\n  dots: [[22, 0, 6], [29, 0, 1], [31, 0, 1], [33, 0, 5], [20, 1, 1], [22, 1, 1], [24, 1, 2], [27, 1, 13], [17, 2, 1], [20, 2, 5], [26, 2, 13], [13, 3, 1], [19, 3, 1], [21, 3, 3], [26, 3, 14], [14, 4, 1], [16, 4, 4], [21, 4, 3], [29, 4, 11], [12, 5, 3], [16, 5, 1], [18, 5, 1], [20, 5, 3], [24, 5, 1], [30, 5, 8], [14, 6, 3], [19, 6, 1], [22, 6, 4], [31, 6, 8], [0, 7, 15], [16, 7, 1], [18, 7, 4], [24, 7, 2], [30, 7, 7], [2, 8, 20], [24, 8, 3], [29, 8, 5], [2, 9, 20], [24, 9, 2], [30, 9, 3], [1, 10, 18], [23, 10, 2], [31, 10, 1], [2, 11, 2], [8, 11, 11], [23, 11, 2], [26, 11, 1], [2, 12, 1], [8, 12, 13], [24, 12, 3], [10, 13, 12], [23, 13, 5], [11, 14, 17], [11, 15, 9], [21, 15, 6], [28, 15, 2], [11, 16, 11], [23, 16, 4], [11, 17, 14], [12, 18, 11], [12, 19, 12], [13, 20, 9], [15, 21, 3], [22, 21, 1], [16, 22, 2], [16, 23, 2], [20, 23, 1], [23, 23, 1], [18, 24, 3], [21, 25, 1], [22, 26, 1]]\n}]; // FACTOR is the distance in pixels between coordinates\n\nvar FACTOR = 10;\n\nvar maxCoordinate = function maxCoordinate(a, b) {\n  return [Math.max(a[0], b[0]), Math.max(a[1], b[1])];\n}; // const minCoordinate = (a, b) =>\n//   [Math.min(a[0], b[0]), Math.min(a[1], b[1])];\n// Based on https://stackoverflow.com/a/43861247\n\n\nvar MAP_LAT_BOTTOM = -50.0; // empirically determined\n\nvar MAP_LAT_BOTTOM_RAD = MAP_LAT_BOTTOM * Math.PI / 180;\nvar MAP_LON_LEFT = -171.0; // empirically determined\n\nvar MAP_LON_RIGHT = 184.0; // empirically determined\n\nvar MAP_LON_DELTA = MAP_LON_RIGHT - MAP_LON_LEFT;\n\nvar mapValues = function mapValues(extent) {\n  var mapRadius = extent[0] / MAP_LON_DELTA * 360 / (2 * Math.PI);\n  var mapOffsetY = Math.round(mapRadius / 2 * Math.log((1 + Math.sin(MAP_LAT_BOTTOM_RAD)) / (1 - Math.sin(MAP_LAT_BOTTOM_RAD))));\n  return {\n    mapRadius: mapRadius,\n    mapOffsetY: mapOffsetY\n  };\n};\n\nvar latLonToCoord = function latLonToCoord(latLon, origin, extent) {\n  var _mapValues = mapValues(extent),\n      mapRadius = _mapValues.mapRadius,\n      mapOffsetY = _mapValues.mapOffsetY;\n\n  var x = Math.round((latLon[1] - MAP_LON_LEFT) * extent[0] / MAP_LON_DELTA);\n  var latitudeRad = latLon[0] * Math.PI / 180;\n  var y = extent[1] + mapOffsetY - Math.round(mapRadius / 2 * Math.log((1 + Math.sin(latitudeRad)) / (1 - Math.sin(latitudeRad))));\n  return [x, y]; // the coordinate value of this point on the map image\n};\n\nvar coordToLatLon = function coordToLatLon(coord, origin, extent) {\n  var _mapValues2 = mapValues(extent),\n      mapRadius = _mapValues2.mapRadius,\n      mapOffsetY = _mapValues2.mapOffsetY;\n\n  var a = (extent[1] + mapOffsetY - coord[1]) / mapRadius;\n  var lat = 180 / Math.PI * (2 * Math.atan(Math.exp(a)) - Math.PI / 2);\n  var lon = coord[0] * MAP_LON_DELTA / extent[0] + MAP_LON_LEFT;\n  return [lat, lon];\n};\n\nvar buildContinentState = function buildContinentState(_ref) {\n  var area = _ref.area,\n      dots = _ref.dots,\n      origin = _ref.origin;\n  var extent = [].concat(origin);\n  var stateDots = dots.map(function (segment) {\n    var count = segment[2];\n    var spots = [];\n\n    for (var i = 0; i < count; i += 1) {\n      spots.push('h0');\n    }\n\n    var dotCommands = spots.join(' m10,0 ');\n    var x = FACTOR * (origin[0] + segment[0] + 1);\n    var y = FACTOR * (origin[1] + segment[1] + 1);\n    extent = maxCoordinate(extent, [origin[0] + segment[0] + segment[2], origin[1] + segment[1]]);\n    return \"M\" + x + \",\" + y + \" \" + dotCommands;\n  }).join(' ');\n  var stateArea = area.map(function (point, index) {\n    var x = FACTOR * (point[0] + origin[0] + 1);\n    var y = FACTOR * (point[1] + origin[1] + 1);\n    return \"\" + (index === 0 ? 'M' : 'L') + x + \",\" + y;\n  }).join(' ') + \" Z\";\n  var mid = [origin[0] + (extent[0] - origin[0]) / 2, origin[1] + (extent[1] - origin[1]) / 2];\n  return {\n    area: stateArea,\n    dots: stateDots,\n    origin: origin,\n    extent: extent,\n    mid: mid\n  };\n};\n\nvar buildState = function buildState() {\n  var continents = {}; // Build the SVG paths describing the individual dots\n\n  var origin = [0, 0];\n  var extent = [0, 0];\n  CONTINENTS.forEach(function (continent) {\n    continents[continent.name] = buildContinentState(continent);\n    extent = maxCoordinate(extent, continents[continent.name].extent);\n  });\n  return {\n    continents: continents,\n    extent: extent,\n    origin: origin,\n    x: origin[0] * FACTOR,\n    y: origin[1] * FACTOR,\n    width: (extent[0] - origin[0] + 1) * FACTOR,\n    height: (extent[1] - origin[1] + 2) * FACTOR\n  };\n};\n\nvar updateState = function updateState(state, _ref2) {\n  var continents = _ref2.continents,\n      places = _ref2.places;\n\n  var nextState = _extends({}, state);\n\n  if (continents) {\n    continents.forEach(function (continent) {\n      nextState.continents[continent.name] = _extends({}, state.continents[continent.name], {}, continent);\n    });\n  }\n\n  nextState.places = (places || []).map(function (_ref3) {\n    var location = _ref3.location,\n        place = _objectWithoutPropertiesLoose(_ref3, [\"location\"]);\n\n    var coords = latLonToCoord(location, state.origin, state.extent);\n    return _extends({\n      coords: coords,\n      key: location.join(',')\n    }, place);\n  });\n  return nextState;\n};\n\nvar buildInteractiveProps = function buildInteractiveProps(_ref4, activeFunc, active) {\n  var name = _ref4.name,\n      onClick = _ref4.onClick,\n      onHover = _ref4.onHover;\n  return {\n    role: 'button',\n    'aria-label': name,\n    tabIndex: '0',\n    onClick: onClick ? function () {\n      return onClick(name);\n    } : undefined,\n    onMouseOver: function onMouseOver() {\n      if (!active) {\n        activeFunc(name);\n\n        if (onHover) {\n          onHover(true);\n        }\n      }\n    },\n    onMouseLeave: function onMouseLeave() {\n      if (active) {\n        activeFunc(undefined);\n\n        if (onHover) {\n          onHover(false);\n        }\n      }\n    },\n    onFocus: function onFocus() {\n      // This moves the map unnecessarily. Instead, we should check\n      // the position and scroll if it isn't already visible\n      // this._worldMapRef.scrollIntoView();\n      if (!active) {\n        activeFunc(name);\n      }\n    },\n    onBlur: function onBlur() {\n      if (active) {\n        activeFunc(undefined);\n      }\n    }\n  };\n};\n\nvar WorldMap =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(WorldMap, _Component);\n\n  function WorldMap() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseOver\", function () {\n      // track when we're over the map to avoid dealing with mouse moves\n      _this.setState({\n        over: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseMove\", function (event) {\n      var width = _this.state.width; // determine the map coordinates for where the mouse is\n      // containerRef uses the group so we can handle aspect ratio scaling\n\n      var rect = _this.containerRef.getBoundingClientRect();\n\n      var scale = rect.width / width; // since the SVG viewBox might be scaled\n\n      var coords = [Math.round((event.clientX - rect.left) / scale / FACTOR), Math.round((event.clientY - rect.top) / scale / FACTOR)];\n\n      _this.setState({\n        activeCoords: coords\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function () {\n      _this.setState({\n        over: false,\n        activeCoords: undefined\n      });\n    });\n\n    return _this;\n  }\n\n  WorldMap.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    if (!prevState.continents) {\n      return updateState(buildState(), nextProps);\n    }\n\n    return updateState(prevState, nextProps);\n  };\n\n  var _proto = WorldMap.prototype;\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props = this.props,\n        color = _this$props.color,\n        fill = _this$props.fill,\n        onSelectPlace = _this$props.onSelectPlace,\n        hoverColor = _this$props.hoverColor,\n        theme = _this$props.theme,\n        rest = _objectWithoutPropertiesLoose(_this$props, [\"color\", \"fill\", \"onSelectPlace\", \"hoverColor\", \"theme\"]);\n\n    delete rest.places;\n    delete rest.continents;\n    var _this$state = this.state,\n        activeContinent = _this$state.activeContinent,\n        activeCoords = _this$state.activeCoords,\n        activePlace = _this$state.activePlace,\n        continentStates = _this$state.continents,\n        extent = _this$state.extent,\n        origin = _this$state.origin,\n        over = _this$state.over,\n        placeStates = _this$state.places,\n        x = _this$state.x,\n        y = _this$state.y,\n        width = _this$state.width,\n        height = _this$state.height;\n    var continents = Object.keys(continentStates).map(function (name) {\n      var _continentStates$name = continentStates[name],\n          area = _continentStates$name.area,\n          continentColor = _continentStates$name.color,\n          dots = _continentStates$name.dots,\n          onClick = _continentStates$name.onClick,\n          onHover = _continentStates$name.onHover;\n      var active = activeContinent && activeContinent === name;\n      var interactiveProps = {};\n\n      if (onClick || onHover) {\n        interactiveProps = buildInteractiveProps(continentStates[name], function (activate) {\n          return _this2.setState({\n            activeContinent: activate\n          });\n        }, active);\n      }\n\n      return React.createElement(\"g\", _extends({\n        key: name\n      }, interactiveProps), React.createElement(\"path\", {\n        stroke: \"none\",\n        fill: \"#fff\",\n        fillOpacity: \"0.01\",\n        d: area\n      }), React.createElement(\"path\", {\n        d: dots,\n        strokeLinecap: \"round\",\n        strokeWidth: parseMetricToNum(theme.worldMap.continent[active ? 'active' : 'base']),\n        stroke: normalizeColor(continentColor || color || theme.worldMap.color, theme)\n      }));\n    });\n    var places = placeStates.map(function (place) {\n      var placeColor = place.color,\n          coords = place.coords,\n          key = place.key,\n          name = place.name,\n          onClick = place.onClick,\n          onHover = place.onHover,\n          restPlace = _objectWithoutPropertiesLoose(place, [\"color\", \"coords\", \"key\", \"name\", \"onClick\", \"onHover\"]);\n\n      var d = \"M\" + FACTOR * coords[0] + \", \" + FACTOR * coords[1] + \" h0\";\n      var active = activePlace && activePlace === name;\n      var interactiveProps = {};\n\n      if (onClick || onHover) {\n        interactiveProps = buildInteractiveProps(place, function (activate) {\n          return _this2.setState({\n            activePlace: activate\n          });\n        }, active);\n      }\n\n      return React.createElement(\"path\", _extends({\n        key: key,\n        strokeLinecap: \"round\",\n        strokeWidth: parseMetricToNum(theme.worldMap.place[active ? 'active' : 'base']),\n        stroke: normalizeColor(placeColor || color || theme.worldMap.color, theme)\n      }, interactiveProps, restPlace, {\n        d: d\n      }));\n    }); // If the caller is interested in onSelectPlace changes, track where the\n\n    var interactiveProps = {};\n\n    if (onSelectPlace) {\n      interactiveProps = {\n        onMouseOver: this.onMouseOver,\n        onMouseMove: over ? this.onMouseMove : undefined,\n        onMouseLeave: this.onMouseLeave\n      };\n    }\n\n    var active;\n\n    if (activeCoords) {\n      var d = \"M\" + FACTOR * activeCoords[0] + \", \" + FACTOR * activeCoords[1] + \" h0\";\n      active = React.createElement(\"g\", {\n        stroke: \"none\",\n        fill: \"none\",\n        fillRule: \"evenodd\",\n        onClick: function onClick() {\n          return onSelectPlace(coordToLatLon(activeCoords, origin, extent));\n        }\n      }, React.createElement(\"path\", {\n        strokeLinecap: \"round\",\n        strokeWidth: parseMetricToNum(theme.worldMap.place.active),\n        stroke: normalizeColor(hoverColor || color || theme.worldMap.hover.color, theme),\n        d: d\n      }));\n    }\n\n    return React.createElement(StyledWorldMap, _extends({\n      viewBox: x + \" \" + y + \" \" + width + \" \" + height,\n      preserveAspectRatio: \"xMinYMin meet\",\n      fillProp: fill,\n      width: width,\n      height: height\n    }, interactiveProps, rest), React.createElement(\"g\", {\n      ref: function ref(_ref5) {\n        _this2.containerRef = _ref5;\n      },\n      stroke: \"none\",\n      fill: \"none\",\n      fillRule: \"evenodd\"\n    }, continents), places, active);\n  };\n\n  return WorldMap;\n}(Component);\n\nWorldMap.defaultProps = {};\nObject.setPrototypeOf(WorldMap.defaultProps, defaultProps);\nvar WorldMapDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  WorldMapDoc = require('./doc').doc(WorldMap);\n}\n\nvar WorldMapWrapper = compose(withTheme)(WorldMapDoc || WorldMap);\nexport { WorldMapWrapper as WorldMap };"]},"metadata":{},"sourceType":"module"}