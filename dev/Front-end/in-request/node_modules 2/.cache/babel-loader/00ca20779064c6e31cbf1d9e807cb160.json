{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { Children, cloneElement, forwardRef, useContext, useEffect, useState } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { parseMetricToNum } from '../../utils';\nimport { Box } from '../Box';\nimport { CheckBox } from '../CheckBox';\nimport { RadioButtonGroup } from '../RadioButtonGroup';\nimport { Text } from '../Text';\nimport { TextInput } from '../TextInput';\nimport { FormContext } from '../Form/FormContext';\nvar grommetInputNames = ['TextInput', 'Select', 'MaskedInput', 'TextArea'];\nvar grommetInputPadNames = ['CheckBox', 'RadioButtonGroup', 'RangeInput'];\n\nvar validateField = function validateField(required, validate, messages) {\n  return function (value, data) {\n    var error;\n\n    if (required && (value === undefined || value === '')) {\n      error = messages.required;\n    } else if (validate) {\n      if (Array.isArray(validate)) {\n        validate.some(function (oneValidate) {\n          error = validateField(false, oneValidate, messages)(value, data);\n          return !!error;\n        });\n      } else if (typeof validate === 'function') {\n        error = validate(value, data);\n      } else if (validate.regexp) {\n        if (!validate.regexp.test(value)) {\n          error = validate.message || messages.invalid;\n\n          if (validate.status) {\n            error = {\n              message: error,\n              status: validate.status\n            };\n          }\n        }\n      }\n    }\n\n    return error;\n  };\n};\n\nvar FormFieldBox = styled(Box).withConfig({\n  displayName: \"FormField__FormFieldBox\",\n  componentId: \"m9hood-0\"\n})([\"\", \"\"], function (props) {\n  return props.theme.formField && props.theme.formField.extend;\n});\nvar FormField = forwardRef(function (_ref, ref) {\n  var checked = _ref.checked,\n      children = _ref.children,\n      className = _ref.className,\n      component = _ref.component,\n      disabled = _ref.disabled,\n      error = _ref.error,\n      help = _ref.help,\n      htmlFor = _ref.htmlFor,\n      info = _ref.info,\n      label = _ref.label,\n      margin = _ref.margin,\n      name = _ref.name,\n      _onBlur = _ref.onBlur,\n      _onFocus = _ref.onFocus,\n      pad = _ref.pad,\n      required = _ref.required,\n      style = _ref.style,\n      validate = _ref.validate,\n      valueProp = _ref.value,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"checked\", \"children\", \"className\", \"component\", \"disabled\", \"error\", \"help\", \"htmlFor\", \"info\", \"label\", \"margin\", \"name\", \"onBlur\", \"onFocus\", \"pad\", \"required\", \"style\", \"validate\", \"value\"]);\n\n  var theme = useContext(ThemeContext);\n  var context = useContext(FormContext);\n\n  var _useState = useState(valueProp),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  useEffect(function () {\n    return setValue(valueProp);\n  }, [valueProp]);\n  useEffect(function () {\n    if (context && context.value && context.value[name] === undefined && (value !== undefined || checked !== undefined)) {\n      context.update(name, value !== undefined ? value : checked, true);\n    }\n  });\n\n  var _useState2 = useState(),\n      focus = _useState2[0],\n      setFocus = _useState2[1];\n\n  var renderInput = function renderInput(formValue, invalid) {\n    var Input = component || TextInput;\n\n    if (Input === CheckBox) {\n      return React.createElement(Input, _extends({\n        name: name,\n        label: label,\n        checked: formValue[name] !== undefined ? formValue[name] : checked || false,\n        \"aria-invalid\": invalid || undefined\n      }, rest));\n    }\n\n    return React.createElement(Input, _extends({\n      name: name,\n      value: formValue[name] !== undefined ? formValue[name] : valueProp || '',\n      plain: true,\n      focusIndicator: false,\n      \"aria-invalid\": invalid || undefined\n    }, rest));\n  };\n\n  var formField = theme.formField;\n  var border = formField.border; // This is here for backwards compatibility. In case the child is a grommet\n  // input component, set plain and focusIndicator props, if they aren't\n  // already set.\n\n  var wantContentPad = component && (component === CheckBox || component === RadioButtonGroup);\n  var contents = border && children && Children.map(children, function (child) {\n    if (child && child.type && grommetInputPadNames.indexOf(child.type.displayName) !== -1) {\n      wantContentPad = true;\n    }\n\n    if (child && child.type && grommetInputNames.indexOf(child.type.displayName) !== -1 && child.props.plain === undefined && child.props.focusIndicator === undefined) {\n      return cloneElement(child, {\n        plain: true,\n        focusIndicator: false\n      });\n    }\n\n    return child;\n  }) || children;\n  var normalizedError = error;\n  var normalizedInfo = info;\n  var onFieldBlur; // put rest on container, unless we use renderInput()\n\n  var containerRest = rest;\n\n  if (context && context.addValidation) {\n    var addValidation = context.addValidation,\n        errors = context.errors,\n        infos = context.infos,\n        onContextBlur = context.onBlur,\n        formValue = context.value,\n        messages = context.messages;\n    addValidation(name, validateField(required, validate, messages));\n    normalizedError = error || errors[name];\n    normalizedInfo = info || infos[name];\n    if (!contents) containerRest = {};\n    contents = contents || renderInput(formValue, !!normalizedError);\n\n    if (onContextBlur) {\n      onFieldBlur = function onFieldBlur() {\n        return onContextBlur(name);\n      };\n    }\n  }\n\n  var contentProps = pad || wantContentPad ? _extends({}, formField.content) : {};\n\n  if (border.position === 'inner') {\n    if (normalizedError && formField.error) {\n      contentProps.background = formField.error.background;\n    } else if (disabled && formField.disabled) {\n      contentProps.background = formField.disabled.background;\n    }\n  }\n\n  contents = React.createElement(Box, contentProps, contents);\n  var borderColor;\n\n  if (focus && !normalizedError) {\n    borderColor = 'focus';\n  } else if (normalizedError) {\n    borderColor = border && border.error.color || 'status-critical';\n  } else {\n    borderColor = border && border.color || 'border';\n  }\n\n  var abut;\n  var abutMargin;\n  var outerStyle = style;\n\n  if (border) {\n    contents = React.createElement(Box, {\n      border: border.position === 'inner' ? _extends({}, border, {\n        side: border.side || 'bottom',\n        color: borderColor\n      }) : undefined,\n      round: border.position === 'inner' ? formField.round : undefined\n    }, contents);\n    var mergedMargin = margin || formField.margin;\n    abut = border.position === 'outer' && (border.side === 'all' || border.side === 'horizontal' || !border.side) && !(mergedMargin && (typeof mergedMargin === 'string' && mergedMargin !== 'none' || mergedMargin.bottom && mergedMargin.bottom !== 'none' || mergedMargin.horizontal && mergedMargin.horizontal !== 'none'));\n\n    if (abut) {\n      // marginBottom is set to overlap adjacent fields\n      abutMargin = {\n        bottom: '-1px'\n      };\n\n      if (margin) {\n        abutMargin = margin;\n      } else if (border.size) {\n        // if the user defines a margin,\n        // then the default margin below will be overriden\n        abutMargin = {\n          bottom: \"-\" + parseMetricToNum(theme.global.borderSize[border.size] || border.size) + \"px\"\n        };\n      }\n\n      outerStyle = _extends({\n        position: focus ? 'relative' : undefined,\n        zIndex: focus ? 10 : undefined\n      }, style);\n    }\n  }\n\n  var outerBackground;\n\n  if (border.position === 'outer') {\n    if (normalizedError && formField.error) {\n      outerBackground = formField.error.background;\n    } else if (disabled && formField.disabled) {\n      outerBackground = formField.disabled.background;\n    }\n  }\n\n  return React.createElement(FormFieldBox, _extends({\n    ref: ref,\n    className: className,\n    border: border && border.position === 'outer' ? _extends({}, border, {\n      color: borderColor\n    }) : undefined,\n    background: outerBackground,\n    margin: abut ? abutMargin : margin || _extends({}, formField.margin),\n    round: border.position === 'outer' ? formField.round : undefined,\n    style: outerStyle,\n    onFocus: function onFocus(event) {\n      setFocus(true);\n      if (_onFocus) _onFocus(event);\n    },\n    onBlur: function onBlur(event) {\n      setFocus(false);\n      if (onFieldBlur) onFieldBlur(event);\n      if (_onBlur) _onBlur(event);\n    }\n  }, containerRest), label && component !== CheckBox || help ? React.createElement(React.Fragment, null, label && component !== CheckBox && React.createElement(Text, _extends({\n    as: \"label\",\n    htmlFor: htmlFor\n  }, formField.label), label), help && React.createElement(Text, formField.help, help)) : undefined, contents, normalizedError && React.createElement(Text, formField.error, normalizedError), normalizedInfo && React.createElement(Text, formField.info, normalizedInfo));\n});\nFormField.displayName = 'FormField';\nvar FormFieldDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  FormFieldDoc = require('./doc').doc(FormField);\n}\n\nvar FormFieldWrapper = FormFieldDoc || FormField;\nexport { FormFieldWrapper as FormField };","map":{"version":3,"sources":["/Users/qier/Documents/cs407/In-request_cs407/dev/Front-end/in-request/node_modules/grommet/es6/components/FormField/FormField.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","Children","cloneElement","forwardRef","useContext","useEffect","useState","styled","ThemeContext","parseMetricToNum","Box","CheckBox","RadioButtonGroup","Text","TextInput","FormContext","grommetInputNames","grommetInputPadNames","validateField","required","validate","messages","value","data","error","undefined","Array","isArray","some","oneValidate","regexp","test","message","invalid","status","FormFieldBox","withConfig","displayName","componentId","props","theme","formField","extend","FormField","_ref","ref","checked","children","className","component","disabled","help","htmlFor","info","label","margin","name","_onBlur","onBlur","_onFocus","onFocus","pad","style","valueProp","rest","context","_useState","setValue","update","_useState2","focus","setFocus","renderInput","formValue","Input","createElement","plain","focusIndicator","border","wantContentPad","contents","map","child","type","normalizedError","normalizedInfo","onFieldBlur","containerRest","addValidation","errors","infos","onContextBlur","contentProps","content","position","background","borderColor","color","abut","abutMargin","outerStyle","side","round","mergedMargin","bottom","horizontal","size","global","borderSize","zIndex","outerBackground","event","Fragment","as","FormFieldDoc","process","env","NODE_ENV","require","doc","FormFieldWrapper"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { Children, cloneElement, forwardRef, useContext, useEffect, useState } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { parseMetricToNum } from '../../utils';\nimport { Box } from '../Box';\nimport { CheckBox } from '../CheckBox';\nimport { RadioButtonGroup } from '../RadioButtonGroup';\nimport { Text } from '../Text';\nimport { TextInput } from '../TextInput';\nimport { FormContext } from '../Form/FormContext';\nvar grommetInputNames = ['TextInput', 'Select', 'MaskedInput', 'TextArea'];\nvar grommetInputPadNames = ['CheckBox', 'RadioButtonGroup', 'RangeInput'];\n\nvar validateField = function validateField(required, validate, messages) {\n  return function (value, data) {\n    var error;\n\n    if (required && (value === undefined || value === '')) {\n      error = messages.required;\n    } else if (validate) {\n      if (Array.isArray(validate)) {\n        validate.some(function (oneValidate) {\n          error = validateField(false, oneValidate, messages)(value, data);\n          return !!error;\n        });\n      } else if (typeof validate === 'function') {\n        error = validate(value, data);\n      } else if (validate.regexp) {\n        if (!validate.regexp.test(value)) {\n          error = validate.message || messages.invalid;\n\n          if (validate.status) {\n            error = {\n              message: error,\n              status: validate.status\n            };\n          }\n        }\n      }\n    }\n\n    return error;\n  };\n};\n\nvar FormFieldBox = styled(Box).withConfig({\n  displayName: \"FormField__FormFieldBox\",\n  componentId: \"m9hood-0\"\n})([\"\", \"\"], function (props) {\n  return props.theme.formField && props.theme.formField.extend;\n});\nvar FormField = forwardRef(function (_ref, ref) {\n  var checked = _ref.checked,\n      children = _ref.children,\n      className = _ref.className,\n      component = _ref.component,\n      disabled = _ref.disabled,\n      error = _ref.error,\n      help = _ref.help,\n      htmlFor = _ref.htmlFor,\n      info = _ref.info,\n      label = _ref.label,\n      margin = _ref.margin,\n      name = _ref.name,\n      _onBlur = _ref.onBlur,\n      _onFocus = _ref.onFocus,\n      pad = _ref.pad,\n      required = _ref.required,\n      style = _ref.style,\n      validate = _ref.validate,\n      valueProp = _ref.value,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"checked\", \"children\", \"className\", \"component\", \"disabled\", \"error\", \"help\", \"htmlFor\", \"info\", \"label\", \"margin\", \"name\", \"onBlur\", \"onFocus\", \"pad\", \"required\", \"style\", \"validate\", \"value\"]);\n\n  var theme = useContext(ThemeContext);\n  var context = useContext(FormContext);\n\n  var _useState = useState(valueProp),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  useEffect(function () {\n    return setValue(valueProp);\n  }, [valueProp]);\n  useEffect(function () {\n    if (context && context.value && context.value[name] === undefined && (value !== undefined || checked !== undefined)) {\n      context.update(name, value !== undefined ? value : checked, true);\n    }\n  });\n\n  var _useState2 = useState(),\n      focus = _useState2[0],\n      setFocus = _useState2[1];\n\n  var renderInput = function renderInput(formValue, invalid) {\n    var Input = component || TextInput;\n\n    if (Input === CheckBox) {\n      return React.createElement(Input, _extends({\n        name: name,\n        label: label,\n        checked: formValue[name] !== undefined ? formValue[name] : checked || false,\n        \"aria-invalid\": invalid || undefined\n      }, rest));\n    }\n\n    return React.createElement(Input, _extends({\n      name: name,\n      value: formValue[name] !== undefined ? formValue[name] : valueProp || '',\n      plain: true,\n      focusIndicator: false,\n      \"aria-invalid\": invalid || undefined\n    }, rest));\n  };\n\n  var formField = theme.formField;\n  var border = formField.border; // This is here for backwards compatibility. In case the child is a grommet\n  // input component, set plain and focusIndicator props, if they aren't\n  // already set.\n\n  var wantContentPad = component && (component === CheckBox || component === RadioButtonGroup);\n  var contents = border && children && Children.map(children, function (child) {\n    if (child && child.type && grommetInputPadNames.indexOf(child.type.displayName) !== -1) {\n      wantContentPad = true;\n    }\n\n    if (child && child.type && grommetInputNames.indexOf(child.type.displayName) !== -1 && child.props.plain === undefined && child.props.focusIndicator === undefined) {\n      return cloneElement(child, {\n        plain: true,\n        focusIndicator: false\n      });\n    }\n\n    return child;\n  }) || children;\n  var normalizedError = error;\n  var normalizedInfo = info;\n  var onFieldBlur; // put rest on container, unless we use renderInput()\n\n  var containerRest = rest;\n\n  if (context && context.addValidation) {\n    var addValidation = context.addValidation,\n        errors = context.errors,\n        infos = context.infos,\n        onContextBlur = context.onBlur,\n        formValue = context.value,\n        messages = context.messages;\n    addValidation(name, validateField(required, validate, messages));\n    normalizedError = error || errors[name];\n    normalizedInfo = info || infos[name];\n    if (!contents) containerRest = {};\n    contents = contents || renderInput(formValue, !!normalizedError);\n\n    if (onContextBlur) {\n      onFieldBlur = function onFieldBlur() {\n        return onContextBlur(name);\n      };\n    }\n  }\n\n  var contentProps = pad || wantContentPad ? _extends({}, formField.content) : {};\n\n  if (border.position === 'inner') {\n    if (normalizedError && formField.error) {\n      contentProps.background = formField.error.background;\n    } else if (disabled && formField.disabled) {\n      contentProps.background = formField.disabled.background;\n    }\n  }\n\n  contents = React.createElement(Box, contentProps, contents);\n  var borderColor;\n\n  if (focus && !normalizedError) {\n    borderColor = 'focus';\n  } else if (normalizedError) {\n    borderColor = border && border.error.color || 'status-critical';\n  } else {\n    borderColor = border && border.color || 'border';\n  }\n\n  var abut;\n  var abutMargin;\n  var outerStyle = style;\n\n  if (border) {\n    contents = React.createElement(Box, {\n      border: border.position === 'inner' ? _extends({}, border, {\n        side: border.side || 'bottom',\n        color: borderColor\n      }) : undefined,\n      round: border.position === 'inner' ? formField.round : undefined\n    }, contents);\n    var mergedMargin = margin || formField.margin;\n    abut = border.position === 'outer' && (border.side === 'all' || border.side === 'horizontal' || !border.side) && !(mergedMargin && (typeof mergedMargin === 'string' && mergedMargin !== 'none' || mergedMargin.bottom && mergedMargin.bottom !== 'none' || mergedMargin.horizontal && mergedMargin.horizontal !== 'none'));\n\n    if (abut) {\n      // marginBottom is set to overlap adjacent fields\n      abutMargin = {\n        bottom: '-1px'\n      };\n\n      if (margin) {\n        abutMargin = margin;\n      } else if (border.size) {\n        // if the user defines a margin,\n        // then the default margin below will be overriden\n        abutMargin = {\n          bottom: \"-\" + parseMetricToNum(theme.global.borderSize[border.size] || border.size) + \"px\"\n        };\n      }\n\n      outerStyle = _extends({\n        position: focus ? 'relative' : undefined,\n        zIndex: focus ? 10 : undefined\n      }, style);\n    }\n  }\n\n  var outerBackground;\n\n  if (border.position === 'outer') {\n    if (normalizedError && formField.error) {\n      outerBackground = formField.error.background;\n    } else if (disabled && formField.disabled) {\n      outerBackground = formField.disabled.background;\n    }\n  }\n\n  return React.createElement(FormFieldBox, _extends({\n    ref: ref,\n    className: className,\n    border: border && border.position === 'outer' ? _extends({}, border, {\n      color: borderColor\n    }) : undefined,\n    background: outerBackground,\n    margin: abut ? abutMargin : margin || _extends({}, formField.margin),\n    round: border.position === 'outer' ? formField.round : undefined,\n    style: outerStyle,\n    onFocus: function onFocus(event) {\n      setFocus(true);\n      if (_onFocus) _onFocus(event);\n    },\n    onBlur: function onBlur(event) {\n      setFocus(false);\n      if (onFieldBlur) onFieldBlur(event);\n      if (_onBlur) _onBlur(event);\n    }\n  }, containerRest), label && component !== CheckBox || help ? React.createElement(React.Fragment, null, label && component !== CheckBox && React.createElement(Text, _extends({\n    as: \"label\",\n    htmlFor: htmlFor\n  }, formField.label), label), help && React.createElement(Text, formField.help, help)) : undefined, contents, normalizedError && React.createElement(Text, formField.error, normalizedError), normalizedInfo && React.createElement(Text, formField.info, normalizedInfo));\n});\nFormField.displayName = 'FormField';\nvar FormFieldDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  FormFieldDoc = require('./doc').doc(FormField);\n}\n\nvar FormFieldWrapper = FormFieldDoc || FormField;\nexport { FormFieldWrapper as FormField };"]},"metadata":{},"sourceType":"module"}