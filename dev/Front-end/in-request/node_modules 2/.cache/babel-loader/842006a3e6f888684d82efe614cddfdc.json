{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/* eslint-disable react/no-multi-comp */\n\n\nimport React, { Component } from 'react';\nimport getDisplayName from 'recompose/getDisplayName';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport { withTheme } from 'styled-components';\nimport { AnnounceContext } from '../contexts';\nexport var withFocus = function withFocus(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      focusWithMouse = _ref.focusWithMouse;\n\n  return function (WrappedComponent) {\n    var FocusableComponent =\n    /*#__PURE__*/\n    function (_Component) {\n      _inheritsLoose(FocusableComponent, _Component);\n\n      FocusableComponent.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n        var withFocusRef = nextProps.withFocusRef;\n        var wrappedRef = prevState.wrappedRef;\n        var nextWrappedRef = withFocusRef || wrappedRef;\n\n        if (nextWrappedRef !== wrappedRef) {\n          return {\n            wrappedRef: nextWrappedRef\n          };\n        }\n\n        return null;\n      }; // not in state because it doesn't affect rendering\n\n\n      function FocusableComponent(props) {\n        var _this;\n\n        _this = _Component.call(this, props) || this;\n\n        _defineProperty(_assertThisInitialized(_this), \"mouseActive\", false);\n\n        _defineProperty(_assertThisInitialized(_this), \"componentDidMount\", function () {\n          var wrappedRef = _this.state.wrappedRef; // components such as anchors and buttons should not retain focus after\n          // being clicked while text-based components should\n\n          if (!focusWithMouse) {\n            window.addEventListener('mousedown', _this.handleActiveMouse);\n          } // we could be using onFocus in the wrapper node itself\n          // but react does not invoke it if you programically\n          // call wrapperNode.focus() inside componentWillUnmount\n          // see Drop \"this.originalFocusedElement.focus();\" for reference\n\n\n          var wrapperNode = wrappedRef.current;\n\n          if (wrapperNode && wrapperNode.addEventListener) {\n            wrapperNode.addEventListener('focus', _this.setFocus);\n          }\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"componentWillUnmount\", function () {\n          var wrappedRef = _this.state.wrappedRef;\n          window.removeEventListener('mousedown', _this.handleActiveMouse);\n          var wrapperNode = wrappedRef.current;\n\n          if (wrapperNode && wrapperNode.addEventListener) {\n            wrapperNode.removeEventListener('focus', _this.setFocus);\n          }\n\n          clearTimeout(_this.focusTimer);\n          clearTimeout(_this.mouseTimer);\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"handleActiveMouse\", function () {\n          // from https://marcysutton.com/button-focus-hell/\n          _this.mouseActive = true; // this avoids showing focus when clicking around\n\n          clearTimeout(_this.mouseTimer); // empirical number to reset mouseActive after\n          // some time has passed without mousedown\n\n          _this.mouseTimer = setTimeout(function () {\n            _this.mouseActive = false;\n          }, 150);\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"setFocus\", function () {\n          // delay setting focus to avoid interupting events,\n          // 1ms was chosen empirically based on ie11 using Select and TextInput\n          // with and without a FormField.\n          clearTimeout(_this.focusTimer);\n          _this.focusTimer = setTimeout(function () {\n            var focus = _this.state.focus;\n\n            if (!focus && !_this.mouseActive) {\n              _this.setState({\n                focus: true\n              });\n            }\n          }, 1);\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"resetFocus\", function () {\n          clearTimeout(_this.focusTimer);\n          _this.focusTimer = setTimeout(function () {\n            var focus = _this.state.focus;\n\n            if (focus) {\n              _this.setState({\n                focus: false\n              });\n            }\n          }, 1);\n        });\n\n        _this.state = {\n          focus: false,\n          wrappedRef: React.createRef()\n        };\n        return _this;\n      }\n\n      var _proto = FocusableComponent.prototype;\n\n      _proto.render = function render() {\n        var _this2 = this;\n\n        var _this$props = this.props,\n            _onFocus = _this$props.onFocus,\n            _onBlur = _this$props.onBlur,\n            withFocusRef = _this$props.withFocusRef,\n            rest = _objectWithoutPropertiesLoose(_this$props, [\"onFocus\", \"onBlur\", \"withFocusRef\"]);\n\n        var _this$state = this.state,\n            focus = _this$state.focus,\n            wrappedRef = _this$state.wrappedRef;\n        return React.createElement(WrappedComponent, _extends({\n          ref: wrappedRef,\n          focus: focus\n        }, rest, {\n          onFocus: function onFocus(event) {\n            _this2.setFocus();\n\n            if (_onFocus) {\n              _onFocus(event);\n            }\n          },\n          onBlur: function onBlur(event) {\n            _this2.resetFocus();\n\n            if (_onBlur) {\n              _onBlur(event);\n            }\n          }\n        }));\n      };\n\n      return FocusableComponent;\n    }(Component);\n\n    var ForwardRef = React.forwardRef(function (props, ref) {\n      return React.createElement(FocusableComponent, _extends({}, props, {\n        withFocusRef: ref\n      }));\n    });\n    ForwardRef.displayName = getDisplayName(WrappedComponent);\n    ForwardRef.name = ForwardRef.displayName;\n    ForwardRef.defaultProps = WrappedComponent.defaultProps;\n    hoistNonReactStatics(ForwardRef, WrappedComponent);\n    return ForwardRef;\n  };\n};\nexport var withForwardRef = function withForwardRef(WrappedComponent) {\n  var ForwardRefComponent = React.forwardRef(function (props, ref) {\n    return React.createElement(WrappedComponent, _extends({\n      forwardRef: ref\n    }, props));\n  });\n  ForwardRefComponent.displayName = getDisplayName(WrappedComponent);\n  ForwardRefComponent.name = ForwardRefComponent.displayName;\n  ForwardRefComponent.defaultProps = WrappedComponent.defaultProps;\n  hoistNonReactStatics(ForwardRefComponent, WrappedComponent);\n  return ForwardRefComponent;\n};\nexport var withAnnounce = function withAnnounce(WrappedComponent) {\n  var ForwardRef = React.forwardRef(function (props, ref) {\n    return React.createElement(AnnounceContext.Consumer, null, function (announce) {\n      return React.createElement(WrappedComponent, _extends({}, props, {\n        announce: announce,\n        ref: ref\n      }));\n    });\n  });\n  ForwardRef.displayName = getDisplayName(WrappedComponent);\n  ForwardRef.name = ForwardRef.displayName;\n  ForwardRef.defaultProps = WrappedComponent.defaultProps;\n  hoistNonReactStatics(ForwardRef, WrappedComponent);\n  return ForwardRef;\n};\nexport { withTheme };","map":{"version":3,"sources":["/Users/qier/Documents/cs407/In-request_cs407/dev/Front-end/in-request/node_modules/grommet/es6/components/hocs.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","create","constructor","__proto__","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","React","Component","getDisplayName","hoistNonReactStatics","withTheme","AnnounceContext","withFocus","_temp","_ref","focusWithMouse","WrappedComponent","FocusableComponent","_Component","getDerivedStateFromProps","nextProps","prevState","withFocusRef","wrappedRef","nextWrappedRef","props","_this","state","window","addEventListener","handleActiveMouse","wrapperNode","current","setFocus","removeEventListener","clearTimeout","focusTimer","mouseTimer","mouseActive","setTimeout","focus","setState","createRef","_proto","render","_this2","_this$props","_onFocus","onFocus","_onBlur","onBlur","rest","_this$state","createElement","ref","event","resetFocus","ForwardRef","forwardRef","displayName","name","defaultProps","withForwardRef","ForwardRefComponent","withAnnounce","Consumer","announce"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* eslint-disable react/no-multi-comp */\nimport React, { Component } from 'react';\nimport getDisplayName from 'recompose/getDisplayName';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport { withTheme } from 'styled-components';\nimport { AnnounceContext } from '../contexts';\nexport var withFocus = function withFocus(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      focusWithMouse = _ref.focusWithMouse;\n\n  return function (WrappedComponent) {\n    var FocusableComponent =\n    /*#__PURE__*/\n    function (_Component) {\n      _inheritsLoose(FocusableComponent, _Component);\n\n      FocusableComponent.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n        var withFocusRef = nextProps.withFocusRef;\n        var wrappedRef = prevState.wrappedRef;\n        var nextWrappedRef = withFocusRef || wrappedRef;\n\n        if (nextWrappedRef !== wrappedRef) {\n          return {\n            wrappedRef: nextWrappedRef\n          };\n        }\n\n        return null;\n      };\n\n      // not in state because it doesn't affect rendering\n      function FocusableComponent(props) {\n        var _this;\n\n        _this = _Component.call(this, props) || this;\n\n        _defineProperty(_assertThisInitialized(_this), \"mouseActive\", false);\n\n        _defineProperty(_assertThisInitialized(_this), \"componentDidMount\", function () {\n          var wrappedRef = _this.state.wrappedRef; // components such as anchors and buttons should not retain focus after\n          // being clicked while text-based components should\n\n          if (!focusWithMouse) {\n            window.addEventListener('mousedown', _this.handleActiveMouse);\n          } // we could be using onFocus in the wrapper node itself\n          // but react does not invoke it if you programically\n          // call wrapperNode.focus() inside componentWillUnmount\n          // see Drop \"this.originalFocusedElement.focus();\" for reference\n\n\n          var wrapperNode = wrappedRef.current;\n\n          if (wrapperNode && wrapperNode.addEventListener) {\n            wrapperNode.addEventListener('focus', _this.setFocus);\n          }\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"componentWillUnmount\", function () {\n          var wrappedRef = _this.state.wrappedRef;\n          window.removeEventListener('mousedown', _this.handleActiveMouse);\n          var wrapperNode = wrappedRef.current;\n\n          if (wrapperNode && wrapperNode.addEventListener) {\n            wrapperNode.removeEventListener('focus', _this.setFocus);\n          }\n\n          clearTimeout(_this.focusTimer);\n          clearTimeout(_this.mouseTimer);\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"handleActiveMouse\", function () {\n          // from https://marcysutton.com/button-focus-hell/\n          _this.mouseActive = true; // this avoids showing focus when clicking around\n\n          clearTimeout(_this.mouseTimer); // empirical number to reset mouseActive after\n          // some time has passed without mousedown\n\n          _this.mouseTimer = setTimeout(function () {\n            _this.mouseActive = false;\n          }, 150);\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"setFocus\", function () {\n          // delay setting focus to avoid interupting events,\n          // 1ms was chosen empirically based on ie11 using Select and TextInput\n          // with and without a FormField.\n          clearTimeout(_this.focusTimer);\n          _this.focusTimer = setTimeout(function () {\n            var focus = _this.state.focus;\n\n            if (!focus && !_this.mouseActive) {\n              _this.setState({\n                focus: true\n              });\n            }\n          }, 1);\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"resetFocus\", function () {\n          clearTimeout(_this.focusTimer);\n          _this.focusTimer = setTimeout(function () {\n            var focus = _this.state.focus;\n\n            if (focus) {\n              _this.setState({\n                focus: false\n              });\n            }\n          }, 1);\n        });\n\n        _this.state = {\n          focus: false,\n          wrappedRef: React.createRef()\n        };\n        return _this;\n      }\n\n      var _proto = FocusableComponent.prototype;\n\n      _proto.render = function render() {\n        var _this2 = this;\n\n        var _this$props = this.props,\n            _onFocus = _this$props.onFocus,\n            _onBlur = _this$props.onBlur,\n            withFocusRef = _this$props.withFocusRef,\n            rest = _objectWithoutPropertiesLoose(_this$props, [\"onFocus\", \"onBlur\", \"withFocusRef\"]);\n\n        var _this$state = this.state,\n            focus = _this$state.focus,\n            wrappedRef = _this$state.wrappedRef;\n        return React.createElement(WrappedComponent, _extends({\n          ref: wrappedRef,\n          focus: focus\n        }, rest, {\n          onFocus: function onFocus(event) {\n            _this2.setFocus();\n\n            if (_onFocus) {\n              _onFocus(event);\n            }\n          },\n          onBlur: function onBlur(event) {\n            _this2.resetFocus();\n\n            if (_onBlur) {\n              _onBlur(event);\n            }\n          }\n        }));\n      };\n\n      return FocusableComponent;\n    }(Component);\n\n    var ForwardRef = React.forwardRef(function (props, ref) {\n      return React.createElement(FocusableComponent, _extends({}, props, {\n        withFocusRef: ref\n      }));\n    });\n    ForwardRef.displayName = getDisplayName(WrappedComponent);\n    ForwardRef.name = ForwardRef.displayName;\n    ForwardRef.defaultProps = WrappedComponent.defaultProps;\n    hoistNonReactStatics(ForwardRef, WrappedComponent);\n    return ForwardRef;\n  };\n};\nexport var withForwardRef = function withForwardRef(WrappedComponent) {\n  var ForwardRefComponent = React.forwardRef(function (props, ref) {\n    return React.createElement(WrappedComponent, _extends({\n      forwardRef: ref\n    }, props));\n  });\n  ForwardRefComponent.displayName = getDisplayName(WrappedComponent);\n  ForwardRefComponent.name = ForwardRefComponent.displayName;\n  ForwardRefComponent.defaultProps = WrappedComponent.defaultProps;\n  hoistNonReactStatics(ForwardRefComponent, WrappedComponent);\n  return ForwardRefComponent;\n};\nexport var withAnnounce = function withAnnounce(WrappedComponent) {\n  var ForwardRef = React.forwardRef(function (props, ref) {\n    return React.createElement(AnnounceContext.Consumer, null, function (announce) {\n      return React.createElement(WrappedComponent, _extends({}, props, {\n        announce: announce,\n        ref: ref\n      }));\n    });\n  });\n  ForwardRef.displayName = getDisplayName(WrappedComponent);\n  ForwardRef.name = ForwardRef.displayName;\n  ForwardRef.defaultProps = WrappedComponent.defaultProps;\n  hoistNonReactStatics(ForwardRef, WrappedComponent);\n  return ForwardRef;\n};\nexport { withTheme };"]},"metadata":{},"sourceType":"module"}