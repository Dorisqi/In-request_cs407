{"ast":null,"code":"var _jsxFileName = \"/Users/qier/Documents/cs407/In-request_cs407/dev/Front-end/in-request/src/Components/Home/uploadimg.js\";\nimport React, { Component } from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport { storage } from '../../firebase';\n\nclass Upload extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      if (e.target.files[0]) {\n        const image = e.target.files[0];\n        this.setState(() => ({\n          image\n        }));\n      }\n    };\n\n    this.handleUpdate = e => {\n      console.log('ababa');\n      const {\n        image\n      } = this.state;\n      const uploadtask = storage.ref('images/${image.name}').put(image);\n      uploadtask.on('state_changed', snapshot => {\n        console.log(\"intheresomewhere\"); //progress\n      }, error => {\n        console.log();\n      }, () => {\n        //complete\n        storage.ref('images').child(image.name).getDownloadURL().then(url => {\n          console.log(url);\n        });\n      });\n    };\n\n    this.state = {\n      image: null,\n      url: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleUpdate = this.handleUpdate.bind(this);\n  }\n\n  render() {\n    const style = {\n      height: '100vh,',\n      display: 'flex ',\n      flexDirection: 'column',\n      alignItems: 'ccenter'\n    };\n    return React.createElement(\"div\", {\n      style: style,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      onClick: e => this.myInput.click(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"F\"), React.createElement(Button, {\n      disabled: !this.state.image,\n      onClick: () => this.handleUpdate(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Upload\"), React.createElement(\"input\", {\n      id: \"myInput\",\n      type: \"file\",\n      ref: ref => this.myInput = ref,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Upload;","map":{"version":3,"sources":["/Users/qier/Documents/cs407/In-request_cs407/dev/Front-end/in-request/src/Components/Home/uploadimg.js"],"names":["React","Component","IconButton","Button","storage","Upload","constructor","props","handleChange","e","target","files","image","setState","handleUpdate","console","log","state","uploadtask","ref","put","on","snapshot","error","child","name","getDownloadURL","then","url","bind","render","style","height","display","flexDirection","alignItems","myInput","click"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,MAAP,MAAoB,0BAApB;AACA,SAAQC,OAAR,QAAsB,gBAAtB;;AACA,MAAMC,MAAN,SAAqBJ,SAArB,CAA8B;AAC1BK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SASnBC,YATmB,GASJC,CAAC,IAAI;AAChB,UAAGA,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAH,EAAqB;AACjB,cAAMC,KAAK,GAAGH,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAd;AACA,aAAKE,QAAL,CAAc,OAAK;AAACD,UAAAA;AAAD,SAAL,CAAd;AACH;AACJ,KAdkB;;AAAA,SAenBE,YAfmB,GAeJL,CAAC,IAAI;AAChBM,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,YAAM;AAACJ,QAAAA;AAAD,UAAU,KAAKK,KAArB;AACA,YAAMC,UAAU,GAAGd,OAAO,CAACe,GAAR,CAAY,sBAAZ,EAAoCC,GAApC,CAAwCR,KAAxC,CAAnB;AACAM,MAAAA,UAAU,CAACG,EAAX,CAAc,eAAd,EAAgCC,QAAD,IAAc;AACzCP,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EADyC,CACV;AAClC,OAFD,EAEIO,KAAD,IAAW;AAACR,QAAAA,OAAO,CAACC,GAAR;AAAc,OAF7B,EAE+B,MAAM;AACjC;AACAZ,QAAAA,OAAO,CAACe,GAAR,CAAY,QAAZ,EAAsBK,KAAtB,CAA4BZ,KAAK,CAACa,IAAlC,EAAwCC,cAAxC,GAAyDC,IAAzD,CAA8DC,GAAG,IAAI;AACjEb,UAAAA,OAAO,CAACC,GAAR,CAAYY,GAAZ;AACH,SAFD;AAGH,OAPD;AAQH,KA3BkB;;AAEf,SAAKX,KAAL,GAAa;AACTL,MAAAA,KAAK,EAAE,IADE;AAETgB,MAAAA,GAAG,EAAE;AAFI,KAAb;AAIA,SAAKpB,YAAL,GAAoB,KAAKA,YAAL,CAAkBqB,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKf,YAAL,GAAoB,KAAKA,YAAL,CAAkBe,IAAlB,CAAuB,IAAvB,CAApB;AACH;;AAoBDC,EAAAA,MAAM,GAAE;AACJ,UAAMC,KAAK,GAAG;AACVC,MAAAA,MAAM,EAAE,QADE;AAEVC,MAAAA,OAAO,EAAE,OAFC;AAGVC,MAAAA,aAAa,EAAE,QAHL;AAIVC,MAAAA,UAAU,EAAE;AAJF,KAAd;AAMA,WACI;AAAK,MAAA,KAAK,EAAEJ,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAGtB,CAAD,IAAO,KAAK2B,OAAL,CAAaC,KAAb,EAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ,EAEI,oBAAC,MAAD;AAAQ,MAAA,QAAQ,EAAE,CAAC,KAAKpB,KAAL,CAAWL,KAA9B;AAAqC,MAAA,OAAO,EAAE,MAAM,KAAKE,YAAL,EAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,EAGI;AAAO,MAAA,EAAE,EAAC,SAAV;AAAoB,MAAA,IAAI,EAAC,MAAzB;AAAgC,MAAA,GAAG,EAAGK,GAAD,IAAS,KAAKiB,OAAL,GAAejB,GAA7D;AAAkE,MAAA,QAAQ,EAAE,KAAKX,YAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,CADJ;AAOH;;AA3CyB;;AA6C9B,eAAeH,MAAf","sourcesContent":["import React, {Component} from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from  \"@material-ui/core/Button\";\nimport {storage} from '../../firebase';\nclass Upload extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            image: null,\n            url: ''\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.handleUpdate = this.handleUpdate.bind(this);\n    }\n    handleChange = e => {\n        if(e.target.files[0]){\n            const image = e.target.files[0];\n            this.setState(()=>({image}));\n        }\n    }\n    handleUpdate = e => {\n        console.log('ababa');\n        const {image} = this.state;\n        const uploadtask = storage.ref('images/${image.name}').put(image);\n        uploadtask.on('state_changed', (snapshot) => {\n            console.log(\"intheresomewhere\")//progress\n        }, (error) => {console.log()}, () => {\n            //complete\n            storage.ref('images').child(image.name).getDownloadURL().then(url => {\n                console.log(url);\n            })\n        });\n    }\n    render(){\n        const style = {\n            height: '100vh,',\n            display: 'flex ',\n            flexDirection: 'column',\n            alignItems: 'ccenter'\n        };\n        return (\n            <div style={style}>\n                <IconButton onClick={(e) => this.myInput.click() } >F</IconButton>\n                <Button disabled={!this.state.image} onClick={() => this.handleUpdate()}>Upload</Button>\n                <input id=\"myInput\" type=\"file\" ref={(ref) => this.myInput = ref} onChange={this.handleChange}/>\n            </div>\n        )\n    }\n}\nexport default Upload;"]},"metadata":{},"sourceType":"module"}