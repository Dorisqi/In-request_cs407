{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/web.dom-collections.iterator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.addParameters = exports.addDecorator = exports.defaultDecorateStory = void 0;\n\nvar _utilDeprecate = _interopRequireDefault(require(\"util-deprecate\"));\n\nvar _isPlainObject = _interopRequireDefault(require(\"is-plain-object\"));\n\nvar _clientLogger = require(\"@storybook/client-logger\");\n\nvar _addons = _interopRequireDefault(require(\"@storybook/addons\"));\n\nvar _coreEvents = _interopRequireDefault(require(\"@storybook/core-events\"));\n\nvar _csf = require(\"@storybook/csf\");\n\nvar _mergeWith = _interopRequireDefault(require(\"lodash/mergeWith\"));\n\nvar _isEqual = _interopRequireDefault(require(\"lodash/isEqual\"));\n\nvar _get = _interopRequireDefault(require(\"lodash/get\"));\n\nvar _subscriptions_store = _interopRequireDefault(require(\"./subscriptions_store\"));\n\nvar _hooks = require(\"./hooks\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n} // merge with concatenating arrays, but no duplicates\n\n\nvar merge = function merge(a, b) {\n  return (0, _mergeWith[\"default\"])({}, a, b, function (objValue, srcValue) {\n    if (Array.isArray(srcValue) && Array.isArray(objValue)) {\n      srcValue.forEach(function (s) {\n        var existing = objValue.find(function (o) {\n          return o === s || (0, _isEqual[\"default\"])(o, s);\n        });\n\n        if (!existing) {\n          objValue.push(s);\n        }\n      });\n      return objValue;\n    }\n\n    if (Array.isArray(objValue)) {\n      _clientLogger.logger.log('the types mismatch, picking', objValue);\n\n      return objValue;\n    }\n\n    return undefined;\n  });\n};\n\nvar defaultContext = {\n  id: 'unspecified',\n  name: 'unspecified',\n  kind: 'unspecified',\n  parameters: {}\n};\n\nvar defaultDecorateStory = function defaultDecorateStory(storyFn, decorators) {\n  return decorators.reduce(function (decorated, decorator) {\n    return function () {\n      var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultContext;\n      return decorator(function (p) {\n        return decorated(p ? Object.assign({}, context, {}, p, {\n          parameters: Object.assign({}, context.parameters, {}, p.parameters)\n        }) : context);\n      }, context);\n    };\n  }, storyFn);\n};\n\nexports.defaultDecorateStory = defaultDecorateStory;\nvar metaSubscriptionHandler = (0, _utilDeprecate[\"default\"])(_subscriptions_store[\"default\"].register, 'Events.REGISTER_SUBSCRIPTION is deprecated and will be removed in 6.0. Please use useEffect from @storybook/client-api instead.');\n\nvar metaSubscription = function metaSubscription() {\n  _addons[\"default\"].getChannel().on(_coreEvents[\"default\"].REGISTER_SUBSCRIPTION, metaSubscriptionHandler);\n\n  return function () {\n    return _addons[\"default\"].getChannel().removeListener(_coreEvents[\"default\"].REGISTER_SUBSCRIPTION, metaSubscriptionHandler);\n  };\n};\n\nvar withSubscriptionTracking = function withSubscriptionTracking(storyFn) {\n  if (!_addons[\"default\"].hasChannel()) {\n    return storyFn();\n  }\n\n  _subscriptions_store[\"default\"].markAllAsUnused();\n\n  _subscriptions_store[\"default\"].register(metaSubscription);\n\n  var result = storyFn();\n\n  _subscriptions_store[\"default\"].clearUnused();\n\n  return result;\n};\n\nvar _globalDecorators = [];\nvar _globalParameters = {};\n\nvar addDecorator = function addDecorator(decoratorFn) {\n  _globalDecorators.push(decoratorFn);\n};\n\nexports.addDecorator = addDecorator;\n\nvar addParameters = function addParameters(parameters) {\n  _globalParameters = Object.assign({}, _globalParameters, {}, parameters, {\n    options: Object.assign({}, merge((0, _get[\"default\"])(_globalParameters, 'options', {}), (0, _get[\"default\"])(parameters, 'options', {}))),\n    // FIXME: https://github.com/storybookjs/storybook/issues/7872\n    docs: Object.assign({}, merge((0, _get[\"default\"])(_globalParameters, 'docs', {}), (0, _get[\"default\"])(parameters, 'docs', {})))\n  });\n};\n\nexports.addParameters = addParameters;\n\nvar ClientApi = function ClientApi(_ref) {\n  var _this = this;\n\n  var storyStore = _ref.storyStore,\n      _ref$decorateStory = _ref.decorateStory,\n      decorateStory = _ref$decorateStory === void 0 ? defaultDecorateStory : _ref$decorateStory;\n\n  _classCallCheck(this, ClientApi);\n\n  this._storyStore = void 0;\n  this._addons = void 0;\n  this._decorateStory = void 0;\n\n  this.setAddon = function (addon) {\n    _this._addons = Object.assign({}, _this._addons, {}, addon);\n  };\n\n  this.getSeparators = function () {\n    var _ref2 = _globalParameters.options || {},\n        hierarchySeparator = _ref2.hierarchySeparator,\n        hierarchyRootSeparator = _ref2.hierarchyRootSeparator,\n        showRoots = _ref2.showRoots; // Note these checks will be removed in 6.0, leaving this much simpler\n\n\n    if (typeof hierarchySeparator !== 'undefined' || typeof hierarchyRootSeparator !== 'undefined') {\n      return {\n        hierarchySeparator: hierarchySeparator,\n        hierarchyRootSeparator: hierarchyRootSeparator\n      };\n    }\n\n    if (typeof showRoots === 'undefined' && _this.store().getStoryKinds().some(function (kind) {\n      return kind.match(/\\.|\\|/);\n    })) {\n      return {\n        hierarchyRootSeparator: '|',\n        hierarchySeparator: /\\/|\\./\n      };\n    }\n\n    return {\n      hierarchySeparator: '/'\n    };\n  };\n\n  this.addDecorator = function (decorator) {\n    addDecorator(decorator);\n  };\n\n  this.addParameters = function (parameters) {\n    addParameters(parameters);\n  };\n\n  this.clearDecorators = function () {\n    _globalDecorators = [];\n  };\n\n  this.clearParameters = function () {\n    // Utility function FOR TESTING USE ONLY\n    _globalParameters = {};\n  };\n\n  this.storiesOf = function (kind, m) {\n    if (!kind && typeof kind !== 'string') {\n      throw new Error('Invalid or missing kind provided for stories, should be a string');\n    }\n\n    if (!m) {\n      _clientLogger.logger.warn(\"Missing 'module' parameter for story with a kind of '\".concat(kind, \"'. It will break your HMR\"));\n    }\n\n    if (m) {\n      var proto = Object.getPrototypeOf(m);\n\n      if (proto.exports && proto.exports[\"default\"]) {\n        // FIXME: throw an error in SB6.0\n        _clientLogger.logger.error(\"Illegal mix of CSF default export and storiesOf calls in a single file: \".concat(proto.i));\n      }\n    }\n\n    if (m && m.hot && m.hot.dispose) {\n      m.hot.dispose(function () {\n        var _storyStore = _this._storyStore;\n\n        _storyStore.removeStoryKind(kind);\n\n        _storyStore.incrementRevision();\n      });\n    }\n\n    var localDecorators = [];\n    var localParameters = {};\n    var hasAdded = false;\n    var api = {\n      kind: kind.toString(),\n      add: function add() {\n        return api;\n      },\n      addDecorator: function addDecorator() {\n        return api;\n      },\n      addParameters: function addParameters() {\n        return api;\n      }\n    }; // apply addons\n\n    Object.keys(_this._addons).forEach(function (name) {\n      var addon = _this._addons[name];\n\n      api[name] = function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        addon.apply(api, args);\n        return api;\n      };\n    });\n\n    api.add = function (storyName, storyFn) {\n      var parameters = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      hasAdded = true;\n      var id = parameters.__id || (0, _csf.toId)(kind, storyName);\n\n      if (typeof storyName !== 'string') {\n        throw new Error(\"Invalid or missing storyName provided for a \\\"\".concat(kind, \"\\\" story.\"));\n      }\n\n      if (m && m.hot && m.hot.dispose) {\n        m.hot.dispose(function () {\n          var _storyStore = _this._storyStore;\n\n          _storyStore.remove(id);\n        });\n      }\n\n      var fileName = m && m.id ? \"\".concat(m.id) : undefined;\n      var allParam = [_globalParameters, localParameters, parameters].reduce(function (acc, p) {\n        if (p) {\n          Object.entries(p).forEach(function (_ref3) {\n            var _ref4 = _slicedToArray(_ref3, 2),\n                key = _ref4[0],\n                value = _ref4[1];\n\n            var existingValue = acc[key];\n\n            if (Array.isArray(value)) {\n              acc[key] = value;\n            } else if ((0, _isPlainObject[\"default\"])(value) && (0, _isPlainObject[\"default\"])(existingValue)) {\n              acc[key] = merge(existingValue, value);\n            } else {\n              acc[key] = value;\n            }\n          });\n        }\n\n        return acc;\n      }, {\n        fileName: fileName\n      });\n\n      _this._storyStore.addStory({\n        id: id,\n        kind: kind,\n        name: storyName,\n        storyFn: storyFn,\n        parameters: allParam\n      }, {\n        applyDecorators: (0, _hooks.applyHooks)(_this._decorateStory),\n        getDecorators: function getDecorators() {\n          return [].concat(_toConsumableArray(allParam.decorators || []), localDecorators, _toConsumableArray(_globalDecorators), [withSubscriptionTracking]);\n        }\n      });\n\n      return api;\n    };\n\n    api.addDecorator = function (decorator) {\n      if (hasAdded) {\n        _clientLogger.logger.warn(\"You have added a decorator to the kind '\".concat(kind, \"' after a story has already been added.\\nIn Storybook 4 this applied the decorator only to subsequent stories. In Storybook 5+ it applies to all stories.\\nThis is probably not what you intended. Read more here: https://github.com/storybookjs/storybook/blob/master/MIGRATION.md\"));\n      }\n\n      localDecorators.push(decorator);\n      return api;\n    };\n\n    api.addParameters = function (parameters) {\n      localParameters = Object.assign({}, localParameters, {}, parameters);\n      return api;\n    };\n\n    return api;\n  };\n\n  this.getStorybook = function () {\n    return _this._storyStore.getStoryKinds().map(function (kind) {\n      var fileName = _this._storyStore.getStoryFileName(kind);\n\n      var stories = _this._storyStore.getStories(kind).map(function (name) {\n        var render = _this._storyStore.getStoryWithContext(kind, name);\n\n        return {\n          name: name,\n          render: render\n        };\n      });\n\n      return {\n        kind: kind,\n        fileName: fileName,\n        stories: stories\n      };\n    });\n  };\n\n  this.raw = function () {\n    return _this._storyStore.raw();\n  };\n\n  this.store = function () {\n    return _this._storyStore;\n  };\n\n  this._storyStore = storyStore;\n  this._addons = {};\n  this._decorateStory = decorateStory;\n\n  if (!storyStore) {\n    throw new Error('storyStore is required');\n  }\n};\n\nexports[\"default\"] = ClientApi;","map":{"version":3,"sources":["/Users/qier/Documents/cs407/In-request_cs407/dev/Front-end/in-request/node_modules/@storybook/client-api/dist/client_api.js"],"names":["require","Object","defineProperty","exports","value","addParameters","addDecorator","defaultDecorateStory","_utilDeprecate","_interopRequireDefault","_isPlainObject","_clientLogger","_addons","_coreEvents","_csf","_mergeWith","_isEqual","_get","_subscriptions_store","_hooks","obj","__esModule","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","prototype","toString","call","Array","from","isArray","i","arr2","length","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","err","_classCallCheck","instance","Constructor","merge","a","b","objValue","srcValue","forEach","s","existing","find","o","logger","log","defaultContext","id","name","kind","parameters","storyFn","decorators","reduce","decorated","decorator","context","arguments","p","assign","metaSubscriptionHandler","register","metaSubscription","getChannel","on","REGISTER_SUBSCRIPTION","removeListener","withSubscriptionTracking","hasChannel","markAllAsUnused","result","clearUnused","_globalDecorators","_globalParameters","decoratorFn","options","docs","ClientApi","_ref","_this","storyStore","_ref$decorateStory","decorateStory","_storyStore","_decorateStory","setAddon","addon","getSeparators","_ref2","hierarchySeparator","hierarchyRootSeparator","showRoots","store","getStoryKinds","some","match","clearDecorators","clearParameters","storiesOf","m","Error","warn","concat","proto","getPrototypeOf","error","hot","dispose","removeStoryKind","incrementRevision","localDecorators","localParameters","hasAdded","api","add","keys","_len","args","_key","apply","storyName","__id","toId","remove","fileName","allParam","acc","entries","_ref3","_ref4","key","existingValue","addStory","applyDecorators","applyHooks","getDecorators","getStorybook","map","getStoryFileName","stories","getStories","render","getStoryWithContext","raw"],"mappings":"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","sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.symbol\");\n\nrequire(\"core-js/modules/es.symbol.description\");\n\nrequire(\"core-js/modules/es.symbol.iterator\");\n\nrequire(\"core-js/modules/es.array.concat\");\n\nrequire(\"core-js/modules/es.array.find\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.array.from\");\n\nrequire(\"core-js/modules/es.array.is-array\");\n\nrequire(\"core-js/modules/es.array.iterator\");\n\nrequire(\"core-js/modules/es.array.map\");\n\nrequire(\"core-js/modules/es.array.reduce\");\n\nrequire(\"core-js/modules/es.array.some\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.object.assign\");\n\nrequire(\"core-js/modules/es.object.entries\");\n\nrequire(\"core-js/modules/es.object.get-prototype-of\");\n\nrequire(\"core-js/modules/es.object.keys\");\n\nrequire(\"core-js/modules/es.object.to-string\");\n\nrequire(\"core-js/modules/es.regexp.exec\");\n\nrequire(\"core-js/modules/es.regexp.to-string\");\n\nrequire(\"core-js/modules/es.string.iterator\");\n\nrequire(\"core-js/modules/es.string.match\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.addParameters = exports.addDecorator = exports.defaultDecorateStory = void 0;\n\nvar _utilDeprecate = _interopRequireDefault(require(\"util-deprecate\"));\n\nvar _isPlainObject = _interopRequireDefault(require(\"is-plain-object\"));\n\nvar _clientLogger = require(\"@storybook/client-logger\");\n\nvar _addons = _interopRequireDefault(require(\"@storybook/addons\"));\n\nvar _coreEvents = _interopRequireDefault(require(\"@storybook/core-events\"));\n\nvar _csf = require(\"@storybook/csf\");\n\nvar _mergeWith = _interopRequireDefault(require(\"lodash/mergeWith\"));\n\nvar _isEqual = _interopRequireDefault(require(\"lodash/isEqual\"));\n\nvar _get = _interopRequireDefault(require(\"lodash/get\"));\n\nvar _subscriptions_store = _interopRequireDefault(require(\"./subscriptions_store\"));\n\nvar _hooks = require(\"./hooks\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// merge with concatenating arrays, but no duplicates\nvar merge = function merge(a, b) {\n  return (0, _mergeWith[\"default\"])({}, a, b, function (objValue, srcValue) {\n    if (Array.isArray(srcValue) && Array.isArray(objValue)) {\n      srcValue.forEach(function (s) {\n        var existing = objValue.find(function (o) {\n          return o === s || (0, _isEqual[\"default\"])(o, s);\n        });\n\n        if (!existing) {\n          objValue.push(s);\n        }\n      });\n      return objValue;\n    }\n\n    if (Array.isArray(objValue)) {\n      _clientLogger.logger.log('the types mismatch, picking', objValue);\n\n      return objValue;\n    }\n\n    return undefined;\n  });\n};\n\nvar defaultContext = {\n  id: 'unspecified',\n  name: 'unspecified',\n  kind: 'unspecified',\n  parameters: {}\n};\n\nvar defaultDecorateStory = function defaultDecorateStory(storyFn, decorators) {\n  return decorators.reduce(function (decorated, decorator) {\n    return function () {\n      var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultContext;\n      return decorator(function (p) {\n        return decorated(p ? Object.assign({}, context, {}, p, {\n          parameters: Object.assign({}, context.parameters, {}, p.parameters)\n        }) : context);\n      }, context);\n    };\n  }, storyFn);\n};\n\nexports.defaultDecorateStory = defaultDecorateStory;\nvar metaSubscriptionHandler = (0, _utilDeprecate[\"default\"])(_subscriptions_store[\"default\"].register, 'Events.REGISTER_SUBSCRIPTION is deprecated and will be removed in 6.0. Please use useEffect from @storybook/client-api instead.');\n\nvar metaSubscription = function metaSubscription() {\n  _addons[\"default\"].getChannel().on(_coreEvents[\"default\"].REGISTER_SUBSCRIPTION, metaSubscriptionHandler);\n\n  return function () {\n    return _addons[\"default\"].getChannel().removeListener(_coreEvents[\"default\"].REGISTER_SUBSCRIPTION, metaSubscriptionHandler);\n  };\n};\n\nvar withSubscriptionTracking = function withSubscriptionTracking(storyFn) {\n  if (!_addons[\"default\"].hasChannel()) {\n    return storyFn();\n  }\n\n  _subscriptions_store[\"default\"].markAllAsUnused();\n\n  _subscriptions_store[\"default\"].register(metaSubscription);\n\n  var result = storyFn();\n\n  _subscriptions_store[\"default\"].clearUnused();\n\n  return result;\n};\n\nvar _globalDecorators = [];\nvar _globalParameters = {};\n\nvar addDecorator = function addDecorator(decoratorFn) {\n  _globalDecorators.push(decoratorFn);\n};\n\nexports.addDecorator = addDecorator;\n\nvar addParameters = function addParameters(parameters) {\n  _globalParameters = Object.assign({}, _globalParameters, {}, parameters, {\n    options: Object.assign({}, merge((0, _get[\"default\"])(_globalParameters, 'options', {}), (0, _get[\"default\"])(parameters, 'options', {}))),\n    // FIXME: https://github.com/storybookjs/storybook/issues/7872\n    docs: Object.assign({}, merge((0, _get[\"default\"])(_globalParameters, 'docs', {}), (0, _get[\"default\"])(parameters, 'docs', {})))\n  });\n};\n\nexports.addParameters = addParameters;\n\nvar ClientApi = function ClientApi(_ref) {\n  var _this = this;\n\n  var storyStore = _ref.storyStore,\n      _ref$decorateStory = _ref.decorateStory,\n      decorateStory = _ref$decorateStory === void 0 ? defaultDecorateStory : _ref$decorateStory;\n\n  _classCallCheck(this, ClientApi);\n\n  this._storyStore = void 0;\n  this._addons = void 0;\n  this._decorateStory = void 0;\n\n  this.setAddon = function (addon) {\n    _this._addons = Object.assign({}, _this._addons, {}, addon);\n  };\n\n  this.getSeparators = function () {\n    var _ref2 = _globalParameters.options || {},\n        hierarchySeparator = _ref2.hierarchySeparator,\n        hierarchyRootSeparator = _ref2.hierarchyRootSeparator,\n        showRoots = _ref2.showRoots; // Note these checks will be removed in 6.0, leaving this much simpler\n\n\n    if (typeof hierarchySeparator !== 'undefined' || typeof hierarchyRootSeparator !== 'undefined') {\n      return {\n        hierarchySeparator: hierarchySeparator,\n        hierarchyRootSeparator: hierarchyRootSeparator\n      };\n    }\n\n    if (typeof showRoots === 'undefined' && _this.store().getStoryKinds().some(function (kind) {\n      return kind.match(/\\.|\\|/);\n    })) {\n      return {\n        hierarchyRootSeparator: '|',\n        hierarchySeparator: /\\/|\\./\n      };\n    }\n\n    return {\n      hierarchySeparator: '/'\n    };\n  };\n\n  this.addDecorator = function (decorator) {\n    addDecorator(decorator);\n  };\n\n  this.addParameters = function (parameters) {\n    addParameters(parameters);\n  };\n\n  this.clearDecorators = function () {\n    _globalDecorators = [];\n  };\n\n  this.clearParameters = function () {\n    // Utility function FOR TESTING USE ONLY\n    _globalParameters = {};\n  };\n\n  this.storiesOf = function (kind, m) {\n    if (!kind && typeof kind !== 'string') {\n      throw new Error('Invalid or missing kind provided for stories, should be a string');\n    }\n\n    if (!m) {\n      _clientLogger.logger.warn(\"Missing 'module' parameter for story with a kind of '\".concat(kind, \"'. It will break your HMR\"));\n    }\n\n    if (m) {\n      var proto = Object.getPrototypeOf(m);\n\n      if (proto.exports && proto.exports[\"default\"]) {\n        // FIXME: throw an error in SB6.0\n        _clientLogger.logger.error(\"Illegal mix of CSF default export and storiesOf calls in a single file: \".concat(proto.i));\n      }\n    }\n\n    if (m && m.hot && m.hot.dispose) {\n      m.hot.dispose(function () {\n        var _storyStore = _this._storyStore;\n\n        _storyStore.removeStoryKind(kind);\n\n        _storyStore.incrementRevision();\n      });\n    }\n\n    var localDecorators = [];\n    var localParameters = {};\n    var hasAdded = false;\n    var api = {\n      kind: kind.toString(),\n      add: function add() {\n        return api;\n      },\n      addDecorator: function addDecorator() {\n        return api;\n      },\n      addParameters: function addParameters() {\n        return api;\n      }\n    }; // apply addons\n\n    Object.keys(_this._addons).forEach(function (name) {\n      var addon = _this._addons[name];\n\n      api[name] = function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        addon.apply(api, args);\n        return api;\n      };\n    });\n\n    api.add = function (storyName, storyFn) {\n      var parameters = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      hasAdded = true;\n      var id = parameters.__id || (0, _csf.toId)(kind, storyName);\n\n      if (typeof storyName !== 'string') {\n        throw new Error(\"Invalid or missing storyName provided for a \\\"\".concat(kind, \"\\\" story.\"));\n      }\n\n      if (m && m.hot && m.hot.dispose) {\n        m.hot.dispose(function () {\n          var _storyStore = _this._storyStore;\n\n          _storyStore.remove(id);\n        });\n      }\n\n      var fileName = m && m.id ? \"\".concat(m.id) : undefined;\n      var allParam = [_globalParameters, localParameters, parameters].reduce(function (acc, p) {\n        if (p) {\n          Object.entries(p).forEach(function (_ref3) {\n            var _ref4 = _slicedToArray(_ref3, 2),\n                key = _ref4[0],\n                value = _ref4[1];\n\n            var existingValue = acc[key];\n\n            if (Array.isArray(value)) {\n              acc[key] = value;\n            } else if ((0, _isPlainObject[\"default\"])(value) && (0, _isPlainObject[\"default\"])(existingValue)) {\n              acc[key] = merge(existingValue, value);\n            } else {\n              acc[key] = value;\n            }\n          });\n        }\n\n        return acc;\n      }, {\n        fileName: fileName\n      });\n\n      _this._storyStore.addStory({\n        id: id,\n        kind: kind,\n        name: storyName,\n        storyFn: storyFn,\n        parameters: allParam\n      }, {\n        applyDecorators: (0, _hooks.applyHooks)(_this._decorateStory),\n        getDecorators: function getDecorators() {\n          return [].concat(_toConsumableArray(allParam.decorators || []), localDecorators, _toConsumableArray(_globalDecorators), [withSubscriptionTracking]);\n        }\n      });\n\n      return api;\n    };\n\n    api.addDecorator = function (decorator) {\n      if (hasAdded) {\n        _clientLogger.logger.warn(\"You have added a decorator to the kind '\".concat(kind, \"' after a story has already been added.\\nIn Storybook 4 this applied the decorator only to subsequent stories. In Storybook 5+ it applies to all stories.\\nThis is probably not what you intended. Read more here: https://github.com/storybookjs/storybook/blob/master/MIGRATION.md\"));\n      }\n\n      localDecorators.push(decorator);\n      return api;\n    };\n\n    api.addParameters = function (parameters) {\n      localParameters = Object.assign({}, localParameters, {}, parameters);\n      return api;\n    };\n\n    return api;\n  };\n\n  this.getStorybook = function () {\n    return _this._storyStore.getStoryKinds().map(function (kind) {\n      var fileName = _this._storyStore.getStoryFileName(kind);\n\n      var stories = _this._storyStore.getStories(kind).map(function (name) {\n        var render = _this._storyStore.getStoryWithContext(kind, name);\n\n        return {\n          name: name,\n          render: render\n        };\n      });\n\n      return {\n        kind: kind,\n        fileName: fileName,\n        stories: stories\n      };\n    });\n  };\n\n  this.raw = function () {\n    return _this._storyStore.raw();\n  };\n\n  this.store = function () {\n    return _this._storyStore;\n  };\n\n  this._storyStore = storyStore;\n  this._addons = {};\n  this._decorateStory = decorateStory;\n\n  if (!storyStore) {\n    throw new Error('storyStore is required');\n  }\n};\n\nexports[\"default\"] = ClientApi;"]},"metadata":{},"sourceType":"script"}