{"ast":null,"code":"var _jsxFileName = \"/Users/qier/Documents/cs407/In-request_cs407/dev/Front-end/in-request/src/Components/Home/uploadimg.js\";\nimport React, { Component } from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport { storage } from '../../firebase';\nimport PersonIcon from '@material-ui/icons/Person';\nimport PublishIcon from '@material-ui/icons/Publish';\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nclass Upload extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      if (e.target.files[0]) {\n        const image = e.target.files[0];\n        this.setState(() => ({\n          image\n        })); //image = this.state.image;\n\n        const uploadtask = storage.ref(`images/${image.name}`).put(image);\n        uploadtask.on('state_changed', snapshot => {\n          console.log(\"intheresomewhere\"); //progress\n        }, error => {\n          console.log();\n        }, () => {\n          //complete\n          storage.ref('images').child(image.name).getDownloadURL().then(url => {\n            console.log(url);\n            this.setState({\n              url\n            });\n          });\n        });\n      }\n    };\n\n    this.handleUpdate = e => {// const {image} = this.state;\n      // const uploadtask = storage.ref(`images/${image.name}`).put(image);\n      // uploadtask.on('state_changed', (snapshot) => {\n      //     console.log(\"intheresomewhere\")//progress\n      // }, (error) => {console.log()}, () => {\n      //     //complete\n      //     storage.ref('images').child(image.name).getDownloadURL().then(url => {\n      //         console.log(url);\n      //         this.setState({url});\n      //     })\n      // });\n    };\n\n    this.state = {\n      image: null,\n      url: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleUpdate = this.handleUpdate.bind(this);\n  }\n\n  render() {\n    const style = {\n      height: '100vh,',\n      display: 'flex ',\n      flexDirection: 'column',\n      alignItems: 'center'\n    };\n    return React.createElement(\"div\", {\n      style: style,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"myInput\",\n      type: \"file\",\n      ref: ref => this.myInput = ref,\n      style: {\n        display: 'none'\n      },\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(IconButton, {\n      onClick: e => this.myInput.click(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Avatar, {\n      src: this.state.url,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Upload;","map":{"version":3,"sources":["/Users/qier/Documents/cs407/In-request_cs407/dev/Front-end/in-request/src/Components/Home/uploadimg.js"],"names":["React","Component","IconButton","Button","storage","PersonIcon","PublishIcon","Avatar","makeStyles","withStyles","Upload","constructor","props","handleChange","e","target","files","image","setState","uploadtask","ref","name","put","on","snapshot","console","log","error","child","getDownloadURL","then","url","handleUpdate","state","bind","render","style","height","display","flexDirection","alignItems","myInput","click"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from  \"@material-ui/core/Button\";\nimport {storage} from '../../firebase';\nimport PersonIcon from '@material-ui/icons/Person';\nimport PublishIcon from '@material-ui/icons/Publish';\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { makeStyles,withStyles } from '@material-ui/core/styles';\n\n\n\nclass Upload extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            image: null,\n            url: ''\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.handleUpdate = this.handleUpdate.bind(this);\n    }\n\n\n    handleChange = e => {\n        if(e.target.files[0]){\n            const image = e.target.files[0];\n            this.setState(()=>({image}));\n            //image = this.state.image;\n            const uploadtask = storage.ref(`images/${image.name}`).put(image);\n            uploadtask.on('state_changed', (snapshot) => {\n                console.log(\"intheresomewhere\")//progress\n            }, (error) => {console.log()}, () => {\n                //complete\n                storage.ref('images').child(image.name).getDownloadURL().then(url => {\n                    console.log(url);\n                    this.setState({url});\n                })\n            });\n        }\n\n    }\n    handleUpdate = e => {\n        // const {image} = this.state;\n        // const uploadtask = storage.ref(`images/${image.name}`).put(image);\n        // uploadtask.on('state_changed', (snapshot) => {\n        //     console.log(\"intheresomewhere\")//progress\n        // }, (error) => {console.log()}, () => {\n        //     //complete\n        //     storage.ref('images').child(image.name).getDownloadURL().then(url => {\n        //         console.log(url);\n        //         this.setState({url});\n        //     })\n        // });\n    }\n\n\n    render(){\n        const style = {\n            height: '100vh,',\n            display: 'flex ',\n            flexDirection: 'column',\n            alignItems: 'center'\n        };\n        return (\n            <div style={style}>\n                <input id=\"myInput\" type=\"file\" ref={(ref) => this.myInput = ref} style = {{display : 'none'}}  onChange={this.handleChange}/>\n                <IconButton onClick={(e) => this.myInput.click() } >\n                    <Avatar src={this.state.url} />\n                </IconButton>\n\n            </div>\n        )\n    }\n}\nexport default Upload;"]},"metadata":{},"sourceType":"module"}