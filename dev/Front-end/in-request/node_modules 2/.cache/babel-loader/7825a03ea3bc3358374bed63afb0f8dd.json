{"ast":null,"code":"/*! firebase-admin v8.9.2 */\n\"use strict\";\n/*!\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar error_1 = require(\"../utils/error\");\n\nvar credential_1 = require(\"../auth/credential\");\n\nvar utils = require(\"../utils/index\");\n\nvar validator = require(\"../utils/validator\");\n/**\n * Internals of a Storage instance.\n */\n\n\nvar StorageInternals =\n/** @class */\nfunction () {\n  function StorageInternals() {}\n  /**\n   * Deletes the service and its associated resources.\n   *\n   * @return {Promise<()>} An empty Promise that will be fulfilled when the service is deleted.\n   */\n\n\n  StorageInternals.prototype.delete = function () {\n    // There are no resources to clean up.\n    return Promise.resolve();\n  };\n\n  return StorageInternals;\n}();\n/**\n * Storage service bound to the provided app.\n */\n\n\nvar Storage =\n/** @class */\nfunction () {\n  /**\n   * @param {FirebaseApp} app The app for this Storage service.\n   * @constructor\n   */\n  function Storage(app) {\n    this.INTERNAL = new StorageInternals();\n\n    if (!validator.isNonNullObject(app) || !('options' in app)) {\n      throw new error_1.FirebaseError({\n        code: 'storage/invalid-argument',\n        message: 'First argument passed to admin.storage() must be a valid Firebase app instance.'\n      });\n    }\n\n    var storage;\n\n    try {\n      storage = require('@google-cloud/storage').Storage;\n    } catch (err) {\n      throw new error_1.FirebaseError({\n        code: 'storage/missing-dependencies',\n        message: 'Failed to import the Cloud Storage client library for Node.js. ' + 'Make sure to install the \"@google-cloud/storage\" npm package. ' + (\"Original error: \" + err)\n      });\n    }\n\n    var projectId = utils.getExplicitProjectId(app);\n    var credential = app.options.credential;\n\n    if (credential instanceof credential_1.ServiceAccountCredential) {\n      this.storageClient = new storage({\n        // When the SDK is initialized with ServiceAccountCredentials an explicit projectId is\n        // guaranteed to be available.\n        projectId: projectId,\n        credentials: {\n          private_key: credential.privateKey,\n          client_email: credential.clientEmail\n        }\n      });\n    } else if (credential_1.isApplicationDefault(app.options.credential)) {\n      // Try to use the Google application default credentials.\n      this.storageClient = new storage();\n    } else {\n      throw new error_1.FirebaseError({\n        code: 'storage/invalid-credential',\n        message: 'Failed to initialize Google Cloud Storage client with the available credential. ' + 'Must initialize the SDK with a certificate credential or application default credentials ' + 'to use Cloud Storage API.'\n      });\n    }\n\n    this.appInternal = app;\n  }\n  /**\n   * Returns a reference to a Google Cloud Storage bucket. Returned reference can be used to upload\n   * and download content from Google Cloud Storage.\n   *\n   * @param {string=} name Optional name of the bucket to be retrieved. If name is not specified,\n   *   retrieves a reference to the default bucket.\n   * @return {Bucket} A Bucket object from the @google-cloud/storage library.\n   */\n\n\n  Storage.prototype.bucket = function (name) {\n    var bucketName = typeof name !== 'undefined' ? name : this.appInternal.options.storageBucket;\n\n    if (validator.isNonEmptyString(bucketName)) {\n      return this.storageClient.bucket(bucketName);\n    }\n\n    throw new error_1.FirebaseError({\n      code: 'storage/invalid-argument',\n      message: 'Bucket name not specified or invalid. Specify a valid bucket name via the ' + 'storageBucket option when initializing the app, or specify the bucket name ' + 'explicitly when calling the getBucket() method.'\n    });\n  };\n\n  Object.defineProperty(Storage.prototype, \"app\", {\n    /**\n     * Returns the app associated with this Storage instance.\n     *\n     * @return {FirebaseApp} The app associated with this Storage instance.\n     */\n    get: function () {\n      return this.appInternal;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return Storage;\n}();\n\nexports.Storage = Storage;","map":{"version":3,"sources":["/Users/qier/Documents/cs407/In-request_cs407/dev/Front-end/in-request/node_modules/firebase-admin/lib/storage/storage.js"],"names":["Object","defineProperty","exports","value","error_1","require","credential_1","utils","validator","StorageInternals","prototype","delete","Promise","resolve","Storage","app","INTERNAL","isNonNullObject","FirebaseError","code","message","storage","err","projectId","getExplicitProjectId","credential","options","ServiceAccountCredential","storageClient","credentials","private_key","privateKey","client_email","clientEmail","isApplicationDefault","appInternal","bucket","name","bucketName","storageBucket","isNonEmptyString","get","enumerable","configurable"],"mappings":"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","sourcesContent":["/*! firebase-admin v8.9.2 */\n\"use strict\";\n/*!\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar error_1 = require(\"../utils/error\");\nvar credential_1 = require(\"../auth/credential\");\nvar utils = require(\"../utils/index\");\nvar validator = require(\"../utils/validator\");\n/**\n * Internals of a Storage instance.\n */\nvar StorageInternals = /** @class */ (function () {\n    function StorageInternals() {\n    }\n    /**\n     * Deletes the service and its associated resources.\n     *\n     * @return {Promise<()>} An empty Promise that will be fulfilled when the service is deleted.\n     */\n    StorageInternals.prototype.delete = function () {\n        // There are no resources to clean up.\n        return Promise.resolve();\n    };\n    return StorageInternals;\n}());\n/**\n * Storage service bound to the provided app.\n */\nvar Storage = /** @class */ (function () {\n    /**\n     * @param {FirebaseApp} app The app for this Storage service.\n     * @constructor\n     */\n    function Storage(app) {\n        this.INTERNAL = new StorageInternals();\n        if (!validator.isNonNullObject(app) || !('options' in app)) {\n            throw new error_1.FirebaseError({\n                code: 'storage/invalid-argument',\n                message: 'First argument passed to admin.storage() must be a valid Firebase app instance.',\n            });\n        }\n        var storage;\n        try {\n            storage = require('@google-cloud/storage').Storage;\n        }\n        catch (err) {\n            throw new error_1.FirebaseError({\n                code: 'storage/missing-dependencies',\n                message: 'Failed to import the Cloud Storage client library for Node.js. '\n                    + 'Make sure to install the \"@google-cloud/storage\" npm package. '\n                    + (\"Original error: \" + err),\n            });\n        }\n        var projectId = utils.getExplicitProjectId(app);\n        var credential = app.options.credential;\n        if (credential instanceof credential_1.ServiceAccountCredential) {\n            this.storageClient = new storage({\n                // When the SDK is initialized with ServiceAccountCredentials an explicit projectId is\n                // guaranteed to be available.\n                projectId: projectId,\n                credentials: {\n                    private_key: credential.privateKey,\n                    client_email: credential.clientEmail,\n                },\n            });\n        }\n        else if (credential_1.isApplicationDefault(app.options.credential)) {\n            // Try to use the Google application default credentials.\n            this.storageClient = new storage();\n        }\n        else {\n            throw new error_1.FirebaseError({\n                code: 'storage/invalid-credential',\n                message: 'Failed to initialize Google Cloud Storage client with the available credential. ' +\n                    'Must initialize the SDK with a certificate credential or application default credentials ' +\n                    'to use Cloud Storage API.',\n            });\n        }\n        this.appInternal = app;\n    }\n    /**\n     * Returns a reference to a Google Cloud Storage bucket. Returned reference can be used to upload\n     * and download content from Google Cloud Storage.\n     *\n     * @param {string=} name Optional name of the bucket to be retrieved. If name is not specified,\n     *   retrieves a reference to the default bucket.\n     * @return {Bucket} A Bucket object from the @google-cloud/storage library.\n     */\n    Storage.prototype.bucket = function (name) {\n        var bucketName = (typeof name !== 'undefined')\n            ? name : this.appInternal.options.storageBucket;\n        if (validator.isNonEmptyString(bucketName)) {\n            return this.storageClient.bucket(bucketName);\n        }\n        throw new error_1.FirebaseError({\n            code: 'storage/invalid-argument',\n            message: 'Bucket name not specified or invalid. Specify a valid bucket name via the ' +\n                'storageBucket option when initializing the app, or specify the bucket name ' +\n                'explicitly when calling the getBucket() method.',\n        });\n    };\n    Object.defineProperty(Storage.prototype, \"app\", {\n        /**\n         * Returns the app associated with this Storage instance.\n         *\n         * @return {FirebaseApp} The app associated with this Storage instance.\n         */\n        get: function () {\n            return this.appInternal;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Storage;\n}());\nexports.Storage = Storage;\n"]},"metadata":{},"sourceType":"script"}