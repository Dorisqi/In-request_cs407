{"ast":null,"code":"\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar entities = require('entities');\n\nvar defaults = {\n  fg: '#FFF',\n  bg: '#000',\n  newline: false,\n  escapeXML: false,\n  stream: false,\n  colors: getDefaultColors()\n};\n\nfunction getDefaultColors() {\n  var colors = {\n    0: '#000',\n    1: '#A00',\n    2: '#0A0',\n    3: '#A50',\n    4: '#00A',\n    5: '#A0A',\n    6: '#0AA',\n    7: '#AAA',\n    8: '#555',\n    9: '#F55',\n    10: '#5F5',\n    11: '#FF5',\n    12: '#55F',\n    13: '#F5F',\n    14: '#5FF',\n    15: '#FFF'\n  };\n  range(0, 5).forEach(function (red) {\n    range(0, 5).forEach(function (green) {\n      range(0, 5).forEach(function (blue) {\n        return setStyleColor(red, green, blue, colors);\n      });\n    });\n  });\n  range(0, 23).forEach(function (gray) {\n    var c = gray + 232;\n    var l = toHexString(gray * 10 + 8);\n    colors[c] = '#' + l + l + l;\n  });\n  return colors;\n}\n/**\n * @param {number} red\n * @param {number} green\n * @param {number} blue\n * @param {object} colors\n */\n\n\nfunction setStyleColor(red, green, blue, colors) {\n  var c = 16 + red * 36 + green * 6 + blue;\n  var r = red > 0 ? red * 40 + 55 : 0;\n  var g = green > 0 ? green * 40 + 55 : 0;\n  var b = blue > 0 ? blue * 40 + 55 : 0;\n  colors[c] = toColorHexString([r, g, b]);\n}\n/**\n * Converts from a number like 15 to a hex string like 'F'\n * @param {number} num\n * @returns {string}\n */\n\n\nfunction toHexString(num) {\n  var str = num.toString(16);\n\n  while (str.length < 2) {\n    str = '0' + str;\n  }\n\n  return str;\n}\n/**\n * Converts from an array of numbers like [15, 15, 15] to a hex string like 'FFF'\n * @param {[red, green, blue]} ref\n * @returns {string}\n */\n\n\nfunction toColorHexString(ref) {\n  var results = [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = ref[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var r = _step.value;\n      results.push(toHexString(r));\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return '#' + results.join('');\n}\n/**\n * @param {Array} stack\n * @param {string} token\n * @param {*} data\n * @param {object} options\n */\n\n\nfunction generateOutput(stack, token, data, options) {\n  var result;\n\n  if (token === 'text') {\n    result = pushText(data, options);\n  } else if (token === 'display') {\n    result = handleDisplay(stack, data, options);\n  } else if (token === 'xterm256') {\n    result = pushForegroundColor(stack, options.colors[data]);\n  } else if (token === 'rgb') {\n    result = handleRgb(stack, data);\n  }\n\n  return result;\n}\n/**\n * @param {Array} stack\n * @param {string} data\n * @returns {*}\n */\n\n\nfunction handleRgb(stack, data) {\n  data = data.substring(2).slice(0, -1);\n  var operation = +data.substr(0, 2);\n  var color = data.substring(5).split(';');\n  var rgb = color.map(function (value) {\n    return ('0' + Number(value).toString(16)).substr(-2);\n  }).join('');\n  return pushStyle(stack, (operation === 38 ? 'color:#' : 'background-color:#') + rgb);\n}\n/**\n * @param {Array} stack\n * @param {number} code\n * @param {object} options\n * @returns {*}\n */\n\n\nfunction handleDisplay(stack, code, options) {\n  code = parseInt(code, 10);\n  var codeMap = {\n    '-1': function _() {\n      return '<br/>';\n    },\n    0: function _() {\n      return stack.length && resetStyles(stack);\n    },\n    1: function _() {\n      return pushTag(stack, 'b');\n    },\n    3: function _() {\n      return pushTag(stack, 'i');\n    },\n    4: function _() {\n      return pushTag(stack, 'u');\n    },\n    8: function _() {\n      return pushStyle(stack, 'display:none');\n    },\n    9: function _() {\n      return pushTag(stack, 'strike');\n    },\n    22: function _() {\n      return pushStyle(stack, 'font-weight:normal;text-decoration:none;font-style:normal');\n    },\n    23: function _() {\n      return closeTag(stack, 'i');\n    },\n    24: function _() {\n      return closeTag(stack, 'u');\n    },\n    39: function _() {\n      return pushForegroundColor(stack, options.fg);\n    },\n    49: function _() {\n      return pushBackgroundColor(stack, options.bg);\n    },\n    53: function _() {\n      return pushStyle(stack, 'text-decoration:overline');\n    }\n  };\n  var result;\n\n  if (codeMap[code]) {\n    result = codeMap[code]();\n  } else if (4 < code && code < 7) {\n    result = pushTag(stack, 'blink');\n  } else if (29 < code && code < 38) {\n    result = pushForegroundColor(stack, options.colors[code - 30]);\n  } else if (39 < code && code < 48) {\n    result = pushBackgroundColor(stack, options.colors[code - 40]);\n  } else if (89 < code && code < 98) {\n    result = pushForegroundColor(stack, options.colors[8 + (code - 90)]);\n  } else if (99 < code && code < 108) {\n    result = pushBackgroundColor(stack, options.colors[8 + (code - 100)]);\n  }\n\n  return result;\n}\n/**\n * Clear all the styles\n * @returns {string}\n */\n\n\nfunction resetStyles(stack) {\n  var stackClone = stack.slice(0);\n  stack.length = 0;\n  return stackClone.reverse().map(function (tag) {\n    return '</' + tag + '>';\n  }).join('');\n}\n/**\n * Creates an array of numbers ranging from low to high\n * @param {number} low\n * @param {number} high\n * @returns {Array}\n * @example range(3, 7); // creates [3, 4, 5, 6, 7]\n */\n\n\nfunction range(low, high) {\n  var results = [];\n\n  for (var j = low; j <= high; j++) {\n    results.push(j);\n  }\n\n  return results;\n}\n/**\n * Returns a new function that is true if value is NOT the same category\n * @param {string} category\n * @returns {function}\n */\n\n\nfunction notCategory(category) {\n  return function (e) {\n    return (category === null || e.category !== category) && category !== 'all';\n  };\n}\n/**\n * Converts a code into an ansi token type\n * @param {number} code\n * @returns {string}\n */\n\n\nfunction categoryForCode(code) {\n  code = parseInt(code, 10);\n  var result = null;\n\n  if (code === 0) {\n    result = 'all';\n  } else if (code === 1) {\n    result = 'bold';\n  } else if (2 < code && code < 5) {\n    result = 'underline';\n  } else if (4 < code && code < 7) {\n    result = 'blink';\n  } else if (code === 8) {\n    result = 'hide';\n  } else if (code === 9) {\n    result = 'strike';\n  } else if (29 < code && code < 38 || code === 39 || 89 < code && code < 98) {\n    result = 'foreground-color';\n  } else if (39 < code && code < 48 || code === 49 || 99 < code && code < 108) {\n    result = 'background-color';\n  }\n\n  return result;\n}\n/**\n * @param {string} text\n * @param {object} options\n * @returns {string}\n */\n\n\nfunction pushText(text, options) {\n  if (options.escapeXML) {\n    return entities.encodeXML(text);\n  }\n\n  return text;\n}\n/**\n * @param {Array} stack\n * @param {string} tag\n * @param {string} [style='']\n * @returns {string}\n */\n\n\nfunction pushTag(stack, tag, style) {\n  if (!style) {\n    style = '';\n  }\n\n  stack.push(tag);\n  return ['<' + tag, style ? ' style=\"' + style + '\"' : void 0, '>'].join('');\n}\n/**\n * @param {Array} stack\n * @param {string} style\n * @returns {string}\n */\n\n\nfunction pushStyle(stack, style) {\n  return pushTag(stack, 'span', style);\n}\n\nfunction pushForegroundColor(stack, color) {\n  return pushTag(stack, 'span', 'color:' + color);\n}\n\nfunction pushBackgroundColor(stack, color) {\n  return pushTag(stack, 'span', 'background-color:' + color);\n}\n/**\n * @param {Array} stack\n * @param {string} style\n * @returns {string}\n */\n\n\nfunction closeTag(stack, style) {\n  var last;\n\n  if (stack.slice(-1)[0] === style) {\n    last = stack.pop();\n  }\n\n  if (last) {\n    return '</' + style + '>';\n  }\n}\n/**\n * @param {string} text\n * @param {object} options\n * @param {function} callback\n * @returns {Array}\n */\n\n\nfunction tokenize(text, options, callback) {\n  var ansiMatch = false;\n  var ansiHandler = 3;\n\n  function remove() {\n    return '';\n  }\n\n  function removeXterm256(m, g1) {\n    callback('xterm256', g1);\n    return '';\n  }\n\n  function newline(m) {\n    if (options.newline) {\n      callback('display', -1);\n    } else {\n      callback('text', m);\n    }\n\n    return '';\n  }\n\n  function ansiMess(m, g1) {\n    ansiMatch = true;\n\n    if (g1.trim().length === 0) {\n      g1 = '0';\n    }\n\n    g1 = g1.trimRight(';').split(';');\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = g1[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var g = _step2.value;\n        callback('display', g);\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n          _iterator2[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n\n    return '';\n  }\n\n  function realText(m) {\n    callback('text', m);\n    return '';\n  }\n\n  function rgb(m) {\n    callback('rgb', m);\n    return '';\n  }\n  /* eslint no-control-regex:0 */\n\n\n  var tokens = [{\n    pattern: /^\\x08+/,\n    sub: remove\n  }, {\n    pattern: /^\\x1b\\[[012]?K/,\n    sub: remove\n  }, {\n    pattern: /^\\x1b\\[\\(B/,\n    sub: remove\n  }, {\n    pattern: /^\\x1b\\[[34]8;2;\\d+;\\d+;\\d+m/,\n    sub: rgb\n  }, {\n    pattern: /^\\x1b\\[38;5;(\\d+)m/,\n    sub: removeXterm256\n  }, {\n    pattern: /^\\n/,\n    sub: newline\n  }, {\n    pattern: /^\\r+\\n/,\n    sub: newline\n  }, {\n    pattern: /^\\x1b\\[((?:\\d{1,3};?)+|)m/,\n    sub: ansiMess\n  }, {\n    // CSI n J\n    // ED - Erase in Display Clears part of the screen.\n    // If n is 0 (or missing), clear from cursor to end of screen.\n    // If n is 1, clear from cursor to beginning of the screen.\n    // If n is 2, clear entire screen (and moves cursor to upper left on DOS ANSI.SYS).\n    // If n is 3, clear entire screen and delete all lines saved in the scrollback buffer\n    //   (this feature was added for xterm and is supported by other terminal applications).\n    pattern: /^\\x1b\\[\\d?J/,\n    sub: remove\n  }, {\n    // CSI n ; m f\n    // HVP - Horizontal Vertical Position Same as CUP\n    pattern: /^\\x1b\\[\\d{0,3};\\d{0,3}f/,\n    sub: remove\n  }, {\n    // catch-all for CSI sequences?\n    pattern: /^\\x1b\\[?[\\d;]{0,3}/,\n    sub: remove\n  }, {\n    /**\n     * extracts real text - not containing:\n     * - `\\x1b' - ESC - escape (Ascii 27)\n     * - '\\x08' - BS - backspace (Ascii 8)\n     * - `\\n` - Newline - linefeed (LF) (ascii 10)\n     * - `\\r` - Windows Carriage Return (CR)\n     */\n    pattern: /^(([^\\x1b\\x08\\r\\n])+)/,\n    sub: realText\n  }];\n\n  function process(handler, i) {\n    if (i > ansiHandler && ansiMatch) {\n      return;\n    }\n\n    ansiMatch = false;\n    text = text.replace(handler.pattern, handler.sub);\n  }\n\n  var results1 = [];\n  var _text = text,\n      length = _text.length;\n\n  outer: while (length > 0) {\n    for (var i = 0, o = 0, len = tokens.length; o < len; i = ++o) {\n      var handler = tokens[i];\n      process(handler, i);\n\n      if (text.length !== length) {\n        // We matched a token and removed it from the text. We need to\n        // start matching *all* tokens against the new text.\n        length = text.length;\n        continue outer;\n      }\n    }\n\n    if (text.length === length) {\n      break;\n    }\n\n    results1.push(0);\n    length = text.length;\n  }\n\n  return results1;\n}\n/**\n * If streaming, then the stack is \"sticky\"\n *\n * @param {Array} stickyStack\n * @param {string} token\n * @param {*} data\n * @returns {Array}\n */\n\n\nfunction updateStickyStack(stickyStack, token, data) {\n  if (token !== 'text') {\n    stickyStack = stickyStack.filter(notCategory(categoryForCode(data)));\n    stickyStack.push({\n      token: token,\n      data: data,\n      category: categoryForCode(data)\n    });\n  }\n\n  return stickyStack;\n}\n\nvar Filter =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {object} options\n   * @param {string=} options.fg The default foreground color used when reset color codes are encountered.\n   * @param {string=} options.bg The default background color used when reset color codes are encountered.\n   * @param {boolean=} options.newline Convert newline characters to `<br/>`.\n   * @param {boolean=} options.escapeXML Generate HTML/XML entities.\n   * @param {boolean=} options.stream Save style state across invocations of `toHtml()`.\n   * @param {(string[] | {[code: number]: string})=} options.colors Can override specific colors or the entire ANSI palette.\n   */\n  function Filter(options) {\n    _classCallCheck(this, Filter);\n\n    options = options || {};\n\n    if (options.colors) {\n      options.colors = Object.assign({}, defaults.colors, options.colors);\n    }\n\n    this.options = Object.assign({}, defaults, options);\n    this.stack = [];\n    this.stickyStack = [];\n  }\n  /**\n   * @param {string | string[]} input\n   * @returns {string}\n   */\n\n\n  _createClass(Filter, [{\n    key: \"toHtml\",\n    value: function toHtml(input) {\n      var _this = this;\n\n      input = typeof input === 'string' ? [input] : input;\n      var stack = this.stack,\n          options = this.options;\n      var buf = [];\n      this.stickyStack.forEach(function (element) {\n        var output = generateOutput(stack, element.token, element.data, options);\n\n        if (output) {\n          buf.push(output);\n        }\n      });\n      tokenize(input.join(''), options, function (token, data) {\n        var output = generateOutput(stack, token, data, options);\n\n        if (output) {\n          buf.push(output);\n        }\n\n        if (options.stream) {\n          _this.stickyStack = updateStickyStack(_this.stickyStack, token, data);\n        }\n      });\n\n      if (stack.length) {\n        buf.push(resetStyles(stack));\n      }\n\n      return buf.join('');\n    }\n  }]);\n\n  return Filter;\n}();\n\nmodule.exports = Filter;","map":{"version":3,"sources":["/Users/qier/Documents/cs407/In-request_cs407/dev/Front-end/in-request/node_modules/ansi-to-html/lib/ansi_to_html.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","entities","require","defaults","fg","bg","newline","escapeXML","stream","colors","getDefaultColors","range","forEach","red","green","blue","setStyleColor","gray","c","l","toHexString","r","g","b","toColorHexString","num","str","toString","ref","results","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_iterator","Symbol","iterator","_step","next","done","value","push","err","join","generateOutput","stack","token","data","options","result","pushText","handleDisplay","pushForegroundColor","handleRgb","substring","slice","operation","substr","color","split","rgb","map","Number","pushStyle","code","parseInt","codeMap","_","resetStyles","pushTag","closeTag","pushBackgroundColor","stackClone","reverse","tag","low","high","j","notCategory","category","e","categoryForCode","text","encodeXML","style","last","pop","tokenize","callback","ansiMatch","ansiHandler","remove","removeXterm256","m","g1","ansiMess","trim","trimRight","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","realText","tokens","pattern","sub","process","handler","replace","results1","_text","outer","o","len","updateStickyStack","stickyStack","filter","Filter","assign","toHtml","input","_this","buf","element","output","module","exports"],"mappings":"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","sourcesContent":["\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar entities = require('entities');\n\nvar defaults = {\n  fg: '#FFF',\n  bg: '#000',\n  newline: false,\n  escapeXML: false,\n  stream: false,\n  colors: getDefaultColors()\n};\n\nfunction getDefaultColors() {\n  var colors = {\n    0: '#000',\n    1: '#A00',\n    2: '#0A0',\n    3: '#A50',\n    4: '#00A',\n    5: '#A0A',\n    6: '#0AA',\n    7: '#AAA',\n    8: '#555',\n    9: '#F55',\n    10: '#5F5',\n    11: '#FF5',\n    12: '#55F',\n    13: '#F5F',\n    14: '#5FF',\n    15: '#FFF'\n  };\n  range(0, 5).forEach(function (red) {\n    range(0, 5).forEach(function (green) {\n      range(0, 5).forEach(function (blue) {\n        return setStyleColor(red, green, blue, colors);\n      });\n    });\n  });\n  range(0, 23).forEach(function (gray) {\n    var c = gray + 232;\n    var l = toHexString(gray * 10 + 8);\n    colors[c] = '#' + l + l + l;\n  });\n  return colors;\n}\n/**\n * @param {number} red\n * @param {number} green\n * @param {number} blue\n * @param {object} colors\n */\n\n\nfunction setStyleColor(red, green, blue, colors) {\n  var c = 16 + red * 36 + green * 6 + blue;\n  var r = red > 0 ? red * 40 + 55 : 0;\n  var g = green > 0 ? green * 40 + 55 : 0;\n  var b = blue > 0 ? blue * 40 + 55 : 0;\n  colors[c] = toColorHexString([r, g, b]);\n}\n/**\n * Converts from a number like 15 to a hex string like 'F'\n * @param {number} num\n * @returns {string}\n */\n\n\nfunction toHexString(num) {\n  var str = num.toString(16);\n\n  while (str.length < 2) {\n    str = '0' + str;\n  }\n\n  return str;\n}\n/**\n * Converts from an array of numbers like [15, 15, 15] to a hex string like 'FFF'\n * @param {[red, green, blue]} ref\n * @returns {string}\n */\n\n\nfunction toColorHexString(ref) {\n  var results = [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = ref[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var r = _step.value;\n      results.push(toHexString(r));\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return '#' + results.join('');\n}\n/**\n * @param {Array} stack\n * @param {string} token\n * @param {*} data\n * @param {object} options\n */\n\n\nfunction generateOutput(stack, token, data, options) {\n  var result;\n\n  if (token === 'text') {\n    result = pushText(data, options);\n  } else if (token === 'display') {\n    result = handleDisplay(stack, data, options);\n  } else if (token === 'xterm256') {\n    result = pushForegroundColor(stack, options.colors[data]);\n  } else if (token === 'rgb') {\n    result = handleRgb(stack, data);\n  }\n\n  return result;\n}\n/**\n * @param {Array} stack\n * @param {string} data\n * @returns {*}\n */\n\n\nfunction handleRgb(stack, data) {\n  data = data.substring(2).slice(0, -1);\n  var operation = +data.substr(0, 2);\n  var color = data.substring(5).split(';');\n  var rgb = color.map(function (value) {\n    return ('0' + Number(value).toString(16)).substr(-2);\n  }).join('');\n  return pushStyle(stack, (operation === 38 ? 'color:#' : 'background-color:#') + rgb);\n}\n/**\n * @param {Array} stack\n * @param {number} code\n * @param {object} options\n * @returns {*}\n */\n\n\nfunction handleDisplay(stack, code, options) {\n  code = parseInt(code, 10);\n  var codeMap = {\n    '-1': function _() {\n      return '<br/>';\n    },\n    0: function _() {\n      return stack.length && resetStyles(stack);\n    },\n    1: function _() {\n      return pushTag(stack, 'b');\n    },\n    3: function _() {\n      return pushTag(stack, 'i');\n    },\n    4: function _() {\n      return pushTag(stack, 'u');\n    },\n    8: function _() {\n      return pushStyle(stack, 'display:none');\n    },\n    9: function _() {\n      return pushTag(stack, 'strike');\n    },\n    22: function _() {\n      return pushStyle(stack, 'font-weight:normal;text-decoration:none;font-style:normal');\n    },\n    23: function _() {\n      return closeTag(stack, 'i');\n    },\n    24: function _() {\n      return closeTag(stack, 'u');\n    },\n    39: function _() {\n      return pushForegroundColor(stack, options.fg);\n    },\n    49: function _() {\n      return pushBackgroundColor(stack, options.bg);\n    },\n    53: function _() {\n      return pushStyle(stack, 'text-decoration:overline');\n    }\n  };\n  var result;\n\n  if (codeMap[code]) {\n    result = codeMap[code]();\n  } else if (4 < code && code < 7) {\n    result = pushTag(stack, 'blink');\n  } else if (29 < code && code < 38) {\n    result = pushForegroundColor(stack, options.colors[code - 30]);\n  } else if (39 < code && code < 48) {\n    result = pushBackgroundColor(stack, options.colors[code - 40]);\n  } else if (89 < code && code < 98) {\n    result = pushForegroundColor(stack, options.colors[8 + (code - 90)]);\n  } else if (99 < code && code < 108) {\n    result = pushBackgroundColor(stack, options.colors[8 + (code - 100)]);\n  }\n\n  return result;\n}\n/**\n * Clear all the styles\n * @returns {string}\n */\n\n\nfunction resetStyles(stack) {\n  var stackClone = stack.slice(0);\n  stack.length = 0;\n  return stackClone.reverse().map(function (tag) {\n    return '</' + tag + '>';\n  }).join('');\n}\n/**\n * Creates an array of numbers ranging from low to high\n * @param {number} low\n * @param {number} high\n * @returns {Array}\n * @example range(3, 7); // creates [3, 4, 5, 6, 7]\n */\n\n\nfunction range(low, high) {\n  var results = [];\n\n  for (var j = low; j <= high; j++) {\n    results.push(j);\n  }\n\n  return results;\n}\n/**\n * Returns a new function that is true if value is NOT the same category\n * @param {string} category\n * @returns {function}\n */\n\n\nfunction notCategory(category) {\n  return function (e) {\n    return (category === null || e.category !== category) && category !== 'all';\n  };\n}\n/**\n * Converts a code into an ansi token type\n * @param {number} code\n * @returns {string}\n */\n\n\nfunction categoryForCode(code) {\n  code = parseInt(code, 10);\n  var result = null;\n\n  if (code === 0) {\n    result = 'all';\n  } else if (code === 1) {\n    result = 'bold';\n  } else if (2 < code && code < 5) {\n    result = 'underline';\n  } else if (4 < code && code < 7) {\n    result = 'blink';\n  } else if (code === 8) {\n    result = 'hide';\n  } else if (code === 9) {\n    result = 'strike';\n  } else if (29 < code && code < 38 || code === 39 || 89 < code && code < 98) {\n    result = 'foreground-color';\n  } else if (39 < code && code < 48 || code === 49 || 99 < code && code < 108) {\n    result = 'background-color';\n  }\n\n  return result;\n}\n/**\n * @param {string} text\n * @param {object} options\n * @returns {string}\n */\n\n\nfunction pushText(text, options) {\n  if (options.escapeXML) {\n    return entities.encodeXML(text);\n  }\n\n  return text;\n}\n/**\n * @param {Array} stack\n * @param {string} tag\n * @param {string} [style='']\n * @returns {string}\n */\n\n\nfunction pushTag(stack, tag, style) {\n  if (!style) {\n    style = '';\n  }\n\n  stack.push(tag);\n  return ['<' + tag, style ? ' style=\"' + style + '\"' : void 0, '>'].join('');\n}\n/**\n * @param {Array} stack\n * @param {string} style\n * @returns {string}\n */\n\n\nfunction pushStyle(stack, style) {\n  return pushTag(stack, 'span', style);\n}\n\nfunction pushForegroundColor(stack, color) {\n  return pushTag(stack, 'span', 'color:' + color);\n}\n\nfunction pushBackgroundColor(stack, color) {\n  return pushTag(stack, 'span', 'background-color:' + color);\n}\n/**\n * @param {Array} stack\n * @param {string} style\n * @returns {string}\n */\n\n\nfunction closeTag(stack, style) {\n  var last;\n\n  if (stack.slice(-1)[0] === style) {\n    last = stack.pop();\n  }\n\n  if (last) {\n    return '</' + style + '>';\n  }\n}\n/**\n * @param {string} text\n * @param {object} options\n * @param {function} callback\n * @returns {Array}\n */\n\n\nfunction tokenize(text, options, callback) {\n  var ansiMatch = false;\n  var ansiHandler = 3;\n\n  function remove() {\n    return '';\n  }\n\n  function removeXterm256(m, g1) {\n    callback('xterm256', g1);\n    return '';\n  }\n\n  function newline(m) {\n    if (options.newline) {\n      callback('display', -1);\n    } else {\n      callback('text', m);\n    }\n\n    return '';\n  }\n\n  function ansiMess(m, g1) {\n    ansiMatch = true;\n\n    if (g1.trim().length === 0) {\n      g1 = '0';\n    }\n\n    g1 = g1.trimRight(';').split(';');\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = g1[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var g = _step2.value;\n        callback('display', g);\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n          _iterator2[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n\n    return '';\n  }\n\n  function realText(m) {\n    callback('text', m);\n    return '';\n  }\n\n  function rgb(m) {\n    callback('rgb', m);\n    return '';\n  }\n  /* eslint no-control-regex:0 */\n\n\n  var tokens = [{\n    pattern: /^\\x08+/,\n    sub: remove\n  }, {\n    pattern: /^\\x1b\\[[012]?K/,\n    sub: remove\n  }, {\n    pattern: /^\\x1b\\[\\(B/,\n    sub: remove\n  }, {\n    pattern: /^\\x1b\\[[34]8;2;\\d+;\\d+;\\d+m/,\n    sub: rgb\n  }, {\n    pattern: /^\\x1b\\[38;5;(\\d+)m/,\n    sub: removeXterm256\n  }, {\n    pattern: /^\\n/,\n    sub: newline\n  }, {\n    pattern: /^\\r+\\n/,\n    sub: newline\n  }, {\n    pattern: /^\\x1b\\[((?:\\d{1,3};?)+|)m/,\n    sub: ansiMess\n  }, {\n    // CSI n J\n    // ED - Erase in Display Clears part of the screen.\n    // If n is 0 (or missing), clear from cursor to end of screen.\n    // If n is 1, clear from cursor to beginning of the screen.\n    // If n is 2, clear entire screen (and moves cursor to upper left on DOS ANSI.SYS).\n    // If n is 3, clear entire screen and delete all lines saved in the scrollback buffer\n    //   (this feature was added for xterm and is supported by other terminal applications).\n    pattern: /^\\x1b\\[\\d?J/,\n    sub: remove\n  }, {\n    // CSI n ; m f\n    // HVP - Horizontal Vertical Position Same as CUP\n    pattern: /^\\x1b\\[\\d{0,3};\\d{0,3}f/,\n    sub: remove\n  }, {\n    // catch-all for CSI sequences?\n    pattern: /^\\x1b\\[?[\\d;]{0,3}/,\n    sub: remove\n  }, {\n    /**\n     * extracts real text - not containing:\n     * - `\\x1b' - ESC - escape (Ascii 27)\n     * - '\\x08' - BS - backspace (Ascii 8)\n     * - `\\n` - Newline - linefeed (LF) (ascii 10)\n     * - `\\r` - Windows Carriage Return (CR)\n     */\n    pattern: /^(([^\\x1b\\x08\\r\\n])+)/,\n    sub: realText\n  }];\n\n  function process(handler, i) {\n    if (i > ansiHandler && ansiMatch) {\n      return;\n    }\n\n    ansiMatch = false;\n    text = text.replace(handler.pattern, handler.sub);\n  }\n\n  var results1 = [];\n  var _text = text,\n      length = _text.length;\n\n  outer: while (length > 0) {\n    for (var i = 0, o = 0, len = tokens.length; o < len; i = ++o) {\n      var handler = tokens[i];\n      process(handler, i);\n\n      if (text.length !== length) {\n        // We matched a token and removed it from the text. We need to\n        // start matching *all* tokens against the new text.\n        length = text.length;\n        continue outer;\n      }\n    }\n\n    if (text.length === length) {\n      break;\n    }\n\n    results1.push(0);\n    length = text.length;\n  }\n\n  return results1;\n}\n/**\n * If streaming, then the stack is \"sticky\"\n *\n * @param {Array} stickyStack\n * @param {string} token\n * @param {*} data\n * @returns {Array}\n */\n\n\nfunction updateStickyStack(stickyStack, token, data) {\n  if (token !== 'text') {\n    stickyStack = stickyStack.filter(notCategory(categoryForCode(data)));\n    stickyStack.push({\n      token: token,\n      data: data,\n      category: categoryForCode(data)\n    });\n  }\n\n  return stickyStack;\n}\n\nvar Filter =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {object} options\n   * @param {string=} options.fg The default foreground color used when reset color codes are encountered.\n   * @param {string=} options.bg The default background color used when reset color codes are encountered.\n   * @param {boolean=} options.newline Convert newline characters to `<br/>`.\n   * @param {boolean=} options.escapeXML Generate HTML/XML entities.\n   * @param {boolean=} options.stream Save style state across invocations of `toHtml()`.\n   * @param {(string[] | {[code: number]: string})=} options.colors Can override specific colors or the entire ANSI palette.\n   */\n  function Filter(options) {\n    _classCallCheck(this, Filter);\n\n    options = options || {};\n\n    if (options.colors) {\n      options.colors = Object.assign({}, defaults.colors, options.colors);\n    }\n\n    this.options = Object.assign({}, defaults, options);\n    this.stack = [];\n    this.stickyStack = [];\n  }\n  /**\n   * @param {string | string[]} input\n   * @returns {string}\n   */\n\n\n  _createClass(Filter, [{\n    key: \"toHtml\",\n    value: function toHtml(input) {\n      var _this = this;\n\n      input = typeof input === 'string' ? [input] : input;\n      var stack = this.stack,\n          options = this.options;\n      var buf = [];\n      this.stickyStack.forEach(function (element) {\n        var output = generateOutput(stack, element.token, element.data, options);\n\n        if (output) {\n          buf.push(output);\n        }\n      });\n      tokenize(input.join(''), options, function (token, data) {\n        var output = generateOutput(stack, token, data, options);\n\n        if (output) {\n          buf.push(output);\n        }\n\n        if (options.stream) {\n          _this.stickyStack = updateStickyStack(_this.stickyStack, token, data);\n        }\n      });\n\n      if (stack.length) {\n        buf.push(resetStyles(stack));\n      }\n\n      return buf.join('');\n    }\n  }]);\n\n  return Filter;\n}();\n\nmodule.exports = Filter;"]},"metadata":{},"sourceType":"script"}