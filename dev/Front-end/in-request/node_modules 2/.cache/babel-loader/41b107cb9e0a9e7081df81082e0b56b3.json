{"ast":null,"code":"var _jsxFileName = \"/Users/qier/Documents/cs407/In-request_cs407/dev/Front-end/in-request/src/Components/Shared/SideBar.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport IconButton from '@material-ui/core/IconButton';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MailIcon from '@material-ui/icons/Mail';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Avatar from '@material-ui/core/Avatar';\nimport { Switch, Route, Link, BrowserRouter } from \"react-router-dom\";\nimport Profile from '../Home/profile';\nimport Posts from '../Home/Posts.js';\nimport NewRequest from '../Home/NewRequest';\nimport Upload from '../Home/uploadimg';\nimport Button from '@material-ui/core/Button';\nimport { withStyles, useTheme } from '@material-ui/core/styles';\nimport { auth } from \"../../firebase\";\nimport { fdb } from \"../../firebase\";\nimport { useLocation } from \"react-router-dom\";\nimport { withRouter } from \"react-router-dom\";\nconst drawerWidth = 240;\n\nconst styles = theme => ({\n  root: {\n    display: 'flex'\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0\n    }\n  },\n  appBar: {\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth\n    }\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none'\n    }\n  },\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  }\n});\n\nclass SideBar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.Logout = event => {\n      //const loc = useLocation();\n      //console.log(this.props.location.state.Email)\n      // console.log(prevProps.Email)\n      const email = this.props.location.state.Email;\n      const history = this.props.history;\n      auth.signOut().then(function () {\n        // log-out successful.\n        //const email = this.props.location.state.Email\n        const ref = fdb.collection('users').doc(email);\n        ref.update({\n          LoginState: false\n        }).then(() => {\n          console.log('logout successful');\n          history.push(\"/login\");\n        });\n      }).catch(err => {\n        // An error happened.\n        console.log('Error logging out', err);\n      });\n    };\n\n    this.state = {\n      Email: \"\",\n      Password: \"\",\n      Nickname: \"\",\n      auth: this.auth,\n      fdb: this.fdb,\n      name: \"\"\n    }; // this.handleDrawerToggle = this.handleDrawerToggle.bind(this)\n\n    this.Logout = this.Logout.bind(this);\n    var user = auth.currentUser;\n\n    if (user) {\n      //**************************************************************this part is for checking if past due**********************************\n      setInterval(function () {\n        let que = fdb.collection(\"requests\").where(\"borrower\", \"==\", user.email);\n        que.get().then(function (qss) {\n          qss.forEach(function (doc) {\n            var curtime = Date.now() / 600000;\n            var duetime = doc.data().estReturn.seconds;\n            var diff = duetime - curtime;\n\n            if (diff < 0 && doc.data().status == \"active\") {\n              alert(\"its not active anymore\" + doc.data().title + \"this is the doc id \" + doc.id);\n              var upd = fdb.collection(\"requests\").doc(doc.id);\n              upd.update({\n                status: \"archived\",\n                msfinished: true\n              });\n            }\n          });\n        });\n      }, 3000); //**************************************************************this part is for checking if past due**********************************\n      //**************************************************************this part is for alerting borrower about lender************************\n\n      let query = fdb.collection(\"requests\").where(\"borrower\", \"==\", user.email).where(\"msnone\", \"==\", true);\n      let liste = query.onSnapshot(docSnapshot => {\n        docSnapshot.docChanges().forEach(function (change) {\n          if (change.doc.data().msoffered == true && change.doc.data().msaccepted == false && change.doc.data().status != \"archived\") {\n            alert(\"someone decided to lend you an item on title\" + change.doc.data().title);\n          }\n        });\n      }); //**************************************************************this part is for alerting borrower about lender************************\n      //**************************************************************this part is for let lender confirm status ****************************\n\n      let query2 = fdb.collection(\"requests\").where(\"lender\", \"==\", user.email).where(\"msoffered\", \"==\", true);\n      let liste2 = query2.onSnapshot(docSnapshot => {\n        docSnapshot.docChanges().forEach(function (change2) {\n          if (change2.doc.data().lender == user.email && change2.doc.data().msaccepted == true) {\n            var action = window.confirm(change2.doc.data().borrower + \"decided to borrow your item\\n\" + change2.doc.data().lender + \" now is the lender\" + \"\\n title is\" + change2.doc.data().title + \"\\n the id is\" + change2.doc.id);\n\n            if (action == true) {\n              alert(\"true, accepted\");\n              var upd = fdb.collection(\"requests\").doc(change2.doc.id);\n              upd.update({\n                msaccepted: true\n              }); //in here, should change the msaccepted as true, as well as noticing other lenders that they dont need to worry about the post.\n            } else {\n              alert(\"false, denied\");\n            }\n          }\n\n          ;\n        });\n      });\n    } else {}\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    const theme = useTheme;\n    return React.createElement(\"div\", {\n      className: classes.root,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(CssBaseline, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), React.createElement(BrowserRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      className: classes.drawer,\n      \"aria-label\": \"mailbox folders\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(Hidden, {\n      xsDown: true,\n      implementation: \"css\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(Drawer, {\n      classes: {\n        paper: styles.drawerPaper\n      },\n      variant: \"permanent\",\n      open: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.toolbar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }), React.createElement(Grid, {\n      container: true,\n      justify: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"icon-button-file\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      color: \"primary\",\n      \"aria-label\": \"upload picture\",\n      component: \"span\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    })), React.createElement(Upload, {\n      url: this.props.location.state.url,\n      Email: this.props.location.state.Email,\n      Nickname: this.props.location.state.Nickname,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }), React.createElement(Divider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }), React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, ['Posts', 'New Request', 'Active Transaction', 'Archived'].map((text, index) => React.createElement(ListItem, {\n      button: true,\n      key: text,\n      component: Link,\n      to: \"/\" + text.replace(/\\s/g, ''),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(ListItemIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, index % 2 === 0 ? React.createElement(InboxIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }) : React.createElement(MailIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    })), React.createElement(ListItemText, {\n      primary: text,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    })))), React.createElement(Divider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }), React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, ['Profile', 'Log Out'].map((text, index) => React.createElement(ListItem, {\n      button: true,\n      onClick: this.Logout,\n      key: text,\n      component: Link,\n      to: \"/\" + text.replace(/\\s/g, ''),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(ListItemIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, index % 2 === 0 ? React.createElement(InboxIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }) : React.createElement(MailIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    })), React.createElement(ListItemText, {\n      primary: text,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    })))))))), React.createElement(\"main\", {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.toolbar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/posts\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(Posts, {\n      Email: this.props.location.state.Email,\n      Nickname: this.props.location.state.Nickname,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    })), React.createElement(Route, {\n      path: \"/profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/NewRequest\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(NewRequest, {\n      hasPhoto: this.props.location.state.hasPhoto,\n      Email: this.props.location.state.Email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }))))));\n  }\n\n} //\n// function SideBar(props) {\n//   const { container,location } = props;\n//   const classes = useStyles();\n//   const theme = useTheme();\n//   const [mobileOpen, setMobileOpen] = React.useState(false);\n//\n//   const handleDrawerToggle = () => {\n//     setMobileOpen(!mobileOpen);\n//   };\n//   const Logout=()=>{\n//     auth.signOut().then(function() {\n//   // log-out successful.\n//       console.log(auth.currentUser)\n//       const ref = fdb.collection('users').doc(props.location.state.Email);\n//       ref.update({\n//         LoginState: false\n//       }).then(() => {\n//         console.log('logout successful');\n//         this.props.history.push(\"/login\");\n//       });\n//     }).catch(err => {\n//       // An error happened.\n//       console.log('Error logging out', err);\n//     });\n//   }\n//\n//   const drawer = (\n//     <div>\n//       <div className={classes.toolbar} />\n//       <Grid container justify = \"center\">\n//\n//         {/* --- TODO: clickable IconButton --- */}\n//         <label htmlFor=\"icon-button-file\">\n//           <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\n//             {/* --- TODO: display user's profile picture -- */}\n//           </IconButton>\n//         </label>\n//\n//         {/* --- TODO: clickable image --- */}\n//\n//         {/* --- TODO: display user's rating -- */}\n//         <Upload/>\n//       </Grid>\n//       <br />\n//       <br />\n//       <Divider />\n//       <List>\n//         {['Posts', 'New Request', 'Active Transaction', 'Archived'].map((text, index) => (\n//           <ListItem button key={text} component={Link} to={\"/\" + text.replace(/\\s/g,'')}>\n//             <ListItemIcon>\n//               {index % 2 === 0 ? <InboxIcon /> : <MailIcon />}\n//             </ListItemIcon>\n//             <ListItemText primary={text} />\n//           </ListItem>\n//         ))}\n//       </List>\n//       <Divider />\n//       <List>\n//         {['Profile', 'Log Out'].map((text, index) => (\n//           <ListItem button onClick={Logout} key={text} component={Link} to={\"/\" + text.replace(/\\s/g,'')}>\n//             <ListItemIcon>\n//               {index % 2 === 0 ? <InboxIcon /> : <MailIcon />}\n//             </ListItemIcon>\n//             <ListItemText primary={text} />\n//           </ListItem>\n//         ))}\n//       </List>\n//     </div>\n//   );\n//\n//   return (\n//     <div className={classes.root}>\n//       <CssBaseline />\n//       <BrowserRouter>\n//         <nav className={classes.drawer} aria-label=\"mailbox folders\">\n//           {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n//           <Hidden xsDown implementation=\"css\">\n//             <Drawer\n//               classes={{\n//                 paper: classes.drawerPaper,\n//               }}\n//               variant=\"permanent\"\n//               open\n//             >\n//               {drawer}\n//             </Drawer>\n//           </Hidden>\n//         </nav>\n//         {/*--- Add remaing components to each Route  ---*/}\n//         <main className={classes.content}>\n//           <div className={classes.toolbar} />\n//           <Switch>\n//             <Route exact path=\"/posts\">\n//               <Posts />\n//             </Route>\n//             <Route path=\"/profile\">\n//               <Profile />\n//             </Route>\n//             <Route path=\"/NewRequest\">\n//               <NewRequest />\n//             </Route>\n//           </Switch>\n//         </main>\n//       </BrowserRouter>\n//     </div>\n//   );\n// }\n//\n\n\nSideBar.propTypes = {\n  /**\n   * Injected by the documentation to work in an iframe.\n   * You won't need it on your project.\n   */\n  container: PropTypes.instanceOf(typeof Element === \"undefined\" ? Object : Element),\n  Email: PropTypes.string // auth:PropTypes.object\n\n};\nexport default withRouter(withStyles(styles, {\n  withTheme: true\n})(SideBar));","map":{"version":3,"sources":["/Users/qier/Documents/cs407/In-request_cs407/dev/Front-end/in-request/src/Components/Shared/SideBar.js"],"names":["React","PropTypes","AppBar","CssBaseline","Divider","Drawer","Hidden","IconButton","InboxIcon","List","ListItem","ListItemIcon","ListItemText","MailIcon","MenuIcon","Toolbar","Typography","Grid","Avatar","Switch","Route","Link","BrowserRouter","Profile","Posts","NewRequest","Upload","Button","withStyles","useTheme","auth","fdb","useLocation","withRouter","drawerWidth","styles","theme","root","display","drawer","breakpoints","up","width","flexShrink","appBar","marginLeft","menuButton","marginRight","spacing","toolbar","mixins","drawerPaper","content","flexGrow","padding","SideBar","Component","constructor","props","Logout","event","email","location","state","Email","history","signOut","then","ref","collection","doc","update","LoginState","console","log","push","catch","err","Password","Nickname","name","bind","user","currentUser","setInterval","que","where","get","qss","forEach","curtime","Date","now","duetime","data","estReturn","seconds","diff","status","alert","title","id","upd","msfinished","query","liste","onSnapshot","docSnapshot","docChanges","change","msoffered","msaccepted","query2","liste2","change2","lender","action","window","confirm","borrower","render","classes","paper","url","map","text","index","replace","hasPhoto","propTypes","container","instanceOf","Element","Object","string","withTheme"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,SAAP,MAAsB,gCAAtB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,IAAxB,EAA8BC,aAA9B,QAAmD,kBAAnD;AACA,OAAOC,OAAP,MAAoB,iBAApB;AACA,OAAOC,KAAP,MAAkB,kBAAlB;AACA,OAAOC,UAAP,MAAuB,oBAAvB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,0BAArC;AACA,SAAQC,IAAR,QAAmB,gBAAnB;AACA,SAAQC,GAAR,QAAkB,gBAAlB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAAQC,UAAR,QAA0B,kBAA1B;AAGA,MAAMC,WAAW,GAAG,GAApB;;AAEA,MAAMC,MAAM,GAAGC,KAAK,KAAK;AACvBC,EAAAA,IAAI,EAAE;AACJC,IAAAA,OAAO,EAAE;AADL,GADiB;AAIvBC,EAAAA,MAAM,EAAE;AACN,KAACH,KAAK,CAACI,WAAN,CAAkBC,EAAlB,CAAqB,IAArB,CAAD,GAA8B;AAC5BC,MAAAA,KAAK,EAAER,WADqB;AAE5BS,MAAAA,UAAU,EAAE;AAFgB;AADxB,GAJe;AAUvBC,EAAAA,MAAM,EAAE;AACN,KAACR,KAAK,CAACI,WAAN,CAAkBC,EAAlB,CAAqB,IAArB,CAAD,GAA8B;AAC5BC,MAAAA,KAAK,EAAG,eAAcR,WAAY,KADN;AAE5BW,MAAAA,UAAU,EAAEX;AAFgB;AADxB,GAVe;AAgBvBY,EAAAA,UAAU,EAAE;AACVC,IAAAA,WAAW,EAAEX,KAAK,CAACY,OAAN,CAAc,CAAd,CADH;AAEV,KAACZ,KAAK,CAACI,WAAN,CAAkBC,EAAlB,CAAqB,IAArB,CAAD,GAA8B;AAC5BH,MAAAA,OAAO,EAAE;AADmB;AAFpB,GAhBW;AAsBvBW,EAAAA,OAAO,EAAEb,KAAK,CAACc,MAAN,CAAaD,OAtBC;AAuBvBE,EAAAA,WAAW,EAAE;AACXT,IAAAA,KAAK,EAAER;AADI,GAvBU;AA0BvBkB,EAAAA,OAAO,EAAE;AACPC,IAAAA,QAAQ,EAAE,CADH;AAEPC,IAAAA,OAAO,EAAElB,KAAK,CAACY,OAAN,CAAc,CAAd;AAFF;AA1Bc,CAAL,CAApB;;AA+BA,MAAMO,OAAN,SAAsBvD,KAAK,CAACwD,SAA5B,CAAsC;AACpCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;;AADgB,SAgFlBC,MAhFkB,GAgFXC,KAAK,IAAE;AACZ;AACA;AACA;AACA,YAAMC,KAAK,GAAG,KAAKH,KAAL,CAAWI,QAAX,CAAoBC,KAApB,CAA0BC,KAAxC;AACA,YAAMC,OAAO,GAAG,KAAKP,KAAL,CAAWO,OAA3B;AACAnC,MAAAA,IAAI,CAACoC,OAAL,GAAeC,IAAf,CAAoB,YAAW;AACjC;AACI;AACA,cAAMC,GAAG,GAAGrC,GAAG,CAACsC,UAAJ,CAAe,OAAf,EAAwBC,GAAxB,CAA4BT,KAA5B,CAAZ;AACAO,QAAAA,GAAG,CAACG,MAAJ,CAAW;AACTC,UAAAA,UAAU,EAAE;AADH,SAAX,EAEGL,IAFH,CAEQ,MAAM;AACZM,UAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACAT,UAAAA,OAAO,CAACU,IAAR,CAAa,QAAb;AACD,SALD;AAMD,OAVD,EAUGC,KAVH,CAUSC,GAAG,IAAI;AACd;AACAJ,QAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCG,GAAjC;AACD,OAbD;AAcD,KApGiB;;AAEhB,SAAKd,KAAL,GAAY;AACVC,MAAAA,KAAK,EAAC,EADI;AAEVc,MAAAA,QAAQ,EAAC,EAFC;AAGVC,MAAAA,QAAQ,EAAC,EAHC;AAIVjD,MAAAA,IAAI,EAAE,KAAKA,IAJD;AAKVC,MAAAA,GAAG,EAAE,KAAKA,GALA;AAMViD,MAAAA,IAAI,EAAC;AANK,KAAZ,CAFgB,CAchB;;AACA,SAAKrB,MAAL,GAAa,KAAKA,MAAL,CAAYsB,IAAZ,CAAiB,IAAjB,CAAb;AACA,QAAIC,IAAI,GAAGpD,IAAI,CAACqD,WAAhB;;AACJ,QAAGD,IAAH,EAAQ;AAER;AACIE,MAAAA,WAAW,CAAC,YAAU;AAClB,YAAIC,GAAG,GAAGtD,GAAG,CAACsC,UAAJ,CAAe,UAAf,EAA2BiB,KAA3B,CAAiC,UAAjC,EAA6C,IAA7C,EAAmDJ,IAAI,CAACrB,KAAxD,CAAV;AACAwB,QAAAA,GAAG,CAACE,GAAJ,GAAUpB,IAAV,CAAe,UAASqB,GAAT,EAAa;AACxBA,UAAAA,GAAG,CAACC,OAAJ,CAAY,UAASnB,GAAT,EAAa;AACrB,gBAAIoB,OAAO,GAAGC,IAAI,CAACC,GAAL,KAAW,MAAzB;AACA,gBAAIC,OAAO,GAAGvB,GAAG,CAACwB,IAAJ,GAAWC,SAAX,CAAqBC,OAAnC;AACA,gBAAIC,IAAI,GAAGJ,OAAO,GAAGH,OAArB;;AACA,gBAAGO,IAAI,GAAG,CAAP,IAAY3B,GAAG,CAACwB,IAAJ,GAAWI,MAAX,IAAqB,QAApC,EAA6C;AACzCC,cAAAA,KAAK,CAAC,2BAA2B7B,GAAG,CAACwB,IAAJ,GAAWM,KAAtC,GAA8C,qBAA9C,GAAsE9B,GAAG,CAAC+B,EAA3E,CAAL;AACA,kBAAIC,GAAG,GAAGvE,GAAG,CAACsC,UAAJ,CAAe,UAAf,EAA2BC,GAA3B,CAA+BA,GAAG,CAAC+B,EAAnC,CAAV;AACAC,cAAAA,GAAG,CAAC/B,MAAJ,CAAW;AACP2B,gBAAAA,MAAM,EAAC,UADA;AAEPK,gBAAAA,UAAU,EAAE;AAFL,eAAX;AAIH;AACJ,WAZD;AAaH,SAdD;AAeH,OAjBU,EAiBT,IAjBS,CAAX,CAHI,CAqBR;AAEA;;AACI,UAAIC,KAAK,GAAGzE,GAAG,CAACsC,UAAJ,CAAe,UAAf,EAA2BiB,KAA3B,CAAiC,UAAjC,EAA6C,IAA7C,EAAmDJ,IAAI,CAACrB,KAAxD,EAA+DyB,KAA/D,CAAqE,QAArE,EAA+E,IAA/E,EAAqF,IAArF,CAAZ;AACA,UAAImB,KAAK,GAAGD,KAAK,CAACE,UAAN,CAAiBC,WAAW,IAAI;AACxCA,QAAAA,WAAW,CAACC,UAAZ,GAAyBnB,OAAzB,CAAiC,UAASoB,MAAT,EAAgB;AAC7C,cAAGA,MAAM,CAACvC,GAAP,CAAWwB,IAAX,GAAkBgB,SAAlB,IAA+B,IAA/B,IAAuCD,MAAM,CAACvC,GAAP,CAAWwB,IAAX,GAAkBiB,UAAlB,IAAgC,KAAvE,IAAgFF,MAAM,CAACvC,GAAP,CAAWwB,IAAX,GAAkBI,MAAlB,IAA4B,UAA/G,EAA0H;AACtHC,YAAAA,KAAK,CAAC,iDAAiDU,MAAM,CAACvC,GAAP,CAAWwB,IAAX,GAAkBM,KAApE,CAAL;AACH;AAEJ,SALD;AAMH,OAPW,CAAZ,CAzBI,CAiCR;AAGA;;AAEI,UAAIY,MAAM,GAAGjF,GAAG,CAACsC,UAAJ,CAAe,UAAf,EAA2BiB,KAA3B,CAAiC,QAAjC,EAA2C,IAA3C,EAAiDJ,IAAI,CAACrB,KAAtD,EAA6DyB,KAA7D,CAAmE,WAAnE,EAAgF,IAAhF,EAAsF,IAAtF,CAAb;AACA,UAAI2B,MAAM,GAAGD,MAAM,CAACN,UAAP,CAAkBC,WAAW,IAAI;AAC1CA,QAAAA,WAAW,CAACC,UAAZ,GAAyBnB,OAAzB,CAAiC,UAASyB,OAAT,EAAiB;AAC9C,cAAGA,OAAO,CAAC5C,GAAR,CAAYwB,IAAZ,GAAmBqB,MAAnB,IAA6BjC,IAAI,CAACrB,KAAlC,IAA2CqD,OAAO,CAAC5C,GAAR,CAAYwB,IAAZ,GAAmBiB,UAAnB,IAAiC,IAA/E,EAAoF;AAChF,gBAAIK,MAAM,GAAGC,MAAM,CAACC,OAAP,CAAeJ,OAAO,CAAC5C,GAAR,CAAYwB,IAAZ,GAAmByB,QAAnB,GAA8B,+BAA9B,GAAgEL,OAAO,CAAC5C,GAAR,CAAYwB,IAAZ,GAAmBqB,MAAnF,GAA4F,oBAA5F,GAAmH,aAAnH,GAAmID,OAAO,CAAC5C,GAAR,CAAYwB,IAAZ,GAAmBM,KAAtJ,GAA8J,cAA9J,GAAgLc,OAAO,CAAC5C,GAAR,CAAY+B,EAA3M,CAAb;;AACA,gBAAGe,MAAM,IAAI,IAAb,EAAkB;AACdjB,cAAAA,KAAK,CAAC,gBAAD,CAAL;AACA,kBAAIG,GAAG,GAAGvE,GAAG,CAACsC,UAAJ,CAAe,UAAf,EAA2BC,GAA3B,CAA+B4C,OAAO,CAAC5C,GAAR,CAAY+B,EAA3C,CAAV;AACAC,cAAAA,GAAG,CAAC/B,MAAJ,CAAW;AACPwC,gBAAAA,UAAU,EAAE;AADL,eAAX,EAHc,CAOd;AACH,aARD,MASI;AAACZ,cAAAA,KAAK,CAAC,eAAD,CAAL;AAAwB;AAChC;;AAAA;AAEJ,SAfD;AAgBH,OAjBY,CAAb;AAmBH,KA1DD,MA0DK,CAAE;AAEJ;;AAwBDqB,EAAAA,MAAM,GAAE;AACN,UAAM;AAACC,MAAAA;AAAD,QAAY,KAAK/D,KAAvB;AACA,UAAMtB,KAAK,GAAGP,QAAd;AACA,WAEI;AAAK,MAAA,SAAS,EAAE4F,OAAO,CAACpF,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,EAEA,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAEoF,OAAO,CAAClF,MAAxB;AAAgC,oBAAW,iBAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,MAAM,MAAd;AAAe,MAAA,cAAc,EAAC,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AACE,MAAA,OAAO,EAAE;AACPmF,QAAAA,KAAK,EAAEvF,MAAM,CAACgB;AADP,OADX;AAIE,MAAA,OAAO,EAAC,WAJV;AAKE,MAAA,IAAI,MALN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAEsE,OAAO,CAACxE,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAgB,MAAA,OAAO,EAAG,QAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE;AAAO,MAAA,OAAO,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AAAY,MAAA,KAAK,EAAC,SAAlB;AAA4B,oBAAW,gBAAvC;AAAwD,MAAA,SAAS,EAAC,MAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFF,EAOE,oBAAC,MAAD;AAAQ,MAAA,GAAG,EAAE,KAAKS,KAAL,CAAWI,QAAX,CAAoBC,KAApB,CAA0B4D,GAAvC;AAA4C,MAAA,KAAK,EAAE,KAAKjE,KAAL,CAAWI,QAAX,CAAoBC,KAApB,CAA0BC,KAA7E;AAAoF,MAAA,QAAQ,EAAE,KAAKN,KAAL,CAAWI,QAAX,CAAoBC,KAApB,CAA0BgB,QAAxH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CAFF,EAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXF,EAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZF,EAaE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbF,EAcE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,CAAC,OAAD,EAAU,aAAV,EAAyB,oBAAzB,EAA+C,UAA/C,EAA2D6C,GAA3D,CAA+D,CAACC,IAAD,EAAOC,KAAP,KAC9D,oBAAC,QAAD;AAAU,MAAA,MAAM,MAAhB;AAAiB,MAAA,GAAG,EAAED,IAAtB;AAA4B,MAAA,SAAS,EAAExG,IAAvC;AAA6C,MAAA,EAAE,EAAE,MAAMwG,IAAI,CAACE,OAAL,CAAa,KAAb,EAAmB,EAAnB,CAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,KAAK,GAAG,CAAR,KAAc,CAAd,GAAkB,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAlB,GAAkC,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADrC,CADF,EAIE,oBAAC,YAAD;AAAc,MAAA,OAAO,EAAED,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CADD,CADH,CAdF,EAwBE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxBF,EAyBE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,CAAC,SAAD,EAAY,SAAZ,EAAuBD,GAAvB,CAA2B,CAACC,IAAD,EAAOC,KAAP,KAC1B,oBAAC,QAAD;AAAU,MAAA,MAAM,MAAhB;AAAiB,MAAA,OAAO,EAAE,KAAKnE,MAA/B;AAAuC,MAAA,GAAG,EAAEkE,IAA5C;AAAkD,MAAA,SAAS,EAAExG,IAA7D;AAAmE,MAAA,EAAE,EAAE,MAAMwG,IAAI,CAACE,OAAL,CAAa,KAAb,EAAmB,EAAnB,CAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,KAAK,GAAG,CAAR,KAAc,CAAd,GAAkB,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAlB,GAAkC,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADrC,CADF,EAIE,oBAAC,YAAD;AAAc,MAAA,OAAO,EAAED,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CADD,CADH,CAzBF,CAPA,CADF,CADF,CADF,EAiDE;AAAM,MAAA,SAAS,EAAEJ,OAAO,CAACrE,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAEqE,OAAO,CAACxE,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAE,KAAKS,KAAL,CAAWI,QAAX,CAAoBC,KAApB,CAA0BC,KAAxC;AAA+C,MAAA,QAAQ,EAAE,KAAKN,KAAL,CAAWI,QAAX,CAAoBC,KAApB,CAA0BgB,QAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,EAIE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAOE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,aAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AAAY,MAAA,QAAQ,EAAE,KAAKrB,KAAL,CAAWI,QAAX,CAAoBC,KAApB,CAA0BiE,QAAhD;AAA0D,MAAA,KAAK,EAAE,KAAKtE,KAAL,CAAWI,QAAX,CAAoBC,KAApB,CAA0BC,KAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAPF,CAFF,CAjDF,CAFA,CAFJ;AAsED;;AA/KmC,C,CAmLtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAT,OAAO,CAAC0E,SAAR,GAAoB;AAClB;;;;AAICC,EAAAA,SAAS,EAAEjI,SAAS,CAACkI,UAAV,CACT,OAAOC,OAAP,KAAmB,WAAnB,GAAiCC,MAAjC,GAA0CD,OADjC,CALM;AAQhBpE,EAAAA,KAAK,EAAC/D,SAAS,CAACqI,MARA,CAShB;;AATgB,CAApB;AAYA,eAAerG,UAAU,CAACL,UAAU,CAACO,MAAD,EAAS;AAACoG,EAAAA,SAAS,EAAE;AAAZ,CAAT,CAAV,CAAsChF,OAAtC,CAAD,CAAzB","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport IconButton from '@material-ui/core/IconButton';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MailIcon from '@material-ui/icons/Mail';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Avatar from '@material-ui/core/Avatar'\nimport { Switch, Route, Link, BrowserRouter } from \"react-router-dom\";\nimport Profile from '../Home/profile';\nimport Posts from '../Home/Posts.js';\nimport NewRequest from '../Home/NewRequest';\nimport Upload from '../Home/uploadimg';\nimport Button from '@material-ui/core/Button';\nimport { withStyles, useTheme } from '@material-ui/core/styles';\nimport {auth} from \"../../firebase\";\nimport {fdb} from \"../../firebase\";\nimport { useLocation } from \"react-router-dom\";\nimport {withRouter } from \"react-router-dom\";\n\n\nconst drawerWidth = 240;\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth,\n    },\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    },\n  },\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n});\nclass SideBar extends React.Component {\n  constructor(props){\n    super(props)\n    this.state ={\n      Email:\"\",\n      Password:\"\",\n      Nickname:\"\",\n      auth: this.auth,\n      fdb: this.fdb,\n      name:\"\",\n\n\n\n\n    }\n    // this.handleDrawerToggle = this.handleDrawerToggle.bind(this)\n    this.Logout= this.Logout.bind(this)\n    var user = auth.currentUser;\nif(user){\n\n//**************************************************************this part is for checking if past due**********************************\n    setInterval(function(){\n        let que = fdb.collection(\"requests\").where(\"borrower\", \"==\", user.email);\n        que.get().then(function(qss){\n            qss.forEach(function(doc){\n                var curtime = Date.now()/600000;\n                var duetime = doc.data().estReturn.seconds;\n                var diff = duetime - curtime;\n                if(diff < 0 && doc.data().status == \"active\"){\n                    alert(\"its not active anymore\" + doc.data().title + \"this is the doc id \" + doc.id);\n                    var upd = fdb.collection(\"requests\").doc(doc.id);\n                    upd.update({\n                        status:\"archived\",\n                        msfinished: true\n                    })\n                }\n            });\n        });\n    },3000);\n//**************************************************************this part is for checking if past due**********************************\n\n//**************************************************************this part is for alerting borrower about lender************************\n    let query = fdb.collection(\"requests\").where(\"borrower\", \"==\", user.email).where(\"msnone\", \"==\", true);\n    let liste = query.onSnapshot(docSnapshot => {\n        docSnapshot.docChanges().forEach(function(change){\n            if(change.doc.data().msoffered == true && change.doc.data().msaccepted == false && change.doc.data().status != \"archived\"){\n                alert(\"someone decided to lend you an item on title\" + change.doc.data().title);\n            }\n\n        });\n    });\n//**************************************************************this part is for alerting borrower about lender************************\n\n\n//**************************************************************this part is for let lender confirm status ****************************\n\n    let query2 = fdb.collection(\"requests\").where(\"lender\", \"==\", user.email).where(\"msoffered\", \"==\", true);\n    let liste2 = query2.onSnapshot(docSnapshot => {\n        docSnapshot.docChanges().forEach(function(change2){\n            if(change2.doc.data().lender == user.email && change2.doc.data().msaccepted == true){\n                var action = window.confirm(change2.doc.data().borrower + \"decided to borrow your item\\n\" + change2.doc.data().lender + \" now is the lender\" + \"\\n title is\" + change2.doc.data().title + \"\\n the id is\" +  change2.doc.id);\n                if(action == true){\n                    alert(\"true, accepted\");\n                    var upd = fdb.collection(\"requests\").doc(change2.doc.id);\n                    upd.update({\n                        msaccepted: true,\n\n                    })\n                    //in here, should change the msaccepted as true, as well as noticing other lenders that they dont need to worry about the post.\n                }\n                else{alert(\"false, denied\");}\n            };\n\n        });\n    });\n\n}else{}\n\n  }\n\n\n  Logout=event=>{\n    //const loc = useLocation();\n    //console.log(this.props.location.state.Email)\n    // console.log(prevProps.Email)\n    const email = this.props.location.state.Email\n    const history = this.props.history\n    auth.signOut().then(function() {\n  // log-out successful.\n      //const email = this.props.location.state.Email\n      const ref = fdb.collection('users').doc(email);\n      ref.update({\n        LoginState: false\n      }).then(() => {\n        console.log('logout successful');\n        history.push(\"/login\");\n      });\n    }).catch(err => {\n      // An error happened.\n      console.log('Error logging out', err);\n    });\n  }\n  render(){\n    const {classes} = this.props;\n    const theme = useTheme;\n    return(\n\n        <div className={classes.root}>\n        <CssBaseline />\n        <BrowserRouter>\n          <nav className={classes.drawer} aria-label=\"mailbox folders\">\n            <Hidden xsDown implementation=\"css\">\n              <Drawer\n                classes={{\n                  paper: styles.drawerPaper,\n                }}\n                variant=\"permanent\"\n                open\n              >\n              <div>\n                <div className={classes.toolbar} />\n                <Grid container justify = \"center\">\n\n                  <label htmlFor=\"icon-button-file\">\n                    <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\n                    </IconButton>\n                  </label>\n\n                  <Upload url={this.props.location.state.url} Email={this.props.location.state.Email} Nickname={this.props.location.state.Nickname}/>\n                </Grid>\n                <br />\n                <br />\n                <Divider />\n                <List>\n                  {['Posts', 'New Request', 'Active Transaction', 'Archived'].map((text, index) => (\n                    <ListItem button key={text} component={Link} to={\"/\" + text.replace(/\\s/g,'')}>\n                      <ListItemIcon>\n                        {index % 2 === 0 ? <InboxIcon /> : <MailIcon />}\n                      </ListItemIcon>\n                      <ListItemText primary={text} />\n                    </ListItem>\n                  ))}\n                </List>\n                <Divider />\n                <List>\n                  {['Profile', 'Log Out'].map((text, index) => (\n                    <ListItem button onClick={this.Logout} key={text} component={Link} to={\"/\" + text.replace(/\\s/g,'')}>\n                      <ListItemIcon>\n                        {index % 2 === 0 ? <InboxIcon /> : <MailIcon />}\n                      </ListItemIcon>\n                      <ListItemText primary={text} />\n                    </ListItem>\n                  ))}\n                </List>\n                </div>\n              </Drawer>\n            </Hidden>\n          </nav>\n          <main className={classes.content}>\n            <div className={classes.toolbar} />\n            <Switch>\n              <Route exact path=\"/posts\">\n                <Posts Email={this.props.location.state.Email} Nickname={this.props.location.state.Nickname}/>\n              </Route>\n              <Route path=\"/profile\">\n\n              </Route>\n              <Route path=\"/NewRequest\">\n                <NewRequest hasPhoto={this.props.location.state.hasPhoto} Email={this.props.location.state.Email}/>\n              </Route>\n            </Switch>\n          </main>\n        </BrowserRouter>\n      </div>\n    );\n  }\n\n\n}\n//\n// function SideBar(props) {\n//   const { container,location } = props;\n//   const classes = useStyles();\n//   const theme = useTheme();\n//   const [mobileOpen, setMobileOpen] = React.useState(false);\n//\n//   const handleDrawerToggle = () => {\n//     setMobileOpen(!mobileOpen);\n//   };\n//   const Logout=()=>{\n//     auth.signOut().then(function() {\n//   // log-out successful.\n//       console.log(auth.currentUser)\n//       const ref = fdb.collection('users').doc(props.location.state.Email);\n//       ref.update({\n//         LoginState: false\n//       }).then(() => {\n//         console.log('logout successful');\n//         this.props.history.push(\"/login\");\n//       });\n//     }).catch(err => {\n//       // An error happened.\n//       console.log('Error logging out', err);\n//     });\n//   }\n//\n//   const drawer = (\n//     <div>\n//       <div className={classes.toolbar} />\n//       <Grid container justify = \"center\">\n//\n//         {/* --- TODO: clickable IconButton --- */}\n//         <label htmlFor=\"icon-button-file\">\n//           <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\n//             {/* --- TODO: display user's profile picture -- */}\n//           </IconButton>\n//         </label>\n//\n//         {/* --- TODO: clickable image --- */}\n//\n//         {/* --- TODO: display user's rating -- */}\n//         <Upload/>\n//       </Grid>\n//       <br />\n//       <br />\n//       <Divider />\n//       <List>\n//         {['Posts', 'New Request', 'Active Transaction', 'Archived'].map((text, index) => (\n//           <ListItem button key={text} component={Link} to={\"/\" + text.replace(/\\s/g,'')}>\n//             <ListItemIcon>\n//               {index % 2 === 0 ? <InboxIcon /> : <MailIcon />}\n//             </ListItemIcon>\n//             <ListItemText primary={text} />\n//           </ListItem>\n//         ))}\n//       </List>\n//       <Divider />\n//       <List>\n//         {['Profile', 'Log Out'].map((text, index) => (\n//           <ListItem button onClick={Logout} key={text} component={Link} to={\"/\" + text.replace(/\\s/g,'')}>\n//             <ListItemIcon>\n//               {index % 2 === 0 ? <InboxIcon /> : <MailIcon />}\n//             </ListItemIcon>\n//             <ListItemText primary={text} />\n//           </ListItem>\n//         ))}\n//       </List>\n//     </div>\n//   );\n//\n//   return (\n//     <div className={classes.root}>\n//       <CssBaseline />\n//       <BrowserRouter>\n//         <nav className={classes.drawer} aria-label=\"mailbox folders\">\n//           {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n//           <Hidden xsDown implementation=\"css\">\n//             <Drawer\n//               classes={{\n//                 paper: classes.drawerPaper,\n//               }}\n//               variant=\"permanent\"\n//               open\n//             >\n//               {drawer}\n//             </Drawer>\n//           </Hidden>\n//         </nav>\n//         {/*--- Add remaing components to each Route  ---*/}\n//         <main className={classes.content}>\n//           <div className={classes.toolbar} />\n//           <Switch>\n//             <Route exact path=\"/posts\">\n//               <Posts />\n//             </Route>\n//             <Route path=\"/profile\">\n//               <Profile />\n//             </Route>\n//             <Route path=\"/NewRequest\">\n//               <NewRequest />\n//             </Route>\n//           </Switch>\n//         </main>\n//       </BrowserRouter>\n//     </div>\n//   );\n// }\n//\nSideBar.propTypes = {\n  /**\n   * Injected by the documentation to work in an iframe.\n   * You won't need it on your project.\n   */\n   container: PropTypes.instanceOf(\n     typeof Element === \"undefined\" ? Object : Element\n ),\n    Email:PropTypes.string,\n    // auth:PropTypes.object\n};\n\nexport default withRouter(withStyles(styles, {withTheme: true})(SideBar));\n"]},"metadata":{},"sourceType":"module"}