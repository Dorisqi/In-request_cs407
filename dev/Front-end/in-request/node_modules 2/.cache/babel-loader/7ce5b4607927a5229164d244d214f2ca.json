{"ast":null,"code":"var _jsxFileName = \"/Users/qier/Documents/cs407/In-request_cs407/dev/Front-end/in-request/src/Components/Home/Posts.js\";\nimport React, { Component } from 'react';\nimport { fdb, auth } from \"../../firebase\";\nimport { withStyles, makeStyles, ThemeProvider } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Chip from '@material-ui/core/Chip';\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\nimport FlashOnIcon from '@material-ui/icons/FlashOn';\nimport Container from '@material-ui/core/Container';\nimport AppsIcon from '@material-ui/icons/Apps';\nimport { InfiniteScroll, Box, Text } from \"grommet\";\n/* ---  THIS FILE CONTAINS ALL THE POSTS --- */\n\nconst styles = theme => ({\n  root: {\n    minWidth: 275,\n    margin: 10\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)'\n  },\n  title: {\n    fontSize: 14\n  },\n  pos: {\n    marginBottom: 12\n  }\n});\n\nclass Posts extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onClick_Open = event => {\n      // if(this.state.flag == 0){\n      //   return\n      // }\n      this.setState({\n        open: true,\n        flag: 1\n      });\n      console.log(event.target.value); // post.comments.map(item=>\n      //   item.get().then(function(doc) {\n      //   if (doc.exists) {\n      //       console.log(\"Document data:\", doc.data().content);\n      //       this.state.comment_list.append(doc.data().content)\n      //\n      //   } else {\n      //       // doc.data() will be undefined in this case\n      //       console.log(\"No such document!\");\n      //   }\n      //   }).catch(function(error) {\n      //     //  console.log(\"Error getting document:\", error);\n      //   })\n      // );\n    };\n\n    this.onClick_Close = event => {\n      this.setState({\n        open: false,\n        flag: 0\n      });\n    };\n\n    this.handleClick1 = event => {\n      const value = this.state.color1 == 1 ? 0 : 1;\n      this.setState({\n        color1: value\n      });\n    };\n\n    this.handleClick2 = event => {\n      const value = this.state.color2 == 1 ? 0 : 1;\n      this.setState({\n        color2: value\n      });\n    };\n\n    this.handleClick3 = event => {\n      const value = this.state.color3 == 1 ? 0 : 1;\n      this.setState({\n        color3: value\n      });\n    };\n\n    this.handleClick4 = event => {\n      const value = this.state.color4 == 1 ? 0 : 1;\n      this.setState({\n        color4: value\n      });\n    };\n\n    this.handleClick5 = event => {\n      const value = this.state.color5 == 1 ? 0 : 1;\n      this.setState({\n        color5: value,\n        color6: 0,\n        color7: 0\n      });\n    };\n\n    this.handleClick6 = event => {\n      const value = this.state.color6 == 1 ? 0 : 1;\n      this.setState({\n        color6: value,\n        color5: 0,\n        color7: 0\n      });\n    };\n\n    this.handleClick7 = event => {\n      const value = this.state.color7 == 1 ? 0 : 1;\n      this.setState({\n        color7: value,\n        color5: 0,\n        color6: 0\n      });\n    };\n\n    this.handleClick8 = event => {\n      const value = this.state.color8 == 1 ? 0 : 1;\n      this.setState({\n        color8: value\n      });\n    };\n\n    this.handleClick9 = event => {\n      const value = this.state.color9 == 1 ? 0 : 1;\n      this.setState({\n        color9: value\n      });\n    };\n\n    this.handleClick11 = event => {\n      const value = this.state.color11 == 1 ? 0 : 1;\n      this.setState({\n        color11: value\n      });\n    };\n\n    this.handleClick12 = event => {\n      const value = this.state.color12 == 1 ? 0 : 1;\n      this.setState({\n        color12: value\n      });\n    };\n\n    this.state = {\n      filterList: [],\n      post_list: [],\n      comment_list: [],\n      color1: 0,\n      color2: 0,\n      color3: 0,\n      color4: 0,\n      color5: 0,\n      color6: 0,\n      color7: 0,\n      color8: 0,\n      color9: 0,\n      color11: 0,\n      color12: 0,\n      open: false\n    };\n    this.handleClick1 = this.handleClick1.bind(this);\n    this.handleClick2 = this.handleClick2.bind(this);\n    this.handleClick3 = this.handleClick3.bind(this);\n    this.handleClick4 = this.handleClick4.bind(this);\n    this.handleClick5 = this.handleClick5.bind(this);\n    this.handleClick6 = this.handleClick6.bind(this);\n    this.handleClick7 = this.handleClick7.bind(this);\n    this.handleClick8 = this.handleClick8.bind(this);\n    this.handleClick9 = this.handleClick9.bind(this);\n    this.handleClick11 = this.handleClick11.bind(this);\n    this.handleClick12 = this.handleClick12.bind(this);\n    this.onClick_Open = this.onClick_Open.bind(this);\n    this.onClick_Close = this.onClick_Close.bind(this); //this.get_comment=this.get_comment.bind(this)\n  }\n\n  componentDidMount() {\n    let requests_collection = fdb.collection('requests');\n    let all_requests = requests_collection.get().then(snapshot => {\n      snapshot.forEach(doc => {\n        const item = doc.data();\n        this.setState({\n          post_list: [...this.state.post_list, item]\n        });\n      });\n    }).catch(err => {\n      console.log('Error getting documents', err);\n    });\n  }\n\n  // get_comment=item=>{\n  //   //console.log(await getReference(item))\n  //   let result = \"\"\n  //   item.get().then(function(doc) {\n  //   if (doc.exists) {\n  //       console.log(\"Document data:\", doc.data().content);\n  //       result = doc.data().content\n  //   } else {\n  //       // doc.data() will be undefined in this case\n  //       console.log(\"No such document!\");\n  //   }\n  //   }).catch(function(error) {\n  //       console.log(\"Error getting document:\", error);\n  //   });\n  //\n  //   //listen multiple documents: *********************\n  //   // db.collection(\"cities\").where(\"state\", \"==\", \"CA\")\n  //   // .onSnapshot(function(querySnapshot) {\n  //   //     var cities = [];\n  //   //     querySnapshot.forEach(function(doc) {\n  //   //         cities.push(doc.data().name);\n  //   //     });\n  //   //     console.log(\"Current cities in CA: \", cities.join(\", \"));\n  //   // });\n  //\n  // }\n  render() {\n    const {\n      classes\n    } = this.props;\n    const {\n      post_list,\n      color1,\n      color2,\n      color3,\n      color4,\n      color5,\n      color6,\n      color7,\n      color8,\n      color9,\n      color11,\n      color12\n    } = this.state;\n    let buffer = [];\n    let filtered = [];\n\n    if (color1) {\n      const result = post_list.filter(obj => obj.taglist.includes(\"HICKS\"));\n      buffer.push.apply(buffer, result);\n    }\n\n    if (color2) {\n      const result = post_list.filter(obj => obj.taglist.includes(\"PMU\"));\n      buffer.push.apply(buffer, result);\n    }\n\n    if (color3) {\n      const result = post_list.filter(obj => obj.taglist.includes(\"LWSN\"));\n      buffer.push.apply(buffer, result);\n    }\n\n    if (color4) {\n      const result = post_list.filter(obj => obj.taglist.includes(\"ECE\"));\n      buffer.push.apply(buffer, result);\n    }\n\n    if (color5) {\n      const result = post_list.filter(obj => obj.taglist.includes(\"LEVEL1\"));\n      buffer.push.apply(buffer, result);\n    }\n\n    if (color6) {\n      const result = post_list.filter(obj => obj.taglist.includes(\"LEVEL2\"));\n      buffer.push.apply(buffer, result);\n    }\n\n    if (color7) {\n      const result = post_list.filter(obj => obj.taglist.includes(\"LEVEL3\"));\n      buffer.push.apply(buffer, result);\n    }\n\n    if (color8) {\n      const result = post_list.filter(obj => obj.taglist.includes(\"Stationery\"));\n      buffer.push.apply(buffer, result);\n    }\n\n    if (color9) {\n      const result = post_list.filter(obj => obj.taglist.includes(\"Commute\"));\n      buffer.push.apply(buffer, result);\n    }\n\n    if (color11) {\n      const result = post_list.filter(obj => obj.taglist.includes(\"Living Essentials\"));\n      buffer.push.apply(buffer, result);\n    }\n\n    if (color12) {\n      const result = post_list.filter(obj => obj.taglist.includes(\"Sports\"));\n      buffer.push.apply(buffer, result);\n    }\n\n    if (buffer.length == 0) {\n      filtered = post_list;\n    } else {\n      filtered = [...new Set(buffer)];\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      spacing: 1,\n      alignItems: \"flex-end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, React.createElement(LocationOnIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, React.createElement(Chip, {\n      variant: \"outlined\",\n      size: \"small\",\n      label: \"HICKS\",\n      color: this.state.color1 == 0 ? \"default\" : \"primary\",\n      onClick: this.handleClick1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, React.createElement(Chip, {\n      variant: \"outlined\",\n      size: \"small\",\n      label: \"LWSN\",\n      color: this.state.color2 == 0 ? \"default\" : \"primary\",\n      onClick: this.handleClick2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(Chip, {\n      variant: \"outlined\",\n      size: \"small\",\n      label: \"PMU\",\n      color: this.state.color3 == 0 ? \"default\" : \"primary\",\n      onClick: this.handleClick3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(Chip, {\n      variant: \"outlined\",\n      size: \"small\",\n      label: \"ECE\",\n      color: this.state.color4 == 0 ? \"default\" : \"primary\",\n      onClick: this.handleClick4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }), React.createElement(Grid, {\n      container: true,\n      spacing: 1,\n      alignItems: \"flex-end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, React.createElement(FlashOnIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, React.createElement(Chip, {\n      variant: \"outlined\",\n      size: \"small\",\n      label: \"Level 1\",\n      color: this.state.color5 == 0 ? \"default\" : \"primary\",\n      onClick: this.handleClick5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, React.createElement(Chip, {\n      variant: \"outlined\",\n      size: \"small\",\n      label: \"Level 2\",\n      color: this.state.color6 == 0 ? \"default\" : \"primary\",\n      onClick: this.handleClick6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      xs: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, React.createElement(Chip, {\n      variant: \"outlined\",\n      size: \"small\",\n      label: \"Level 3\",\n      color: this.state.color7 == 0 ? \"default\" : \"primary\",\n      onClick: this.handleClick7,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }), React.createElement(Grid, {\n      container: true,\n      spacing: 1,\n      alignItems: \"flex-end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, React.createElement(AppsIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, React.createElement(Chip, {\n      variant: \"outlined\",\n      size: \"small\",\n      label: \"Stationery\",\n      color: this.state.color8 == 0 ? \"default\" : \"primary\",\n      onClick: this.handleClick8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, React.createElement(Chip, {\n      variant: \"outlined\",\n      size: \"small\",\n      label: \"Commute\",\n      color: this.state.color9 == 0 ? \"default\" : \"primary\",\n      onClick: this.handleClick9,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, React.createElement(Chip, {\n      variant: \"outlined\",\n      size: \"small\",\n      label: \"Living Essentials\",\n      color: this.state.color11 == 0 ? \"default\" : \"primary\",\n      onClick: this.handleClick11,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      xs: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, React.createElement(Chip, {\n      variant: \"outlined\",\n      size: \"small\",\n      label: \"Sports\",\n      color: this.state.color12 == 0 ? \"default\" : \"primary\",\n      onClick: this.handleClick12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    })))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }), React.createElement(Grid, {\n      container: true,\n      xs: 12,\n      spacing: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }, filtered.map(post => React.createElement(Grid, {\n      item: true,\n      xs: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, React.createElement(CardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"h5\",\n      component: \"h2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, post.title), React.createElement(Typography, {\n      variant: \"subtitle1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, post.content), React.createElement(Typography, {\n      variant: \"body2\",\n      component: \"p\",\n      color: \"textSecondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, \"Borrower: \", post.borrower, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323\n      },\n      __self: this\n    })), React.createElement(Typography, {\n      variant: \"body2\",\n      component: \"p\",\n      color: \"textSecondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, \"Estimated Value: \", post.price, \" $\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    })), React.createElement(Typography, {\n      variant: \"body2\",\n      component: \"p\",\n      color: \"textSecondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, \"Guranrtor: \", post.guarantor, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    })), this.state.open && React.createElement(Box, {\n      height: \"auto\",\n      overflow: \"auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, React.createElement(InfiniteScroll, {\n      items: this.state.comment_list,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, item => React.createElement(Box, {\n      flex: false,\n      pad: \"small\",\n      background: \"#e8dce2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, React.createElement(Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }, item))))), React.createElement(CardActions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348\n      },\n      __self: this\n    }, React.createElement(Button, {\n      size: \"small\",\n      onClick: this.onClick_Close,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }, \"Lend\"), React.createElement(Button, {\n      size: \"small\",\n      value: \"post\",\n      onClick: this.onClick_Open,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }, \"Comments\")))))));\n  }\n\n}\n\nexport default withStyles(styles, {\n  withTheme: true\n})(Posts);\n;","map":{"version":3,"sources":["/Users/qier/Documents/cs407/In-request_cs407/dev/Front-end/in-request/src/Components/Home/Posts.js"],"names":["React","Component","fdb","auth","withStyles","makeStyles","ThemeProvider","Card","CardActions","CardContent","Button","Typography","Grid","Chip","LocationOnIcon","FlashOnIcon","Container","AppsIcon","InfiniteScroll","Box","Text","styles","theme","root","minWidth","margin","bullet","display","transform","title","fontSize","pos","marginBottom","Posts","constructor","props","onClick_Open","event","setState","open","flag","console","log","target","value","onClick_Close","handleClick1","state","color1","handleClick2","color2","handleClick3","color3","handleClick4","color4","handleClick5","color5","color6","color7","handleClick6","handleClick7","handleClick8","color8","handleClick9","color9","handleClick11","color11","handleClick12","color12","filterList","post_list","comment_list","bind","componentDidMount","requests_collection","collection","all_requests","get","then","snapshot","forEach","doc","item","data","catch","err","render","classes","buffer","filtered","result","filter","obj","taglist","includes","push","apply","length","Set","map","post","content","borrower","price","guarantor","withTheme"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {fdb,auth} from \"../../firebase\";\nimport { withStyles, makeStyles, ThemeProvider } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Chip from '@material-ui/core/Chip';\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\nimport FlashOnIcon from '@material-ui/icons/FlashOn';\nimport Container from '@material-ui/core/Container';\nimport AppsIcon from '@material-ui/icons/Apps';\nimport { InfiniteScroll,Box,Text} from \"grommet\";\n\n/* ---  THIS FILE CONTAINS ALL THE POSTS --- */\nconst styles = theme => ({\n  root: {\n    minWidth: 275,\n    margin: 10,\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)',\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n});\n\nclass Posts extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filterList:[],\n      post_list: [],\n      comment_list:[],\n      color1:0,\n      color2:0,\n      color3:0,\n      color4:0,\n      color5:0,\n      color6:0,\n      color7:0,\n      color8:0,\n      color9:0,\n      color11:0,\n      color12:0,\n      open:false\n    };\n    this.handleClick1 = this.handleClick1.bind(this);\n    this.handleClick2 = this.handleClick2.bind(this);\n    this.handleClick3 = this.handleClick3.bind(this);\n    this.handleClick4 = this.handleClick4.bind(this);\n    this.handleClick5 = this.handleClick5.bind(this);\n    this.handleClick6 = this.handleClick6.bind(this);\n    this.handleClick7 = this.handleClick7.bind(this);\n    this.handleClick8 = this.handleClick8.bind(this);\n    this.handleClick9 = this.handleClick9.bind(this);\n    this.handleClick11 = this.handleClick11.bind(this);\n    this.handleClick12 = this.handleClick12.bind(this);\n    this.onClick_Open = this.onClick_Open.bind(this);\n    this.onClick_Close = this.onClick_Close.bind(this);\n    //this.get_comment=this.get_comment.bind(this)\n\n\n  }\n  componentDidMount() {\n    let requests_collection = fdb.collection('requests');\n    let all_requests = requests_collection.get()\n      .then(snapshot => {\n        snapshot.forEach(doc => {\n          const item = doc.data();\n          this.setState({\n              post_list: [...this.state.post_list, item],\n          });\n        });\n      }).catch(err => {\n        console.log('Error getting documents', err);\n      });\n\n\n  }\n\n  onClick_Open=event=>{\n    // if(this.state.flag == 0){\n    //   return\n    // }\n\n    this.setState({open:true,flag:1})\n    console.log(event.target.value)\n    // post.comments.map(item=>\n    //   item.get().then(function(doc) {\n    //   if (doc.exists) {\n    //       console.log(\"Document data:\", doc.data().content);\n    //       this.state.comment_list.append(doc.data().content)\n    //\n    //   } else {\n    //       // doc.data() will be undefined in this case\n    //       console.log(\"No such document!\");\n    //   }\n    //   }).catch(function(error) {\n    //     //  console.log(\"Error getting document:\", error);\n    //   })\n    // );\n  }\n  onClick_Close=event=>{\n    this.setState({open:false,flag:0})\n  }\n  handleClick1 = event =>{\n    const value = (this.state.color1 ==1 )? 0:1\n    this.setState({color1: value})\n  }\n  handleClick2=event=>{\n    const value = (this.state.color2 ==1)? 0:1\n    this.setState({ color2: value})\n  }\n  handleClick3=event=>{\n\n    const value = (this.state.color3 ==1)? 0:1\n    this.setState({ color3: value})\n  }\n  handleClick4=event=>{\n\n    const value = (this.state.color4 ==1)? 0:1\n    this.setState({ color4: value})\n  }\n  handleClick5=event=>{\n\n    const value = (this.state.color5==1)? 0:1\n    this.setState({\n      color5: value,\n      color6: 0,\n      color7: 0,\n    })\n  }\n  handleClick6=event=>{\n    const value = (this.state.color6 ==1)? 0:1\n    this.setState({\n      color6: value,\n      color5: 0,\n      color7:0,\n    })\n  }\n  handleClick7=event=>{\n    const value = (this.state.color7 ==1)? 0:1\n    this.setState({\n      color7: value,\n      color5: 0,\n      color6: 0,\n    })\n  }\n  handleClick8=event=>{\n    const value = (this.state.color8 ==1)?0:1\n    this.setState({ color8: value})\n  }\n  handleClick9=event=>{\n    const value = (this.state.color9 ==1)?0:1\n    this.setState({ color9: value})\n  }\n  handleClick11=event=>{\n    const value = (this.state.color11 ==1)?0:1\n    this.setState({ color11: value})\n  }\n  handleClick12=event=>{\n    const value = (this.state.color12 ==1)?0:1\n    this.setState({ color12: value})\n  }\n  // get_comment=item=>{\n  //   //console.log(await getReference(item))\n  //   let result = \"\"\n  //   item.get().then(function(doc) {\n  //   if (doc.exists) {\n  //       console.log(\"Document data:\", doc.data().content);\n  //       result = doc.data().content\n  //   } else {\n  //       // doc.data() will be undefined in this case\n  //       console.log(\"No such document!\");\n  //   }\n  //   }).catch(function(error) {\n  //       console.log(\"Error getting document:\", error);\n  //   });\n  //\n  //   //listen multiple documents: *********************\n  //   // db.collection(\"cities\").where(\"state\", \"==\", \"CA\")\n  //   // .onSnapshot(function(querySnapshot) {\n  //   //     var cities = [];\n  //   //     querySnapshot.forEach(function(doc) {\n  //   //         cities.push(doc.data().name);\n  //   //     });\n  //   //     console.log(\"Current cities in CA: \", cities.join(\", \"));\n  //   // });\n  //\n  // }\n  render() {\n    const{classes} = this.props\n    const {post_list, color1,color2,color3,color4,color5,color6,color7,color8,color9,color11,color12} = this.state\n\n    let buffer = []\n    let filtered = []\n    if (color1) {\n      const result = post_list.filter(obj =>(obj.taglist.includes(\"HICKS\")));\n      buffer.push.apply(buffer, result)\n    }\n    if (color2) {\n      const result = post_list.filter(obj =>(obj.taglist.includes(\"PMU\")));\n      buffer.push.apply(buffer, result)\n    }\n    if (color3) {\n      const result = post_list.filter(obj =>(obj.taglist.includes(\"LWSN\")));\n      buffer.push.apply(buffer, result)\n    }\n    if (color4) {\n      const result = post_list.filter(obj =>(obj.taglist.includes(\"ECE\")));\n      buffer.push.apply(buffer, result)\n    }\n    if (color5) {\n      const result = post_list.filter(obj =>(obj.taglist.includes(\"LEVEL1\")));\n      buffer.push.apply(buffer, result)\n    }\n    if (color6) {\n      const result = post_list.filter(obj =>(obj.taglist.includes(\"LEVEL2\")));\n      buffer.push.apply(buffer, result)\n    }\n    if (color7) {\n      const result = post_list.filter(obj =>(obj.taglist.includes(\"LEVEL3\")));\n      buffer.push.apply(buffer, result)\n    }\n    if (color8) {\n      const result = post_list.filter(obj =>(obj.taglist.includes(\"Stationery\")));\n      buffer.push.apply(buffer, result)\n    }\n    if (color9) {\n      const result = post_list.filter(obj =>(obj.taglist.includes(\"Commute\")));\n      buffer.push.apply(buffer, result)\n    }\n    if (color11) {\n      const result = post_list.filter(obj =>(obj.taglist.includes(\"Living Essentials\")));\n      buffer.push.apply(buffer, result)\n    }\n    if (color12) {\n      const result = post_list.filter(obj =>(obj.taglist.includes(\"Sports\")));\n      buffer.push.apply(buffer, result)\n    }\n    if (buffer.length == 0) {\n      filtered = post_list\n    }else{\n      filtered = [...new Set(buffer)]\n    }\n    return (\n      <div>\n        <Container>\n          <Grid container spacing={1} alignItems=\"flex-end\">\n            <Grid item>\n              <LocationOnIcon />\n            </Grid>\n            <Grid item>\n              <Chip variant=\"outlined\" size=\"small\" label=\"HICKS\" color = {this.state.color1==0? \"default\":\"primary\" } onClick={this.handleClick1}/>\n            </Grid>\n            <Grid item >\n              <Chip variant=\"outlined\" size=\"small\" label=\"LWSN\" color = {this.state.color2==0? \"default\":\"primary\" } onClick={this.handleClick2} />\n            </Grid>\n            <Grid item >\n              <Chip variant=\"outlined\" size=\"small\" label=\"PMU\" color = {this.state.color3==0? \"default\":\"primary\" } onClick={this.handleClick3} />\n            </Grid >\n            <Grid item>\n              <Chip variant=\"outlined\" size=\"small\" label=\"ECE\" color = {this.state.color4==0? \"default\":\"primary\" } onClick={this.handleClick4}/>\n            </Grid>\n          </Grid>\n          <br />\n          <Grid container spacing={1} alignItems=\"flex-end\">\n            <Grid item>\n              <FlashOnIcon/>\n            </Grid>\n            <Grid item>\n              <Chip variant=\"outlined\" size=\"small\" label=\"Level 1\" color = {this.state.color5==0? \"default\":\"primary\" } onClick={this.handleClick5}/>\n            </Grid>\n            <Grid item>\n              <Chip variant=\"outlined\" size=\"small\" label=\"Level 2\" color = {this.state.color6==0? \"default\":\"primary\" } onClick={this.handleClick6}/>\n            </Grid>\n            <Grid item xs={6}>\n              <Chip variant=\"outlined\" size=\"small\" label=\"Level 3\" color = {this.state.color7==0? \"default\":\"primary\" } onClick={this.handleClick7}/>\n            </Grid>\n          </Grid>\n          <br />\n          <Grid container spacing={1} alignItems=\"flex-end\">\n            <Grid item>\n              <AppsIcon/>\n            </Grid>\n            <Grid item>\n              <Chip variant=\"outlined\" size=\"small\" label=\"Stationery\" color = {this.state.color8==0? \"default\":\"primary\" } onClick={this.handleClick8}/>\n            </Grid>\n            <Grid item>\n              <Chip variant=\"outlined\" size=\"small\" label=\"Commute\" color = {this.state.color9==0? \"default\":\"primary\" } onClick={this.handleClick9}/>\n            </Grid>\n            <Grid item>\n              <Chip variant=\"outlined\" size=\"small\" label=\"Living Essentials\" color = {this.state.color11==0? \"default\":\"primary\" } onClick={this.handleClick11}/>\n            </Grid>\n            <Grid item xs={6}>\n              <Chip variant=\"outlined\" size=\"small\" label=\"Sports\" color = {this.state.color12==0? \"default\":\"primary\" } onClick={this.handleClick12}/>\n            </Grid>\n          </Grid>\n        </Container>\n        <br />\n        <Grid container xs={12} spacing={3}>\n        {filtered.map(post=>\n          <Grid item xs={4}>\n            <Card>\n                <CardContent>\n                  <Typography variant=\"h5\" component=\"h2\">\n                    {post.title}\n                  </Typography>\n                  <Typography variant= \"subtitle1\" >\n                    {post.content}\n                  </Typography>\n                  <Typography variant=\"body2\" component=\"p\" color=\"textSecondary\">\n                    Borrower: {post.borrower}\n                    <br />\n                  </Typography>\n                  <Typography variant=\"body2\" component=\"p\" color=\"textSecondary\">\n                    Estimated Value: {post.price} $\n                    <br />\n                  </Typography>\n                  <Typography variant=\"body2\" component=\"p\" color=\"textSecondary\">\n                    Guranrtor: {post.guarantor}\n                    <br />\n                  </Typography>\n                  {this.state.open && (<Box height=\"auto\" overflow=\"auto\">\n                    <InfiniteScroll items={this.state.comment_list}>\n                      {(item) => (\n                        <Box\n                          flex={false}\n                          pad=\"small\"\n                          background={\"#e8dce2\"}\n                        >\n                          <Text>{item}</Text>\n                        </Box>\n                      )}\n                    </InfiniteScroll>\n                  </Box>\n                )}\n                </CardContent>\n                <CardActions>\n                  <Button size=\"small\" onClick={this.onClick_Close}>Lend</Button>\n                  <Button size=\"small\" value={\"post\"} onClick={this.onClick_Open}>Comments</Button>\n                </CardActions>\n            </Card>\n          </Grid>\n        )}\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles, {withTheme: true})(Posts);;\n"]},"metadata":{},"sourceType":"module"}