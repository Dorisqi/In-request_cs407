{"ast":null,"code":"/*! firebase-admin v8.9.2 */\n\"use strict\";\n/*!\n * Copyright 2018 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar validator = require(\"../utils/validator\");\n\nvar error_1 = require(\"../utils/error\");\n/**\n * Defines the ActionCodeSettings builder class used to convert the\n * ActionCodeSettings object to its corresponding server request.\n */\n\n\nvar ActionCodeSettingsBuilder =\n/** @class */\nfunction () {\n  /**\n   * ActionCodeSettingsBuilder constructor.\n   *\n   * @param {ActionCodeSettings} actionCodeSettings The ActionCodeSettings\n   *     object used to initiliaze this server request builder.\n   * @constructor\n   */\n  function ActionCodeSettingsBuilder(actionCodeSettings) {\n    if (!validator.isNonNullObject(actionCodeSettings)) {\n      throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, '\"ActionCodeSettings\" must be a non-null object.');\n    }\n\n    if (typeof actionCodeSettings.url === 'undefined') {\n      throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.MISSING_CONTINUE_URI);\n    } else if (!validator.isURL(actionCodeSettings.url)) {\n      throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_CONTINUE_URI);\n    }\n\n    this.continueUrl = actionCodeSettings.url;\n\n    if (typeof actionCodeSettings.handleCodeInApp !== 'undefined' && !validator.isBoolean(actionCodeSettings.handleCodeInApp)) {\n      throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, '\"ActionCodeSettings.handleCodeInApp\" must be a boolean.');\n    }\n\n    this.canHandleCodeInApp = actionCodeSettings.handleCodeInApp || false;\n\n    if (typeof actionCodeSettings.dynamicLinkDomain !== 'undefined' && !validator.isNonEmptyString(actionCodeSettings.dynamicLinkDomain)) {\n      throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_DYNAMIC_LINK_DOMAIN);\n    }\n\n    this.dynamicLinkDomain = actionCodeSettings.dynamicLinkDomain;\n\n    if (typeof actionCodeSettings.iOS !== 'undefined') {\n      if (!validator.isNonNullObject(actionCodeSettings.iOS)) {\n        throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, '\"ActionCodeSettings.iOS\" must be a valid non-null object.');\n      } else if (typeof actionCodeSettings.iOS.bundleId === 'undefined') {\n        throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.MISSING_IOS_BUNDLE_ID);\n      } else if (!validator.isNonEmptyString(actionCodeSettings.iOS.bundleId)) {\n        throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, '\"ActionCodeSettings.iOS.bundleId\" must be a valid non-empty string.');\n      }\n\n      this.ibi = actionCodeSettings.iOS.bundleId;\n    }\n\n    if (typeof actionCodeSettings.android !== 'undefined') {\n      if (!validator.isNonNullObject(actionCodeSettings.android)) {\n        throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, '\"ActionCodeSettings.android\" must be a valid non-null object.');\n      } else if (typeof actionCodeSettings.android.packageName === 'undefined') {\n        throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.MISSING_ANDROID_PACKAGE_NAME);\n      } else if (!validator.isNonEmptyString(actionCodeSettings.android.packageName)) {\n        throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, '\"ActionCodeSettings.android.packageName\" must be a valid non-empty string.');\n      } else if (typeof actionCodeSettings.android.minimumVersion !== 'undefined' && !validator.isNonEmptyString(actionCodeSettings.android.minimumVersion)) {\n        throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, '\"ActionCodeSettings.android.minimumVersion\" must be a valid non-empty string.');\n      } else if (typeof actionCodeSettings.android.installApp !== 'undefined' && !validator.isBoolean(actionCodeSettings.android.installApp)) {\n        throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, '\"ActionCodeSettings.android.installApp\" must be a valid boolean.');\n      }\n\n      this.apn = actionCodeSettings.android.packageName;\n      this.amv = actionCodeSettings.android.minimumVersion;\n      this.installApp = actionCodeSettings.android.installApp || false;\n    }\n  }\n  /**\n   * Returns the corresponding constructed server request corresponding to the\n   * current ActionCodeSettings.\n   *\n   * @return {EmailActionCodeRequest} The constructed EmailActionCodeRequest request.\n   */\n\n\n  ActionCodeSettingsBuilder.prototype.buildRequest = function () {\n    var request = {\n      continueUrl: this.continueUrl,\n      canHandleCodeInApp: this.canHandleCodeInApp,\n      dynamicLinkDomain: this.dynamicLinkDomain,\n      androidPackageName: this.apn,\n      androidMinimumVersion: this.amv,\n      androidInstallApp: this.installApp,\n      iOSBundleId: this.ibi\n    }; // Remove all null and undefined fields from request.\n\n    for (var key in request) {\n      if (request.hasOwnProperty(key)) {\n        if (typeof request[key] === 'undefined' || request[key] === null) {\n          delete request[key];\n        }\n      }\n    }\n\n    return request;\n  };\n\n  return ActionCodeSettingsBuilder;\n}();\n\nexports.ActionCodeSettingsBuilder = ActionCodeSettingsBuilder;","map":{"version":3,"sources":["/Users/qier/Documents/cs407/In-request_cs407/dev/Front-end/in-request/node_modules/firebase-admin/lib/auth/action-code-settings-builder.js"],"names":["Object","defineProperty","exports","value","validator","require","error_1","ActionCodeSettingsBuilder","actionCodeSettings","isNonNullObject","FirebaseAuthError","AuthClientErrorCode","INVALID_ARGUMENT","url","MISSING_CONTINUE_URI","isURL","INVALID_CONTINUE_URI","continueUrl","handleCodeInApp","isBoolean","canHandleCodeInApp","dynamicLinkDomain","isNonEmptyString","INVALID_DYNAMIC_LINK_DOMAIN","iOS","bundleId","MISSING_IOS_BUNDLE_ID","ibi","android","packageName","MISSING_ANDROID_PACKAGE_NAME","minimumVersion","installApp","apn","amv","prototype","buildRequest","request","androidPackageName","androidMinimumVersion","androidInstallApp","iOSBundleId","key","hasOwnProperty"],"mappings":"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","sourcesContent":["/*! firebase-admin v8.9.2 */\n\"use strict\";\n/*!\n * Copyright 2018 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar validator = require(\"../utils/validator\");\nvar error_1 = require(\"../utils/error\");\n/**\n * Defines the ActionCodeSettings builder class used to convert the\n * ActionCodeSettings object to its corresponding server request.\n */\nvar ActionCodeSettingsBuilder = /** @class */ (function () {\n    /**\n     * ActionCodeSettingsBuilder constructor.\n     *\n     * @param {ActionCodeSettings} actionCodeSettings The ActionCodeSettings\n     *     object used to initiliaze this server request builder.\n     * @constructor\n     */\n    function ActionCodeSettingsBuilder(actionCodeSettings) {\n        if (!validator.isNonNullObject(actionCodeSettings)) {\n            throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, '\"ActionCodeSettings\" must be a non-null object.');\n        }\n        if (typeof actionCodeSettings.url === 'undefined') {\n            throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.MISSING_CONTINUE_URI);\n        }\n        else if (!validator.isURL(actionCodeSettings.url)) {\n            throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_CONTINUE_URI);\n        }\n        this.continueUrl = actionCodeSettings.url;\n        if (typeof actionCodeSettings.handleCodeInApp !== 'undefined' &&\n            !validator.isBoolean(actionCodeSettings.handleCodeInApp)) {\n            throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, '\"ActionCodeSettings.handleCodeInApp\" must be a boolean.');\n        }\n        this.canHandleCodeInApp = actionCodeSettings.handleCodeInApp || false;\n        if (typeof actionCodeSettings.dynamicLinkDomain !== 'undefined' &&\n            !validator.isNonEmptyString(actionCodeSettings.dynamicLinkDomain)) {\n            throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_DYNAMIC_LINK_DOMAIN);\n        }\n        this.dynamicLinkDomain = actionCodeSettings.dynamicLinkDomain;\n        if (typeof actionCodeSettings.iOS !== 'undefined') {\n            if (!validator.isNonNullObject(actionCodeSettings.iOS)) {\n                throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, '\"ActionCodeSettings.iOS\" must be a valid non-null object.');\n            }\n            else if (typeof actionCodeSettings.iOS.bundleId === 'undefined') {\n                throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.MISSING_IOS_BUNDLE_ID);\n            }\n            else if (!validator.isNonEmptyString(actionCodeSettings.iOS.bundleId)) {\n                throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, '\"ActionCodeSettings.iOS.bundleId\" must be a valid non-empty string.');\n            }\n            this.ibi = actionCodeSettings.iOS.bundleId;\n        }\n        if (typeof actionCodeSettings.android !== 'undefined') {\n            if (!validator.isNonNullObject(actionCodeSettings.android)) {\n                throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, '\"ActionCodeSettings.android\" must be a valid non-null object.');\n            }\n            else if (typeof actionCodeSettings.android.packageName === 'undefined') {\n                throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.MISSING_ANDROID_PACKAGE_NAME);\n            }\n            else if (!validator.isNonEmptyString(actionCodeSettings.android.packageName)) {\n                throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, '\"ActionCodeSettings.android.packageName\" must be a valid non-empty string.');\n            }\n            else if (typeof actionCodeSettings.android.minimumVersion !== 'undefined' &&\n                !validator.isNonEmptyString(actionCodeSettings.android.minimumVersion)) {\n                throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, '\"ActionCodeSettings.android.minimumVersion\" must be a valid non-empty string.');\n            }\n            else if (typeof actionCodeSettings.android.installApp !== 'undefined' &&\n                !validator.isBoolean(actionCodeSettings.android.installApp)) {\n                throw new error_1.FirebaseAuthError(error_1.AuthClientErrorCode.INVALID_ARGUMENT, '\"ActionCodeSettings.android.installApp\" must be a valid boolean.');\n            }\n            this.apn = actionCodeSettings.android.packageName;\n            this.amv = actionCodeSettings.android.minimumVersion;\n            this.installApp = actionCodeSettings.android.installApp || false;\n        }\n    }\n    /**\n     * Returns the corresponding constructed server request corresponding to the\n     * current ActionCodeSettings.\n     *\n     * @return {EmailActionCodeRequest} The constructed EmailActionCodeRequest request.\n     */\n    ActionCodeSettingsBuilder.prototype.buildRequest = function () {\n        var request = {\n            continueUrl: this.continueUrl,\n            canHandleCodeInApp: this.canHandleCodeInApp,\n            dynamicLinkDomain: this.dynamicLinkDomain,\n            androidPackageName: this.apn,\n            androidMinimumVersion: this.amv,\n            androidInstallApp: this.installApp,\n            iOSBundleId: this.ibi,\n        };\n        // Remove all null and undefined fields from request.\n        for (var key in request) {\n            if (request.hasOwnProperty(key)) {\n                if (typeof request[key] === 'undefined' || request[key] === null) {\n                    delete request[key];\n                }\n            }\n        }\n        return request;\n    };\n    return ActionCodeSettingsBuilder;\n}());\nexports.ActionCodeSettingsBuilder = ActionCodeSettingsBuilder;\n"]},"metadata":{},"sourceType":"script"}