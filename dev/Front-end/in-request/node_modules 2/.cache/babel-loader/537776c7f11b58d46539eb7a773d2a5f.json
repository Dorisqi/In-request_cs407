{"ast":null,"code":"// import firebase from \"firebase/app\"\n// import admin from \"firebase-admin\"\nimport serviceAccount from './in-request-firebase-adminsdk-2upr0-a94880f19f.json';\nimport \"firebase/auth\";\nimport \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyB8fmbeFCz6MflVeRF-pU7N5WyPCDbQDQw\",\n  authDomain: \"in-request.firebaseapp.com\",\n  databaseURL: \"https://in-request.firebaseio.com\",\n  projectId: \"in-request\",\n  storageBucket: \"in-request.appspot.com\",\n  messagingSenderId: \"566878675007\",\n  appId: \"1:566878675007:web:234477171d4f9c7311d88a\",\n  measurementId: \"G-5PRZRKXFQ2\"\n}; //const firebase = require(\"firebase/app\");\n\nfirebase.initializeApp(firebaseConfig); //const auth= firebase.auth()\n\nadmin.initializeApp({\n  credential: admin.credential.cert(serviceAccount)\n});\nconst db = admin.firestore();\n\nfunction login(email, password) {\n  firebase.auth().signInWithEmailAndPassword(email, password).then(error => {\n    // log-in successful.\n    const ref = db.collection('users').doc(email);\n    ref.get().then(doc => {\n      if (!doc.exists) {\n        console.log('No such document!');\n      } else {\n        ref.update({\n          LoginState: true\n        }).then(() => {\n          console.log('login successful'); // console.log('Data:', doc.data());\n        });\n      }\n    }).catch(err => {\n      // An error happened.\n      console.log('Error logging in', err);\n    });\n  });\n}\n\nexport default db; // This part is for firebase-cloud firestore setup\n//const admin = require('firebase-admin');","map":{"version":3,"sources":["/Users/qier/Documents/cs407/In-request_cs407/dev/Front-end/in-request/src/Components/App/Firebase_start.js"],"names":["serviceAccount","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","initializeApp","admin","credential","cert","db","firestore","login","email","password","auth","signInWithEmailAndPassword","then","error","ref","collection","doc","get","exists","console","log","update","LoginState","catch","err"],"mappings":"AAAA;AACA;AACA,OAAOA,cAAP,MAA2B,sDAA3B;AACA,OAAO,eAAP;AACA,OAAO,cAAP;AACA,OAAO,oBAAP;AACA,OAAO,kBAAP;AACA,MAAMC,cAAc,GAAG;AACrBC,EAAAA,MAAM,EAAE,yCADa;AAErBC,EAAAA,UAAU,EAAE,4BAFS;AAGrBC,EAAAA,WAAW,EAAE,mCAHQ;AAIrBC,EAAAA,SAAS,EAAE,YAJU;AAKrBC,EAAAA,aAAa,EAAE,wBALM;AAMrBC,EAAAA,iBAAiB,EAAE,cANE;AAOrBC,EAAAA,KAAK,EAAE,2CAPc;AAQrBC,EAAAA,aAAa,EAAE;AARM,CAAvB,C,CAUA;;AACAC,QAAQ,CAACC,aAAT,CAAuBV,cAAvB,E,CACA;;AACAW,KAAK,CAACD,aAAN,CAAoB;AAClBE,EAAAA,UAAU,EAAED,KAAK,CAACC,UAAN,CAAiBC,IAAjB,CAAsBd,cAAtB;AADM,CAApB;AAMA,MAAMe,EAAE,GAAGH,KAAK,CAACI,SAAN,EAAX;;AAEA,SAASC,KAAT,CAAeC,KAAf,EAAsBC,QAAtB,EAA+B;AAC7BT,EAAAA,QAAQ,CAACU,IAAT,GAAgBC,0BAAhB,CAA2CH,KAA3C,EAAkDC,QAAlD,EAA4DG,IAA5D,CAAiEC,KAAK,IAAI;AAC5E;AACE,UAAMC,GAAG,GAAGT,EAAE,CAACU,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BR,KAA3B,CAAZ;AACAM,IAAAA,GAAG,CAACG,GAAJ,GAAUL,IAAV,CAAeI,GAAG,IAAI;AACpB,UAAI,CAACA,GAAG,CAACE,MAAT,EAAiB;AACfC,QAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACD,OAFD,MAEO;AACLN,QAAAA,GAAG,CAACO,MAAJ,CAAW;AACTC,UAAAA,UAAU,EAAE;AADH,SAAX,EAEGV,IAFH,CAEQ,MAAM;AACZO,UAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EADY,CAEZ;AACD,SALD;AAMD;AACF,KAXD,EAWGG,KAXH,CAWSC,GAAG,IAAI;AACd;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCI,GAAhC;AACD,KAdD;AAeD,GAlBC;AAmBD;;AAED,eAAenB,EAAf,C,CAGA;AACA","sourcesContent":["// import firebase from \"firebase/app\"\n// import admin from \"firebase-admin\"\nimport serviceAccount from './in-request-firebase-adminsdk-2upr0-a94880f19f.json'\nimport \"firebase/auth\"\nimport \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyB8fmbeFCz6MflVeRF-pU7N5WyPCDbQDQw\",\n  authDomain: \"in-request.firebaseapp.com\",\n  databaseURL: \"https://in-request.firebaseio.com\",\n  projectId: \"in-request\",\n  storageBucket: \"in-request.appspot.com\",\n  messagingSenderId: \"566878675007\",\n  appId: \"1:566878675007:web:234477171d4f9c7311d88a\",\n  measurementId: \"G-5PRZRKXFQ2\"\n};\n//const firebase = require(\"firebase/app\");\nfirebase.initializeApp(firebaseConfig);\n//const auth= firebase.auth()\nadmin.initializeApp({\n  credential: admin.credential.cert(serviceAccount),\n});\n\n\n\nconst db = admin.firestore();\n\nfunction login(email, password){\n  firebase.auth().signInWithEmailAndPassword(email, password).then(error => {\n// log-in successful.\n  const ref = db.collection('users').doc(email);\n  ref.get().then(doc => {\n    if (!doc.exists) {\n      console.log('No such document!');\n    } else {\n      ref.update({\n        LoginState: true\n      }).then(() => {\n        console.log('login successful');\n        // console.log('Data:', doc.data());\n      });\n    }\n  }).catch(err => {\n    // An error happened.\n    console.log('Error logging in', err);\n  });\n});\n}\n\nexport default db ;\n\n\n// This part is for firebase-cloud firestore setup\n//const admin = require('firebase-admin');\n"]},"metadata":{},"sourceType":"module"}