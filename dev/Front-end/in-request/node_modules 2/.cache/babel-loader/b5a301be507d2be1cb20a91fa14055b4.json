{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { useMemo, useState } from 'react';\nimport { Header } from './Header';\nimport { Footer } from './Footer';\nimport { Body } from './Body';\nimport { GroupedBody } from './GroupedBody';\nimport { buildFooterValues, buildGroups, buildGroupState, filterAndSortData, initializeFilters, normalizePrimaryProperty } from './buildState';\nimport { StyledDataTable } from './StyledDataTable';\nvar contexts = ['header', 'body', 'footer'];\n\nvar normalizeProp = function normalizeProp(prop, context) {\n  if (prop) {\n    if (prop[context]) return prop[context];\n    if (contexts.some(function (c) {\n      return prop[c];\n    })) return undefined;\n    return prop;\n  }\n\n  return undefined;\n};\n\nvar DataTable = function DataTable(_ref) {\n  var background = _ref.background,\n      border = _ref.border,\n      _ref$columns = _ref.columns,\n      columns = _ref$columns === void 0 ? [] : _ref$columns,\n      _ref$data = _ref.data,\n      data = _ref$data === void 0 ? [] : _ref$data,\n      groupBy = _ref.groupBy,\n      onClickRow = _ref.onClickRow,\n      onMore = _ref.onMore,\n      onSearch = _ref.onSearch,\n      replace = _ref.replace,\n      pad = _ref.pad,\n      primaryKey = _ref.primaryKey,\n      resizeable = _ref.resizeable,\n      rowProps = _ref.rowProps,\n      size = _ref.size,\n      sortable = _ref.sortable,\n      _ref$step = _ref.step,\n      step = _ref$step === void 0 ? 50 : _ref$step,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"background\", \"border\", \"columns\", \"data\", \"groupBy\", \"onClickRow\", \"onMore\", \"onSearch\", \"replace\", \"pad\", \"primaryKey\", \"resizeable\", \"rowProps\", \"size\", \"sortable\", \"step\"]); // property name of the primary property\n\n\n  var primaryProperty = useMemo(function () {\n    return normalizePrimaryProperty(columns, primaryKey);\n  }, [columns, primaryKey]); // whether or not we should show a footer\n\n  var showFooter = useMemo(function () {\n    return columns.filter(function (c) {\n      return c.footer;\n    }).length > 0;\n  }, [columns]); // what column we are actively capturing filter input on\n\n  var _useState = useState(),\n      filtering = _useState[0],\n      setFiltering = _useState[1]; // the currently active filters\n\n\n  var _useState2 = useState(initializeFilters(columns)),\n      filters = _useState2[0],\n      setFilters = _useState2[1]; // which column we are sorting on, with direction\n\n\n  var _useState3 = useState({}),\n      sort = _useState3[0],\n      setSort = _useState3[1]; // the data filtered and sorted, if needed\n\n\n  var adjustedData = useMemo(function () {\n    return filterAndSortData(data, filters, onSearch, sort);\n  }, [data, filters, onSearch, sort]); // the values to put in the footer cells\n\n  var footerValues = useMemo(function () {\n    return buildFooterValues(columns, adjustedData);\n  }, [adjustedData, columns]); // if groupBy, an array with one item per unique groupBy key value\n\n  var groups = useMemo(function () {\n    return buildGroups(columns, adjustedData, groupBy);\n  }, [adjustedData, columns, groupBy]); // an object indicating which group values are expanded\n\n  var _useState4 = useState(buildGroupState(groups, groupBy)),\n      groupState = _useState4[0],\n      setGroupState = _useState4[1]; // any customized column widths\n\n\n  var _useState5 = useState({}),\n      widths = _useState5[0],\n      setWidths = _useState5[1]; // remember that we are filtering on this property\n\n\n  var onFiltering = function onFiltering(property) {\n    return setFiltering(property);\n  }; // remember the search text we should filter this property by\n\n\n  var onFilter = function onFilter(property, value) {\n    var nextFilters = _extends({}, filters);\n\n    nextFilters[property] = value;\n    setFilters(nextFilters); // Let caller know about search, if interested\n\n    if (onSearch) onSearch(nextFilters);\n  }; // toggle the sort direction on this property\n\n\n  var onSort = function onSort(property) {\n    return function () {\n      var ascending = sort && property === sort.property ? !sort.ascending : true;\n      setSort({\n        property: property,\n        ascending: ascending\n      });\n    };\n  }; // toggle whether the group is expanded\n\n\n  var onToggleGroup = function onToggleGroup(groupValue) {\n    return function () {\n      var nextGroupState = _extends({}, groupState);\n\n      nextGroupState[groupValue] = _extends({}, nextGroupState[groupValue], {\n        expanded: !nextGroupState[groupValue].expanded\n      });\n      setGroupState(nextGroupState);\n\n      if (groupBy.onExpand) {\n        var expandedKeys = Object.keys(nextGroupState).filter(function (k) {\n          return nextGroupState[k].expanded;\n        });\n        groupBy.onExpand(expandedKeys);\n      }\n    };\n  }; // toggle whether all groups are expanded\n\n\n  var onToggleGroups = function onToggleGroups() {\n    var expanded = Object.keys(groupState).filter(function (k) {\n      return !groupState[k].expanded;\n    }).length === 0;\n    var nextGroupState = {};\n    Object.keys(groupState).forEach(function (k) {\n      nextGroupState[k] = _extends({}, groupState[k], {\n        expanded: !expanded\n      });\n    });\n    setGroupState(nextGroupState);\n\n    if (groupBy.onExpand) {\n      var expandedKeys = Object.keys(nextGroupState).filter(function (k) {\n        return nextGroupState[k].expanded;\n      });\n      groupBy.onExpand(expandedKeys);\n    }\n  }; // remember the width this property's column should be\n\n\n  var onResize = function onResize(property) {\n    return function (width) {\n      var nextWidths = _extends({}, widths);\n\n      nextWidths[property] = width;\n      setWidths(nextWidths);\n    };\n  };\n\n  if (size && resizeable) {\n    console.warn('DataTable cannot combine \"size\" and \"resizeble\".');\n  }\n\n  return React.createElement(StyledDataTable, rest, React.createElement(Header, {\n    background: normalizeProp(background, 'header'),\n    border: normalizeProp(border, 'header'),\n    columns: columns,\n    filtering: filtering,\n    filters: filters,\n    groups: groups,\n    groupState: groupState,\n    pad: normalizeProp(pad, 'header'),\n    size: size,\n    sort: sort,\n    widths: widths,\n    onFiltering: onFiltering,\n    onFilter: onFilter,\n    onResize: resizeable ? onResize : undefined,\n    onSort: sortable ? onSort : undefined,\n    onToggle: onToggleGroups\n  }), groups ? React.createElement(GroupedBody, {\n    background: normalizeProp(background, 'body'),\n    border: normalizeProp(border, 'body'),\n    columns: columns,\n    groupBy: groupBy.property ? groupBy.property : groupBy,\n    groups: groups,\n    groupState: groupState,\n    pad: normalizeProp(pad, 'body'),\n    primaryProperty: primaryProperty,\n    onToggle: onToggleGroup,\n    size: size\n  }) : React.createElement(Body, {\n    background: normalizeProp(background, 'body'),\n    border: normalizeProp(border, 'body'),\n    columns: columns,\n    data: adjustedData,\n    onMore: onMore,\n    replace: replace,\n    onClickRow: onClickRow,\n    pad: normalizeProp(pad, 'body'),\n    primaryProperty: primaryProperty,\n    rowProps: rowProps,\n    size: size,\n    step: step\n  }), showFooter && React.createElement(Footer, {\n    background: normalizeProp(background, 'footer'),\n    border: normalizeProp(border, 'footer'),\n    columns: columns,\n    footerValues: footerValues,\n    groups: groups,\n    pad: normalizeProp(pad, 'footer'),\n    primaryProperty: primaryProperty,\n    size: size\n  }));\n};\n\nvar DataTableDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  DataTableDoc = require('./doc').doc(DataTable);\n}\n\nvar DataTableWrapper = DataTableDoc || DataTable;\nexport { DataTableWrapper as DataTable };","map":{"version":3,"sources":["/Users/qier/Documents/cs407/In-request_cs407/dev/Front-end/in-request/node_modules/grommet/es6/components/DataTable/DataTable.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","useMemo","useState","Header","Footer","Body","GroupedBody","buildFooterValues","buildGroups","buildGroupState","filterAndSortData","initializeFilters","normalizePrimaryProperty","StyledDataTable","contexts","normalizeProp","prop","context","some","c","undefined","DataTable","_ref","background","border","_ref$columns","columns","_ref$data","data","groupBy","onClickRow","onMore","onSearch","replace","pad","primaryKey","resizeable","rowProps","size","sortable","_ref$step","step","rest","primaryProperty","showFooter","filter","footer","_useState","filtering","setFiltering","_useState2","filters","setFilters","_useState3","sort","setSort","adjustedData","footerValues","groups","_useState4","groupState","setGroupState","_useState5","widths","setWidths","onFiltering","property","onFilter","value","nextFilters","onSort","ascending","onToggleGroup","groupValue","nextGroupState","expanded","onExpand","expandedKeys","k","onToggleGroups","forEach","onResize","width","nextWidths","console","warn","createElement","onToggle","DataTableDoc","process","env","NODE_ENV","require","doc","DataTableWrapper"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useMemo, useState } from 'react';\nimport { Header } from './Header';\nimport { Footer } from './Footer';\nimport { Body } from './Body';\nimport { GroupedBody } from './GroupedBody';\nimport { buildFooterValues, buildGroups, buildGroupState, filterAndSortData, initializeFilters, normalizePrimaryProperty } from './buildState';\nimport { StyledDataTable } from './StyledDataTable';\nvar contexts = ['header', 'body', 'footer'];\n\nvar normalizeProp = function normalizeProp(prop, context) {\n  if (prop) {\n    if (prop[context]) return prop[context];\n    if (contexts.some(function (c) {\n      return prop[c];\n    })) return undefined;\n    return prop;\n  }\n\n  return undefined;\n};\n\nvar DataTable = function DataTable(_ref) {\n  var background = _ref.background,\n      border = _ref.border,\n      _ref$columns = _ref.columns,\n      columns = _ref$columns === void 0 ? [] : _ref$columns,\n      _ref$data = _ref.data,\n      data = _ref$data === void 0 ? [] : _ref$data,\n      groupBy = _ref.groupBy,\n      onClickRow = _ref.onClickRow,\n      onMore = _ref.onMore,\n      onSearch = _ref.onSearch,\n      replace = _ref.replace,\n      pad = _ref.pad,\n      primaryKey = _ref.primaryKey,\n      resizeable = _ref.resizeable,\n      rowProps = _ref.rowProps,\n      size = _ref.size,\n      sortable = _ref.sortable,\n      _ref$step = _ref.step,\n      step = _ref$step === void 0 ? 50 : _ref$step,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"background\", \"border\", \"columns\", \"data\", \"groupBy\", \"onClickRow\", \"onMore\", \"onSearch\", \"replace\", \"pad\", \"primaryKey\", \"resizeable\", \"rowProps\", \"size\", \"sortable\", \"step\"]);\n\n  // property name of the primary property\n  var primaryProperty = useMemo(function () {\n    return normalizePrimaryProperty(columns, primaryKey);\n  }, [columns, primaryKey]); // whether or not we should show a footer\n\n  var showFooter = useMemo(function () {\n    return columns.filter(function (c) {\n      return c.footer;\n    }).length > 0;\n  }, [columns]); // what column we are actively capturing filter input on\n\n  var _useState = useState(),\n      filtering = _useState[0],\n      setFiltering = _useState[1]; // the currently active filters\n\n\n  var _useState2 = useState(initializeFilters(columns)),\n      filters = _useState2[0],\n      setFilters = _useState2[1]; // which column we are sorting on, with direction\n\n\n  var _useState3 = useState({}),\n      sort = _useState3[0],\n      setSort = _useState3[1]; // the data filtered and sorted, if needed\n\n\n  var adjustedData = useMemo(function () {\n    return filterAndSortData(data, filters, onSearch, sort);\n  }, [data, filters, onSearch, sort]); // the values to put in the footer cells\n\n  var footerValues = useMemo(function () {\n    return buildFooterValues(columns, adjustedData);\n  }, [adjustedData, columns]); // if groupBy, an array with one item per unique groupBy key value\n\n  var groups = useMemo(function () {\n    return buildGroups(columns, adjustedData, groupBy);\n  }, [adjustedData, columns, groupBy]); // an object indicating which group values are expanded\n\n  var _useState4 = useState(buildGroupState(groups, groupBy)),\n      groupState = _useState4[0],\n      setGroupState = _useState4[1]; // any customized column widths\n\n\n  var _useState5 = useState({}),\n      widths = _useState5[0],\n      setWidths = _useState5[1]; // remember that we are filtering on this property\n\n\n  var onFiltering = function onFiltering(property) {\n    return setFiltering(property);\n  }; // remember the search text we should filter this property by\n\n\n  var onFilter = function onFilter(property, value) {\n    var nextFilters = _extends({}, filters);\n\n    nextFilters[property] = value;\n    setFilters(nextFilters); // Let caller know about search, if interested\n\n    if (onSearch) onSearch(nextFilters);\n  }; // toggle the sort direction on this property\n\n\n  var onSort = function onSort(property) {\n    return function () {\n      var ascending = sort && property === sort.property ? !sort.ascending : true;\n      setSort({\n        property: property,\n        ascending: ascending\n      });\n    };\n  }; // toggle whether the group is expanded\n\n\n  var onToggleGroup = function onToggleGroup(groupValue) {\n    return function () {\n      var nextGroupState = _extends({}, groupState);\n\n      nextGroupState[groupValue] = _extends({}, nextGroupState[groupValue], {\n        expanded: !nextGroupState[groupValue].expanded\n      });\n      setGroupState(nextGroupState);\n\n      if (groupBy.onExpand) {\n        var expandedKeys = Object.keys(nextGroupState).filter(function (k) {\n          return nextGroupState[k].expanded;\n        });\n        groupBy.onExpand(expandedKeys);\n      }\n    };\n  }; // toggle whether all groups are expanded\n\n\n  var onToggleGroups = function onToggleGroups() {\n    var expanded = Object.keys(groupState).filter(function (k) {\n      return !groupState[k].expanded;\n    }).length === 0;\n    var nextGroupState = {};\n    Object.keys(groupState).forEach(function (k) {\n      nextGroupState[k] = _extends({}, groupState[k], {\n        expanded: !expanded\n      });\n    });\n    setGroupState(nextGroupState);\n\n    if (groupBy.onExpand) {\n      var expandedKeys = Object.keys(nextGroupState).filter(function (k) {\n        return nextGroupState[k].expanded;\n      });\n      groupBy.onExpand(expandedKeys);\n    }\n  }; // remember the width this property's column should be\n\n\n  var onResize = function onResize(property) {\n    return function (width) {\n      var nextWidths = _extends({}, widths);\n\n      nextWidths[property] = width;\n      setWidths(nextWidths);\n    };\n  };\n\n  if (size && resizeable) {\n    console.warn('DataTable cannot combine \"size\" and \"resizeble\".');\n  }\n\n  return React.createElement(StyledDataTable, rest, React.createElement(Header, {\n    background: normalizeProp(background, 'header'),\n    border: normalizeProp(border, 'header'),\n    columns: columns,\n    filtering: filtering,\n    filters: filters,\n    groups: groups,\n    groupState: groupState,\n    pad: normalizeProp(pad, 'header'),\n    size: size,\n    sort: sort,\n    widths: widths,\n    onFiltering: onFiltering,\n    onFilter: onFilter,\n    onResize: resizeable ? onResize : undefined,\n    onSort: sortable ? onSort : undefined,\n    onToggle: onToggleGroups\n  }), groups ? React.createElement(GroupedBody, {\n    background: normalizeProp(background, 'body'),\n    border: normalizeProp(border, 'body'),\n    columns: columns,\n    groupBy: groupBy.property ? groupBy.property : groupBy,\n    groups: groups,\n    groupState: groupState,\n    pad: normalizeProp(pad, 'body'),\n    primaryProperty: primaryProperty,\n    onToggle: onToggleGroup,\n    size: size\n  }) : React.createElement(Body, {\n    background: normalizeProp(background, 'body'),\n    border: normalizeProp(border, 'body'),\n    columns: columns,\n    data: adjustedData,\n    onMore: onMore,\n    replace: replace,\n    onClickRow: onClickRow,\n    pad: normalizeProp(pad, 'body'),\n    primaryProperty: primaryProperty,\n    rowProps: rowProps,\n    size: size,\n    step: step\n  }), showFooter && React.createElement(Footer, {\n    background: normalizeProp(background, 'footer'),\n    border: normalizeProp(border, 'footer'),\n    columns: columns,\n    footerValues: footerValues,\n    groups: groups,\n    pad: normalizeProp(pad, 'footer'),\n    primaryProperty: primaryProperty,\n    size: size\n  }));\n};\n\nvar DataTableDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  DataTableDoc = require('./doc').doc(DataTable);\n}\n\nvar DataTableWrapper = DataTableDoc || DataTable;\nexport { DataTableWrapper as DataTable };"]},"metadata":{},"sourceType":"module"}